{
  "HeaderInfo": {
    "AssemblyVersion": "1.4.1.1",
    "BaseSiteId": 253089,
    "Server": "http://192.168.10.67",
    "CreatorName": "Administrator",
    "PackageTime": "2026-01-06T16:04:55.0239625+00:00",
    "Convertors": [
      {
        "SiteId": 253089,
        "SiteTitle": "実績一覧",
        "ReferenceType": "Results",
        "IncludeData": false
      }
    ],
    "IncludeSitePermission": true,
    "IncludeRecordPermission": true,
    "IncludeColumnPermission": true,
    "IncludeNotifications": true,
    "IncludeReminders": true
  },
  "Sites": [
    {
      "TenantId": 1,
      "SiteId": 253089,
      "Title": "実績一覧",
      "SiteName": "",
      "SiteGroupName": "",
      "Body": "",
      "GridGuide": "",
      "EditorGuide": "",
      "CalendarGuide": "",
      "CrosstabGuide": "",
      "GanttGuide": "",
      "BurnDownGuide": "",
      "TimeSeriesGuide": "",
      "AnalyGuide": "",
      "KambanGuide": "",
      "ImageLibGuide": "",
      "ReferenceType": "Results",
      "ParentId": 253088,
      "InheritPermission": 253088,
      "SiteSettings": {
        "Version": 1.017,
        "ReferenceType": "Results",
        "Styles": [
          {
            "Title": "【表示制御】イベント実績画面スタイル",
            "Index": true,
            "Body": "@charset \"UTF-8\";\n/* ===================\n    色定義\n==================*/\n/* ===================\n    縦スペース定義\n==================*/\n/* ===================\n    横スペース定義\n==================*/\n/* ===================\n    テキストサイズ定義\n==================*/\n.sdt-achievements {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background-color: #F2F2F2;\n  z-index: 705;\n}\n.sdt-achievements .sdt-achievements-wrap {\n  position: relative;\n  display: block;\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n  background-color: #F2F2F2;\n}\n.sdt-achievements .sdt-achievements-title {\n  margin: 0;\n}\n.sdt-achievements .sdt-achievements-title__text {\n  font-weight: bold;\n  font-size: 1.2em;\n}\n.sdt-achievements .sdt-achievements-form {\n  margin-top: 20px;\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form {\n    margin-top: 15px;\n  }\n}\n.sdt-achievements .sdt-achievements-form__area {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  padding-top: 20px;\n  padding-left: 20px;\n  padding-right: 20px;\n  padding-bottom: 20px;\n  border-radius: 10px;\n  background-color: #fff;\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form__area {\n    padding-top: 15px;\n  }\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form__area {\n    padding-left: 15px;\n  }\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form__area {\n    padding-right: 15px;\n  }\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form__area {\n    padding-bottom: 15px;\n  }\n}\n.sdt-achievements .sdt-achievements-form .sdt-form-title {\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  margin-bottom: 12px;\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form .sdt-form-title {\n    margin-bottom: 9px;\n  }\n}\n.sdt-achievements .sdt-achievements-form .sdt-form-box {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  min-width: 30%;\n  max-width: 33%;\n  height: 30px;\n  padding-right: 12px;\n  margin-bottom: 12px;\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form .sdt-form-box {\n    padding-right: 9px;\n  }\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form .sdt-form-box {\n    margin-bottom: 9px;\n  }\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form .sdt-form-box {\n    min-width: 100%;\n    max-width: 100%;\n  }\n}\n.sdt-achievements .sdt-achievements-form .sdt-form-label {\n  position: relative;\n  min-width: 180px;\n  height: auto;\n}\n.sdt-achievements .sdt-achievements-form .sdt-form-inputArea {\n  width: calc(100% - 180px);\n  height: 100%;\n}\n.sdt-achievements .sdt-achievements-form .sdt-input {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  padding-left: 12px;\n  padding-right: 12px;\n  border-radius: 5px;\n  border: none;\n  box-shadow: 0 0 0 1px #78818F inset;\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  font-size: 14px;\n  background-color: #fff;\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form .sdt-input {\n    padding-left: 9px;\n  }\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form .sdt-input {\n    padding-right: 9px;\n  }\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form .sdt-input {\n    font-size: 14px;\n  }\n}\n.sdt-achievements .sdt-achievements-form .sdt-input::-moz-placeholder {\n  color: #C4C9D0;\n}\n.sdt-achievements .sdt-achievements-form .sdt-input::placeholder {\n  color: #C4C9D0;\n}\n.sdt-achievements .sdt-achievements-form .sdt-input:focus {\n  outline: 0;\n  box-shadow: 0 0 0 2px #2F80ED inset;\n  color: #3B3B3B;\n}\n.sdt-achievements .sdt-achievements-form .sdt-input:disabled {\n  color: #C4C9D0;\n  box-shadow: 0 0 0 2px #C4C9D0 inset;\n}\n.sdt-achievements .sdt-achievements-form .sdt-input:-moz-read-only {\n  border: none;\n  outline: none;\n  box-shadow: none;\n}\n.sdt-achievements .sdt-achievements-form .sdt-input:read-only {\n  border: none;\n  outline: none;\n  box-shadow: none;\n}\n.sdt-achievements .sdt-achievements-form .sdt-input--error {\n  box-shadow: 0 0 0 1px #E80000 inset;\n}\n.sdt-achievements .sdt-achievements-form .sdt-selector {\n  position: relative;\n  width: 100%;\n}\n.sdt-achievements .sdt-achievements-form .sdt-selector:before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  width: 0;\n  height: 0;\n  right: 8px;\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n  border-top: 10px solid #C4C9D0;\n  pointer-events: none;\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form .sdt-selector:before {\n    right: 6px;\n    border-left: 5px solid transparent;\n    border-right: 5px solid transparent;\n    border-top: 8px solid #C4C9D0;\n  }\n}\n.sdt-achievements .sdt-achievements-form .sdt-selector-content {\n  width: 100%;\n  height: 30px;\n  padding: 0 38px 0 8px;\n  border-radius: 4px;\n  border: none;\n  box-shadow: 0 0 0 1px #C4C9D0 inset;\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  cursor: pointer;\n  font-size: 14px;\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form .sdt-selector-content {\n    font-size: 12px;\n    height: 30px;\n    padding: 0 25px 0 6px;\n  }\n}\n.sdt-achievements .sdt-achievements-form .sdt-selector-content:focus {\n  outline: 0;\n  box-shadow: 0 0 0 2px #2F80ED inset;\n}\n.sdt-achievements .sdt-achievements-form .sdt-form-EventNo {\n  width: 100%;\n  max-width: 100%;\n}\n.sdt-achievements .sdt-achievements-form .sdt-form-EventNo .sdt-form-inputArea {\n  width: 150px;\n}\n.sdt-achievements .sdt-achievements-form .sdt-form-Item {\n  width: 100%;\n  max-width: 100%;\n}\n.sdt-achievements .sdt-achievements-form .sdt-form-Item .sdt-form-inputArea {\n  width: 50%;\n}\n.sdt-achievements .sdt-achievements-form .sdt-form-buttonArea {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n}\n.sdt-achievements .sdt-achievements-form .sdt-form-buttonArea .sdt-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  min-width: 50px;\n  max-width: 100%;\n  height: 30px;\n  border-radius: 5px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  padding-left: 20px;\n  padding-right: 20px;\n  margin-left: 20px;\n  background-color: #2F80ED;\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form .sdt-form-buttonArea .sdt-button {\n    padding-top: 9px;\n  }\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form .sdt-form-buttonArea .sdt-button {\n    padding-bottom: 9px;\n  }\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form .sdt-form-buttonArea .sdt-button {\n    padding-left: 15px;\n  }\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form .sdt-form-buttonArea .sdt-button {\n    padding-right: 15px;\n  }\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form .sdt-form-buttonArea .sdt-button {\n    margin-left: 15px;\n  }\n}\n.sdt-achievements .sdt-achievements-form .sdt-form-buttonArea .sdt-button__text {\n  color: #fff;\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-form .sdt-form-buttonArea .sdt-button {\n    width: 100%;\n    margin: 0 80px;\n  }\n}\n.sdt-achievements .sdt-achievements-table {\n  position: relative;\n  margin-top: 20px;\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-table {\n    margin-top: 15px;\n  }\n}\n.sdt-achievements .sdt-achievements-table__wrap {\n  position: relative;\n  width: 100%;\n  height: auto;\n  overflow: auto;\n}\n.sdt-achievements .sdt-achievements-table .sdt-table {\n  border: solid 1px #3B3B3B;\n}\n.sdt-achievements .sdt-achievements-table .sdt-table__cell {\n  padding-top: 12px;\n  padding-left: 12px;\n  padding-right: 12px;\n  padding-bottom: 12px;\n  box-sizing: border-box;\n  border-top: solid 1px #3B3B3B;\n  text-align: center;\n  vertical-align: middle;\n  background-color: #fff;\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-table .sdt-table__cell {\n    padding-top: 9px;\n  }\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-table .sdt-table__cell {\n    padding-left: 9px;\n  }\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-table .sdt-table__cell {\n    padding-right: 9px;\n  }\n}\n@media screen and (max-width: 760px) {\n  .sdt-achievements .sdt-achievements-table .sdt-table__cell {\n    padding-bottom: 9px;\n  }\n}",
            "Id": 1
          }
        ],
        "Scripts": [
          {
            "Title": "【設定】サイトID",
            "All": true,
            "Body": "",
            "Id": 1
          },
          {
            "Title": "【設定】サイトID取得",
            "All": true,
            "Body": "",
            "Id": 2
          },
          {
            "Title": "【設定】グローバル変数値",
            "All": true,
            "Body": "",
            "Id": 3
          },
          {
            "Title": "【設定】CDN読み込み_Vue",
            "All": true,
            "Disabled": true,
            "Body": "// -----------------------------\n// 1_cdn-vue-loader.js\n// - 目的: Vue (v3) を CDN から動的に読み込み、ロード完了を示すフラグを立てるスクリプト\n// - 配置/実行: Pleasanter のスクリプト設定で **最初に実行** してください。\n// - 注意: Vuetify (CSS/JS) はここでは読み込みません。Vuetify は別スクリプト（推奨）で読み込んでください。\n// -----------------------------\n\n(function(){\n  'use strict';\n\n  // --- 設定: 必要に応じてバージョンを変更してください ---\n  const VUE_CDN = {\n    js: 'https://unpkg.com/vue@3/dist/vue.global.prod.js', // Vue 3 (グローバルビルド / production)\n    // 注: development ビルドを使いたい場合は 'vue.global.js' に差し替え\n  };\n\n  // --- グローバルフラグ名: 他スクリプトはこのフラグを確認して Vue のロード完了を待ちます ---\n  const FLAG_NAME = 'PLEASANTER_VUE_LOADED';\n\n  // 既にフラグが立っている（または window.Vue が存在する）場合は何もしない\n  if (window[FLAG_NAME] || window.Vue) {\n    // Vue が既に存在する場合はフラグを立てて終了\n    window[FLAG_NAME] = true;\n    console.log('[Pleasanter][cdn-vue-loader] Vue already present — skipping load.');\n    return;\n  }\n\n  // スクリプトを一度だけ読み込むためのガード\n  if (window.__PLEASANTER_VUE_LOADING) {\n    // 既に読み込み中\n    console.log('[Pleasanter][cdn-vue-loader] Vue loading already in progress.');\n    return;\n  }\n  window.__PLEASANTER_VUE_LOADING = true;\n\n  // ヘルパー: スクリプト要素を追加してロードを待つ\n  function loadScript(url) {\n    return new Promise(function(resolve, reject){\n      const s = document.createElement('script');\n      s.type = 'text/javascript';\n      s.src = url;\n      s.async = true;\n      s.onload = function(){ resolve(url); };\n      s.onerror = function(e){ reject(new Error('Failed to load script: ' + url)); };\n      document.head.appendChild(s);\n    });\n  }\n\n  // 実処理: Vue をロードしてフラグを立てる\n  loadScript(VUE_CDN.js)\n    .then(function(){\n      // 少し待って global の Vue が定義されるのを保証（通常すぐ定義されます）\n      if (!window.Vue) {\n        // ここはほぼ通らないはずですが念のため\n        console.warn('[Pleasanter][cdn-vue-loader] Vue script loaded but window.Vue is not set yet.');\n      }\n      // フラグをセット（他スクリプトはこのフラグを待機できます）\n      window[FLAG_NAME] = true;\n      console.log('[Pleasanter][cdn-vue-loader] Vue loaded and READY.');\n      // 読み込み中フラグを解除\n      delete window.__PLEASANTER_VUE_LOADING;\n    })\n    .catch(function(err){\n      console.error('[Pleasanter][cdn-vue-loader] Error loading Vue:', err);\n      delete window.__PLEASANTER_VUE_LOADING;\n      // 明示的なフラグを立てない（false をセットする案もあります）\n    });\n\n  // 参考: 別スクリプト（Vuetify 読み込み）を作る場合は、\n  // - Vuetify の CSS と JS を読み込み、 window.PLEASANTER_VUETIFY_LOADED = true を立てる\n  // - そのスクリプトは Pleasanter 上で Vue ローダーの次に実行してください\n})();",
            "Id": 4
          },
          {
            "Title": "【設定】CDN読み込み_Vuetify",
            "All": true,
            "Disabled": true,
            "Body": "// 2_cdn-vuetify-loader.js (改良版)\n// Vue がまだ無くても安全に待ち、読み込んだら window.PLEASANTER_VUETIFY_LOADED = true を立てます\n(function () {\n  'use strict';\n\n  const FLAG_NAME = 'PLEASANTER_VUETIFY_LOADED';\n  const VUE_FLAG = 'PLEASANTER_VUE_LOADED'; // もし vue-loader が立てるなら\n\n  // 既にロード済みなら何もしない\n  if (window[FLAG_NAME]) {\n    console.log('[Pleasanter][cdn-vuetify-loader] Vuetify already loaded.');\n    return;\n  }\n\n  const VUETIFY = {\n    css: 'https://cdn.jsdelivr.net/npm/vuetify@3.3.15/dist/vuetify.min.css',\n    js:  'https://cdn.jsdelivr.net/npm/vuetify@3.3.15/dist/vuetify.min.js'\n  };\n\n  function loadCss(url) {\n    return new Promise((resolve, reject) => {\n      const link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.href = url;\n      link.onload = () => resolve(url);\n      link.onerror = () => reject(new Error('Failed to load css: ' + url));\n      document.head.appendChild(link);\n    });\n  }\n\n  function loadScript(url) {\n    return new Promise((resolve, reject) => {\n      const s = document.createElement('script');\n      s.src = url;\n      s.async = true;\n      s.onload = () => resolve(url);\n      s.onerror = () => reject(new Error('Failed to load script: ' + url));\n      document.head.appendChild(s);\n    });\n  }\n\n  // Vue が利用可能になるまで待つ（最大 waitMs）\n  function waitForVue(waitMs = 15000, interval = 100) {\n    return new Promise((resolve, reject) => {\n      const start = Date.now();\n      (function check() {\n        if (window.Vue || window[VUE_FLAG]) return resolve();\n        if (Date.now() - start > waitMs) return reject(new Error('Vue not available after ' + waitMs + 'ms'));\n        setTimeout(check, interval);\n      })();\n    });\n  }\n\n  // 実処理: Vue を待ってから Vuetify の CSS/JS を読み込む\n  (async function init() {\n    try {\n      // Vue がまだの場合は待つ（quiet: ログを出す）\n      await waitForVue(20000);\n    } catch (e) {\n      console.warn('[Pleasanter][cdn-vuetify-loader] Vue not detected within timeout, proceeding anyway. Error:', e);\n      // ここでは続行してみる — ただし Vue が本当に無ければ overlay の waitForVuetify が失敗します\n    }\n\n    try {\n      await loadCss(VUETIFY.css);\n      await loadScript(VUETIFY.js);\n\n      // 読み込み成功したらフラグを立てる\n      window[FLAG_NAME] = true;\n      console.log('[Pleasanter][cdn-vuetify-loader] Vuetify READY.');\n    } catch (err) {\n      console.error('[Pleasanter][cdn-vuetify-loader] Failed to load Vuetify:', err);\n    }\n  })();\n})();\n",
            "Id": 9
          },
          {
            "Title": "【View】ビューティファイ画面定義",
            "All": true,
            "Disabled": true,
            "Body": "// -----------------------------\n// 3_ui-overlay-flat-minimal.js (Vuetify対応 完全版)\n// - フルスクリーンの「被せ画面」テンプレート（検索フォーム + 空の表）\n// - Vue (CDN) ローダーの後、Vuetify (CDN) が利用可能になるまで待ち\n// - Pattern A: waitForVuetify() の then 内で App を定義して createApp する\n// -----------------------------\n(function () {\n  \"use strict\";\n\n  const SETTINGS = {\n    ROOT_ATTR: \"data-pleasanter-overlay-flat-min\",\n    ROOT_ID_PREFIX: \"pleasanter-overlay-flat-min-\",\n    Z_INDEX: 13000,\n    VUE_WAIT_MS: 10000,\n    DEBUG: false, // true にすると console.log が増えます\n  };\n\n  function uniqueId(prefix) {\n    return prefix + Math.random().toString(36).slice(2, 8);\n  }\n\n  // ルート要素を作る（既にあれば再利用）\n  function createRoot() {\n    const existing = document.querySelector(\"[\" + SETTINGS.ROOT_ATTR + \"]\");\n    if (existing) return existing;\n\n    const id = uniqueId(SETTINGS.ROOT_ID_PREFIX);\n    const root = document.createElement(\"div\");\n    root.id = id;\n    root.setAttribute(SETTINGS.ROOT_ATTR, \"true\");\n\n    // 全画面を完全に覆う（オーバーレイ背景もビュー側で埋める）\n    Object.assign(root.style, {\n      position: \"fixed\",\n      inset: \"0\", // top/right/bottom/left = 0\n      zIndex: String(SETTINGS.Z_INDEX),\n      display: \"flex\",\n      flexDirection: \"column\",\n      backgroundColor: \"#ffffff\",\n      pointerEvents: \"auto\",\n      fontFamily: \"Roboto, 'Noto Sans JP', sans-serif\",\n      color: \"#222\",\n    });\n\n    document.body.appendChild(root);\n    return root;\n  }\n\n  // root を削除して UI を消す（必要なら外部から呼べるように公開しても良い）\n  function removeRoot() {\n    const root = document.querySelector(\"[\" + SETTINGS.ROOT_ATTR + \"]\");\n    if (root && root.parentNode) root.parentNode.removeChild(root);\n  }\n\n  // Vue を待つ（既存）\n  function waitForVue(timeoutMs) {\n    timeoutMs = timeoutMs || SETTINGS.VUE_WAIT_MS;\n    return new Promise(function (resolve, reject) {\n      const start = Date.now();\n      (function check() {\n        if (window.Vue) return resolve(window.Vue);\n        if (Date.now() - start > timeoutMs)\n          return reject(new Error(\"Vue not available\"));\n        setTimeout(check, 80);\n      })();\n    });\n  }\n\n  // --------------------------------------------\n  // Vuetify が利用可能になるまで待つ（loader フラグ or global object をチェック）\n  // --------------------------------------------\n  function waitForVuetify(timeoutMs) {\n    timeoutMs = timeoutMs || 15000;\n    return new Promise(function (resolve, reject) {\n      const start = Date.now();\n      (function check() {\n        // loader が立てるフラグ、あるいは global オブジェクトの存在を確認\n        if (\n          window.PLEASANTER_VUETIFY_LOADED ||\n          window.Vuetify ||\n          typeof window.createVuetify === \"function\"\n        ) {\n          return resolve();\n        }\n        if (Date.now() - start > timeoutMs) {\n          return reject(new Error(\"Vuetify not available after \" + timeoutMs + \"ms\"));\n        }\n        setTimeout(check, 80);\n      })();\n    });\n  }\n\n  // --------------------------------------------\n  // メイン：Vue ロード後 → Vuetify 待ち → App 定義・マウント\n  // --------------------------------------------\n  waitForVue()\n    .then(function (VueLib) {\n      if (SETTINGS.DEBUG) console.log(\"[overlay-flat] Vue ready:\", VueLib && VueLib.version);\n\n      // Vuetify の読み込みも待つ（CSS/JSがロードされるまで）\n      return waitForVuetify().then(function () {\n        return VueLib;\n      });\n    })\n    .then(function (VueLib) {\n      // ここに到達: Vue と Vuetify のどちらかが利用可能（loaderフラグ等を考慮）\n      if (SETTINGS.DEBUG) console.log(\"[overlay-flat] Vue & Vuetify ready (or flagged ready)\");\n\n      // ルート要素確保\n      const root = createRoot();\n\n      // マウント要素を作成（root の中に入れる）\n      const appMountId = uniqueId(\"pleasanter-flat-mt-\");\n      const mountEl = document.createElement(\"div\");\n      mountEl.id = appMountId;\n      Object.assign(mountEl.style, {\n        display: \"flex\",\n        flexDirection: \"column\",\n        flex: \"1 1 auto\",\n        width: \"100%\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        padding: \"20px\",\n      });\n      root.appendChild(mountEl);\n\n      try {\n        // ========== App 定義（Pattern A: .then 内で定義） ==========\n        const App = {\n          template: `\n            <div style=\"display:flex;flex-direction:column;height:100%;\">\n              \n              <!-- ===== タイトル ===== -->\n              <div style=\"margin-bottom:12px;\">\n                <h2 style=\"margin:0;font-size:20px;font-weight:600;\">\n                  実績一覧\n                </h2>\n              </div>\n\n              <!-- ===== 検索エリア ===== -->\n              <div class=\"search-box\" style=\"border:2px solid #1976d2; padding:12px; border-radius:6px; background:#fff;\">\n\n                <!-- 1段目 -->\n                <v-row>\n                  <v-col cols=\"12\" md=\"3\">\n                    <v-text-field\n                      v-model=\"filters.number\"\n                      label=\"番号\"\n                      density=\"compact\"\n                      clearable\n                      hide-details\n                    />\n                  </v-col>\n                </v-row>\n\n                <!-- 2段目 -->\n                <v-row>\n                  <v-col cols=\"12\" md=\"3\">\n                    <v-select\n                      v-model=\"filters.category\"\n                      :items=\"selectOptions.categories\"\n                      label=\"カテゴリ\"\n                      density=\"compact\"\n                      clearable\n                      hide-details\n                    />\n                  </v-col>\n                  <v-col cols=\"12\" md=\"5\">\n                    <v-text-field\n                      v-model=\"filters.name\"\n                      label=\"名称\"\n                      density=\"compact\"\n                      clearable\n                      hide-details\n                    />\n                  </v-col>\n                  <v-col cols=\"12\" md=\"4\">\n                    <v-select\n                      v-model=\"filters.store\"\n                      :items=\"selectOptions.stores\"\n                      label=\"店舗名\"\n                      density=\"compact\"\n                      clearable\n                      hide-details\n                    />\n                  </v-col>\n                </v-row>\n\n                <!-- 3段目 -->\n                <v-row>\n                  <v-col cols=\"12\" md=\"3\">\n                    <v-text-field\n                      v-model=\"filters.yearMonth\"\n                      label=\"年月\"\n                      type=\"month\"\n                      density=\"compact\"\n                      hide-details\n                      clearable\n                    />\n                  </v-col>\n                  <v-col cols=\"12\" md=\"3\">\n                    <v-select\n                      v-model=\"filters.status\"\n                      :items=\"selectOptions.statuses\"\n                      label=\"状況\"\n                      density=\"compact\"\n                      clearable\n                      hide-details\n                    />\n                  </v-col>\n                  <v-col cols=\"12\" md=\"3\">\n                    <v-select\n                      v-model=\"filters.group\"\n                      :items=\"selectOptions.groups\"\n                      label=\"グループ\"\n                      density=\"compact\"\n                      clearable\n                      hide-details\n                    />\n                  </v-col>\n                </v-row>\n\n                <!-- 4段目 -->\n                <v-row>\n                  <v-col cols=\"12\" md=\"5\">\n                    <v-select\n                      v-model=\"filters.items\"\n                      :items=\"selectOptions.items\"\n                      label=\"品目\"\n                      multiple\n                      chips\n                      density=\"compact\"\n                      hide-details\n                      clearable\n                    />\n                  </v-col>\n                </v-row>\n\n                <!-- 5段目 -->\n                <v-row class=\"mt-2\">\n                  <v-col cols=\"12\">\n                    <v-btn variant=\"outlined\" class=\"mr-2\" @click=\"onReset\">\n                      検索条件クリア\n                    </v-btn>\n                    <v-btn color=\"primary\" @click=\"onSearch\">\n                      検索\n                    </v-btn>\n                    <span style=\"margin-left:12px;\">\n                      応答：<strong>{{ responseText }}</strong>\n                    </span>\n                  </v-col>\n                </v-row>\n\n              </div>\n              <!-- ===== 検索エリア ここまで ===== -->\n\n              <!-- ===== 一覧テーブル ===== -->\n                <div style=\"flex: 1 1 auto; overflow:auto; border-top:1px solid #eee; padding-top:12px; margin-top:12px;\">\n                  <v-data-table\n                    :items=\"tableItems\"\n                    :headers=\"computedHeaders\"\n                    :items-per-page=\"10\"\n                    class=\"elevation-1\"\n                    density=\"compact\"\n                    :sort-by=\"defaultSortBy\"\n                    item-key=\"id\"\n                  >\n                    <template #item.sales=\"{ item }\">\n                      <div style=\"text-align:right;\">{{ formatCurrency(item.sales) }}</div>\n                    </template>\n                  \n                    <template #item.startDate=\"{ item }\">\n                      <div>{{ formatDate(item.startDate) }}</div>\n                    </template>\n                    <template #item.endDate=\"{ item }\">\n                      <div>{{ formatDate(item.endDate) }}</div>\n                    </template>\n                  \n                    <template #item.details=\"{ item }\">\n                      <div style=\"white-space:pre-wrap;\">{{ item.details }}</div>\n                    </template>\n                  \n                    <template #no-data>\n                      <div style=\"padding:16px;color:#666;\">表示するデータがありません。検索ボタンで取得してください。</div>\n                    </template>\n                  </v-data-table>\n                </div>\n              <!-- ===== 一覧テーブル ここまで ===== -->\n\n            </div>\n          `,\n          setup() {\n            // Vue の Composition API を取得（waitForVue から受け取った VueLib を参照）\n            const { reactive, ref, computed, onMounted } = VueLib;\n\n            // フィールド\n            const filters = reactive({\n              number: \"\",\n              category: null,\n              name: \"\",\n              store: null,\n              yearMonth: new Date().toISOString().slice(0, 7),\n              status: null,\n              group: null,\n              items: [],\n            });\n\n            // select の選択肢（後で上書きしやすい）\n            const selectOptions = reactive({\n              categories: [],\n              stores: [],\n              statuses: [],\n              groups: [],\n              items: [],\n            });\n\n            const responseText = ref(\"未実行\");\n\n            // --- items 配列（テーブルにバインド） ---\n            // 将来的に onSearch() でサーバ/API から取得して items.value にセットする想定\n            const tableItems = ref([]);\n\n            // 検索結果一覧ヘッダ定義\n            const headers = ref([\n              { title: \"番号\",       key: \"number\",    sortable: true, align: \"start\", width: 90 },\n              { title: \"カテゴリ\",   key: \"category\",  sortable: true, width: 120 },\n              { title: \"名称\",       key: \"name\",      sortable: true, width: 220 },\n              { title: \"店舗番号\",   key: \"storeCode\", sortable: true, width: 110 },\n              { title: \"店舗名\",     key: \"storeName\", sortable: true, width: 160 },\n              { title: \"開始日\",     key: \"startDate\", sortable: true, width: 120 },\n              { title: \"終了日\",     key: \"endDate\",   sortable: true, width: 120 },\n              { title: \"状況\",       key: \"status\",    sortable: true, width: 100 },\n              { title: \"品目\",       key: \"item\",      sortable: true, width: 150 },\n              { title: \"その他詳細\", key: \"details\",   sortable: false, width: 300 },\n              { title: \"売上\",       key: \"sales\",     sortable: true, align: \"end\", width: 120 }\n            ]);\n\n            // computedHeaders を追加：どちらの形式にも対応させる\n            const computedHeaders = computed(() => {\n              return (headers.value || []).map(h => {\n                const text = h.text || h.title || h.label || \"\";\n                const value = h.value || h.key || h.name || \"\";\n                return {\n                  text: text,\n                  value: value,\n                  title: text,\n                  key: value,\n                  sortable: typeof h.sortable === \"boolean\" ? h.sortable : true,\n                  align: h.align || \"start\",\n                  width: h.width || null\n                };\n              });\n            });\n\n            // 検索結果一覧デフォルトソート（任意）\n            const defaultSortBy = ref([\"number\"]);\n\n            // 日付フォーマッタ（ISO や Date オブジェクトを受け取れるようにする）\n            // 後ほど共通処理に切り出し\n            function formatDate(val) {\n              if (!val) return \"\";\n              // 既に YYYY-MM-DD ならそのまま、あるいは Date を整形\n              if (typeof val === \"string\" && /^\\d{4}-\\d{2}-\\d{2}/.test(val)) {\n                return val.slice(0, 10);\n              }\n              const d = new Date(val);\n              if (isNaN(d.getTime())) return String(val);\n              const yyyy = d.getFullYear();\n              const mm = String(d.getMonth() + 1).padStart(2, \"0\");\n              const dd = String(d.getDate()).padStart(2, \"0\");\n              return `${yyyy}-${mm}-${dd}`;\n            }\n\n            // 売上（数値）を通貨フォーマットで表示\n            // 後ほど共通処理に切り出し\n            function formatCurrency(v) {\n              if (v === null || v === undefined || v === \"\") return \"\";\n              const n = Number(v);\n              if (isNaN(n)) return v;\n              // 日本円表記（カンマ区切り） ※必要なら通貨記号を追加\n              return n.toLocaleString(\"ja-JP\", { maximumFractionDigits: 0 });\n            }\n\n            function onSearch() {\n              try {\n                console.log(\"検索実行（filters）:\", JSON.parse(JSON.stringify(filters)));\n              } catch (e) {\n                console.log(\"検索実行（filters）:\", filters);\n              }\n              debugger;\n              // サンプルデータ（テスト用）\n              tableItems.value = [\n                {\n                  id: 1,\n                  number: \"0001\",\n                  category: \"カテゴリA\",\n                  name: \"商品A\",\n                  storeCode: \"S001\",\n                  storeName: \"東京本店\",\n                  startDate: \"2025-12-01\",\n                  endDate: \"2025-12-05\",\n                  status: \"完了\",\n                  item: \"シャンプー\",\n                  details: \"備考1\\n追加情報\",\n                  sales: 12000\n                },\n                {\n                  id: 2,\n                  number: \"0002\",\n                  category: \"カテゴリB\",\n                  name: \"商品B\",\n                  storeCode: \"S002\",\n                  storeName: \"大阪支店\",\n                  startDate: \"2025-12-03\",\n                  endDate: \"2025-12-04\",\n                  status: \"処理中\",\n                  item: \"コンディショナー\",\n                  details: \"備考2\",\n                  sales: 8500\n                }\n              ];\n            \n              // console で中身を確認（必ず出るはず）\n              console.log(\"computedHeaders:\", computedHeaders.value);\n              console.log(\"tableItems after set:\", tableItems.value);\n            \n              responseText.value = \"サンプルデータを表示\";\n            }\n\n            function onReset() {\n              filters.number = \"\";\n              filters.category = null;\n              filters.name = \"\";\n              filters.store = null;\n              filters.yearMonth = new Date().toISOString().slice(0, 7);\n              filters.status = null;\n              filters.group = null;\n              filters.items = [];\n              responseText.value = \"条件クリア\";\n              items.value = [];\n            }\n\n            // 行クリック時などのユーティリティ（必要に応じて実装）\n            function onView(item) {\n              // 例: 詳細ダイアログを開く等\n              //console.log(\"view row\", item);\n            }\n\n            onMounted(() => {\n              // 開発時に確認したければ一時選択肢を入れる（コメントアウトして利用）\n              // selectOptions.categories = ['カテゴリA','カテゴリB'];\n              // selectOptions.stores = ['本店','支店A'];\n              // selectOptions.statuses = ['未処理','処理中','完了'];\n              // selectOptions.groups = ['G1','G2'];\n              // selectOptions.items = ['品目1','品目2','品目3'];\n              console.log(\"computedHeaders:\", computedHeaders.value);\n              console.log(\"tableItems:\", tableItems.value);\n            });\n\n            debugger;\n            return {\n              // 検索条件\n              filters,\n              selectOptions,\n              responseText,\n              onSearch,\n              onReset,\n\n              // 検索結果\n              headers,\n              computedHeaders,\n              tableItems,\n              defaultSortBy,\n              formatDate,\n              formatCurrency,\n            };\n          },\n        };\n\n        // ========== Vuetify 初期化（安全に取得） ==========\n        let createVuetifyFn = null;\n\n        if (window.Vuetify && typeof window.Vuetify.createVuetify === \"function\") {\n          createVuetifyFn = window.Vuetify.createVuetify;\n        } else if (typeof window.createVuetify === \"function\") {\n          createVuetifyFn = window.createVuetify;\n        } else if (typeof window.Vuetify === \"function\") {\n          // 稀なケース: global export が直接関数になっている場合を考慮\n          createVuetifyFn = window.Vuetify;\n        }\n\n        let vuetifyInstance = null;\n        if (createVuetifyFn) {\n          try {\n            vuetifyInstance = createVuetifyFn({\n              // ここでテーマ等のオプションが指定できます\n              // theme: { defaultTheme: 'light' }\n            });\n            if (SETTINGS.DEBUG) console.log(\"[overlay-flat] createVuetifyFn used.\");\n          } catch (e) {\n            console.warn(\"[overlay-flat] createVuetifyFn threw error:\", e);\n            vuetifyInstance = null;\n          }\n        } else {\n          if (SETTINGS.DEBUG) console.warn(\"[overlay-flat] createVuetify not found on window.\");\n        }\n\n        // Vue アプリ作成・マウント\n        const app = VueLib.createApp(App);\n\n        if (vuetifyInstance) {\n          app.use(vuetifyInstance);\n        } else {\n          if (SETTINGS.DEBUG) console.warn(\"[overlay-flat] Vuetify instance not created — mounting without Vuetify.\");\n        }\n\n        app.mount(\"#\" + mountEl.id);\n\n        if (SETTINGS.DEBUG) console.log(\"[overlay-flat] mounted at #\" + mountEl.id);\n      } catch (e) {\n        console.error(\"[overlay-flat] mount failed\", e);\n        // 失敗時は root を削除して終わる（フォールバック無し）\n        removeRoot();\n      }\n    })\n    .catch(function (err) {\n      console.error(\"[overlay-flat] Vuetify load error\", err);\n      // Vuetify が使えない場合はここで plain HTML フォールバック等を行うことも可能\n    });\n})();\n",
            "Id": 5
          },
          {
            "Title": "【画面制御】",
            "All": true,
            "Disabled": true,
            "Body": "// -----------------------------\n// 2_data-processing-super-minimal.js\n// - 目的: 極小の疎通モジュール。\n// - 提供関数: window.PleasanterAppData.sendOne(value)\n//   -> Promise を返し、受け取った値をそのまま返す（将来的にここに実処理を差し替える）\n// - 注意: API 呼び出しはしない。純粋に「値を送って戻り値を受け取る」だけの見本。\n// -----------------------------\n\n(function () {\n  'use strict';\n\n  // 既に名前空間があれば上書きしない（安全）\n  if (!window.PleasanterAppData) window.PleasanterAppData = {};\n  const ns = window.PleasanterAppData;\n\n  /**\n   * sendOne\n   * - 概要: 最小の疎通関数。任意の値を受け取り、Promise でそのまま返す。\n   * - 引数: value (任意)\n   * - 戻り値: Promise -> { received: value }\n   *\n   * 使い方（UI 側の見本）:\n   *   window.PleasanterAppData.sendOne(1).then(res => { console.log(res); });\n   *\n   * 将来の差し替え例:\n   *   - 実 API を叩く場合はここを編集して fetch / $p.apiPost 等で処理を実装する\n   */\n  ns.sendOne = function (value) {\n    return new Promise(function (resolve) {\n      // 最小ログ（削除可）\n      if (console && console.log) console.log('[PleasanterAppData] sendOne called with:', value);\n\n      // そのまま返す形（疎通確認用）\n      resolve({ received: value });\n\n      // ※ 将来ここを次のように置き換えます（例、コメント）:\n      // return fetch('/api/your-endpoint', { method:'POST', body: JSON.stringify({v: value}), ... })\n      //   .then(r => r.json());\n    });\n  };\n\n  // 初期化ログ（不要なら消してください）\n  console.log('[PleasanterAppData] minimal sendOne() ready.');\n})();\n",
            "Id": 6
          },
          {
            "Title": "【表示制御】",
            "All": true,
            "Disabled": true,
            "Body": "",
            "Id": 7
          },
          {
            "Title": "【共通処理】",
            "All": true,
            "Disabled": true,
            "Body": "",
            "Id": 8
          },
          {
            "Title": "【表示制御】イベント実績初期表示設定",
            "Index": true,
            "Body": "(function ($) {\n  'use strict';\n\n  /************************************************************************\n   * 画面読み込み時に一度だけ実行するレイアウト処理\n   *\n   * 目的：\n   *  - ヘッダー（#Header）の高さを取得して、その高さ分だけ\n   *    #sdt-achievements の top をずらします（重なり防止）。\n   *  - さらに #sdt-achievements の高さを CSS の calc() を使って\n   *    calc(100% - {headerHeight}px) に設定します。これにより、\n   *    ビューポート全体の高さからヘッダー分を差し引いた高さにできます。\n   *\n   * 注意：\n   *  - この処理は「読み込み時に一度だけ実行」されます。画面サイズ変更で追従\n   *    させたい場合は下の「リサイズ追従（任意）」のコメントを参考に有効化してください。\n   *  - #sdt-achievements に top を効かせるには、その要素に適切な position（relative/absolute/fixed/sticky）\n   *    が CSS で設定されている必要があります。もし反映されない場合は CSS 側を確認してください。\n   ************************************************************************/\n\n  /**\n   * getHeaderHeight\n   * - #Header 要素の「見た目の高さ」をピクセル単位で返します。\n   * - 見た目の高さとは、実際に画面に描画された高さ（border・padding を含むサイズ）です。\n   * - 要素が見つからなければ 0 を返します（呼び出し側で扱いやすくするため）。\n   *\n   * 基本の考え方（初心者向け）：\n   *  - jQuery の .height() は「コンテンツ高さ」を返しますが、\n   *    getBoundingClientRect().height は表示上の高さ（細かい描画情報）を返すので、\n   *    見た目を合わせたい時はこちらを使うことが多いです。\n   *\n   * @returns {number} headerHeightPx - 整数ピクセル（例: 64）\n   */\n  function getHeaderHeight() {\n    // jQuery で要素を取得\n    var $header = $('#Header');\n\n    // 要素が無ければ 0 を返す（安全なフォールバック）\n    if ($header.length === 0) {\n      return 0;\n    }\n\n    // ネイティブ DOM の getBoundingClientRect() で「見た目の高さ」を取得\n    var rect = $header[0].getBoundingClientRect();\n\n    // 小数点が乗ることがあるため四捨五入して整数にする（CSS に入れやすくするため）\n    // 例: 63.4 -> 63\n    var h = Math.round(rect.height || 0);\n\n    // 負の高さなど不正値が来ないように最低限のガード\n    return (h > 0) ? h : 0;\n  }\n\n  /**\n   * buildCalcHeightCss\n   * - ヘッダーのピクセル値を受け取り、CSS の calc() 文字列を返します。\n   * - 例: px=50 -> \"calc(100% - 50px)\"\n   *\n   * @param {number} px - ヘッダー高さ（ピクセル）\n   * @returns {string} CSS の値（例: \"calc(100% - 50px)\"）\n   */\n  function buildCalcHeightCss(px) {\n    // 安全のため数値に変換してから文字列を生成\n    var n = (typeof px === 'number' && !isNaN(px)) ? px : 0;\n    return 'calc(100% - ' + String(n) + 'px)';\n  }\n\n  /**\n   * applyUpcomingEventsLayout\n   * - 実際に DOM に対して style を当てる関数（書き込みのみ）\n   * - headerHeightPx が数値で与えられたら top と height を設定します。\n   * - 要素が無ければ何もしません（無害で安全）。\n   *\n   * @param {number} headerHeightPx - ヘッダーの高さ（ピクセル）\n   */\n  function applyUpcomingEventsLayout(headerHeightPx) {\n    // 対象要素を取得\n    var $target = $('#fn-achievements');\n\n    // 要素が無ければ早期リターン（処理を止めない）\n    if ($target.length === 0) {\n      return;\n    }\n\n    // top をピクセルで設定（例: \"64px\"）\n    $target.css('top', String(headerHeightPx) + 'px');\n\n    // height を calc(100% - {headerHeight}px) に設定\n    $target.css('height', buildCalcHeightCss(headerHeightPx));\n  }\n\n  /**\n   * initUpcomingEventsLayout\n   * - 画面読み込み時に呼ばれるオーケストレーション関数\n   * - 役割: ヘッダー高さを取得して、対象要素にレイアウトを適用する（1回だけ）\n   */\n  function initUpcomingEventsLayout() {\n    // ヘッダーの高さを取得（例: 64）\n    var headerH = getHeaderHeight();\n\n    // 取得した高さを使って対象要素にスタイルを適用\n    applyUpcomingEventsLayout(headerH);\n  }\n\n  // DOMContentLoaded のタイミングで一度だけ実行する\n  document.addEventListener('DOMContentLoaded', function () {\n    try {\n      initUpcomingEventsLayout();\n    } catch (e) {\n      // エラーが出たときは開発用に console に出す（運用では消してもよい）\n      // window.force を true にすると詳細ログが出ます（デバッグ用）\n      window.force && console.error('initUpcomingEventsLayout error', e);\n    }\n  });\n\n  /* --------------------------------------------------------------------\n   * リサイズ時に高さを再計算して追従させたい場合（任意）\n   *\n   * - 画面サイズが変わるとヘッダーの高さが変化する UI がある場合は、\n   *   下のコードを有効化してください。\n   * - 最小限の実装を心がけるためデフォルトでは無効にしています。\n   *\n   * // window.addEventListener('resize', function () {\n   * //   try {\n   * //     initUpcomingEventsLayout();\n   * //   } catch (e) {\n   * //     window.force && console.error('resize initUpcomingEventsLayout error', e);\n   * //   }\n   * // });\n   * ------------------------------------------------------------------ */\n\n  /* --------------------------------------------------------------------\n   * 補足（初心者向け Q&A）\n   *\n   * Q: なぜ top を設定するだけで表示がずれるの？\n   * A: top は要素が position: absolute/fixed/sticky/relative の時に意味を持ちます。\n   *    もし #sdt-achievements に position が無い（static）場合、top は効きません。\n   *    その場合は CSS に position: relative; などを設定してください。\n   *\n   * Q: calc(100% - 50px) は何を意味するの？\n   * A: 親要素の高さやビューポート高さを基準に 100% から 50px を引いた高さを意味します。\n   *    ここでは「画面全体の高さ - ヘッダーの高さ」を意図しています。\n   *\n   * Q: この処理を手動で再実行する方法は？\n   * A: このファイルは外部公開しない方針なので直接呼べる関数は置いていません。\n   *    もし手動で呼びたい場合は initUpcomingEventsLayout を global に公開してください。\n   * ------------------------------------------------------------------ */\n\n})(jQuery);\n",
            "Id": 10
          },
          {
            "Title": "【画面処理】一覧表示処理",
            "Index": true,
            "Body": "(function ($) {\n  'use strict';\n\n  /************************************************************************\n   * achievements — 最終版\n   *\n   * 概要（非エンジニア向けの簡単な説明）\n   * - ページの「検索」ボタンを押すと、このスクリプトが実行されます。\n   * - 処理の流れ：\n   *   1) フォームの中の検索条件を読み取る\n   *   2) 読み取った条件を画面にポップアップ（alert）で表示する（APIの代替）\n   *   3) ダミーのデータを取得する（将来はここをAPIに置き換えます）\n   *   4) 取得したデータをテーブルの「テンプレート行」をもとに一覧表示する\n   *\n   * 重要な設計方針：\n   * - 関数はすべて内部に閉じています（グローバルに公開しません）\n   * - ボタンはこのスクリプトが読み込まれたあと自動で監視（バインド）します\n   * - HTMLのテンプレート行（tr.fn-tableColumn-loop）を残したまま複製して表示行を作ります\n   ************************************************************************/\n\n  /* ----------------------------------------\n   * 1) フォームから値を集める（安全に）\n   * ---------------------------------------- */\n  function collectFormValues() {\n    // 各フィールドを選んで値を取り出します。要素が無ければ空文字を返して安全にします。\n    return {\n      eventNo: $('#fn-formEventNo').length ? String($('#fn-formEventNo').val() || '') : '',\n      category: $('#fn-formCategory').length ? String($('#fn-formCategory').val() || '') : '',\n      eventName: $('#fn-formEventName').length ? String($('#fn-formEventName').val() || '') : '',\n      storeName: $('#fn-StoreName').length ? String($('#fn-StoreName').val() || '') : '',\n      dateHeld: $('#fn-formdateHeld').length ? String($('#fn-formdateHeld').val() || '') : '',\n      eventStatus: $('#fn-EventStatus').length ? String($('#fn-EventStatus').val() || '') : '',\n      group: $('#fn-formgroup').length ? String($('#fn-formgroup').val() || '') : '',\n      item: $('#fn-formItem').length ? String($('#fn-formItem').val() || '') : ''\n    };\n  }\n\n  /* ----------------------------------------\n   * 2) 画面にアラート表示（わかりやすく）\n   * ---------------------------------------- */\n  function showFormValuesAlert(values) {\n    // values が取れているか確認。無ければ簡単なメッセージ。\n    if (!values || typeof values !== 'object') {\n      alert('検索条件がありません');\n      return;\n    }\n\n    // 表示ラベルを用意（英語のキーを日本語に変換）\n    var labelMap = {\n      eventNo: 'イベント番号',\n      category: 'カテゴリ',\n      eventName: 'イベント名称・出店先',\n      storeName: '事業名・店舗名',\n      dateHeld: '開催年月',\n      eventStatus: 'イベント状況',\n      group: '主管グループ',\n      item: '取り扱い品目'\n    };\n\n    // 見やすい行リストを作る\n    var lines = [];\n    Object.keys(values).forEach(function (k) {\n      var label = labelMap[k] || k;\n      var val = values[k] || '(未指定)';\n      lines.push(label + ': ' + val);\n    });\n\n    // アラートで表示（要求通り API の代替）\n    alert(lines.join('\\n'));\n  }\n\n  /* ----------------------------------------\n   * 3) ダミーデータ取得（将来ここを API に差し替え）\n   * ---------------------------------------- */\n  function fetchAchievementsDummy(values) {\n    // 非同期風に Deferred を返す（将来の $.ajax に置き換えやすい）\n    var dfd = $.Deferred();\n\n    var dummy = [\n      {\n        eventNo: 'A-001',\n        category: 'セミナー',\n        eventName: 'JS基礎セミナー',\n        storeNo: 'S-101',\n        storeName: '渋谷店',\n        startDate: '2026/02/01',\n        endDate: '2026/02/01',\n        eventStatus: '完了',\n        item: '家電',\n        itemDetail: '冷蔵庫',\n        totalSales: '¥120,000'\n      },\n      {\n        eventNo: 'A-002',\n        category: '展示',\n        eventName: '春の展示会',\n        storeNo: 'S-202',\n        storeName: '大阪店',\n        startDate: '2026/02/15',\n        endDate: '2026/02/17',\n        eventStatus: '開催中',\n        item: '家具',\n        itemDetail: 'ソファ',\n        totalSales: '¥340,000'\n      },\n      {\n        eventNo: 'A-003',\n        category: 'ワークショップ',\n        eventName: '手作り教室',\n        storeNo: 'S-303',\n        storeName: '名古屋店',\n        startDate: '2026/03/05',\n        endDate: '2026/03/05',\n        eventStatus: '予定',\n        item: 'クラフト',\n        itemDetail: '材料セット',\n        totalSales: '¥18,000'\n      }\n    ];\n\n    // すぐ解決（非同期のふり）\n    setTimeout(function () { dfd.resolve(dummy); }, 0);\n    return dfd.promise();\n  }\n\n  /* ----------------------------------------\n   * 4) 戻り値の正規化（多次元配列や単一オブジェクトへの対応）\n   * ---------------------------------------- */\n  function normalizeItems(data) {\n    if (!data && data !== 0) return [];\n    if (!Array.isArray(data) && typeof data === 'object') {\n      return [data];\n    }\n    if (Array.isArray(data)) {\n      var isMulti = data.length > 0 && Array.isArray(data[0]);\n      if (isMulti) {\n        var flat = [];\n        data.forEach(function (el) {\n          if (Array.isArray(el)) flat = flat.concat(el);\n          else if (typeof el === 'object') flat.push(el);\n        });\n        return flat.filter(function (x) { return typeof x === 'object'; });\n      } else {\n        return data.filter(function (x) { return typeof x === 'object'; });\n      }\n    }\n    return [];\n  }\n\n  /* ----------------------------------------\n   * 5) テーブル「該当なし」行の作成\n   * ---------------------------------------- */\n  function renderNoResultsRow($tbody) {\n    var $table = $tbody.closest('table');\n    var colCount = $table.find('thead th').length || 1;\n    var $tr = $('<tr>').addClass('achievements-no-data');\n    var $td = $('<td>').attr('colspan', colCount).css({ 'text-align': 'center', padding: '12px' }).text('該当データがありません');\n    $tr.append($td);\n    $tbody.append($tr);\n  }\n\n  /* ----------------------------------------\n   * 6) テーブルへの描画（テンプレート行を使って挿入）\n   *    - ここで thead の display:none を解除する処理を追加\n   * ---------------------------------------- */\n  function renderAchievementsTable(rawData) {\n    // 正規化\n    var items = normalizeItems(rawData || []);\n\n    // tbody を見つける（HTML 構造が異なる可能性を少し考慮）\n    var $tbody = $('#sdt-achievements-table .sdt-table__body');\n    if ($tbody.length === 0) {\n      $tbody = $('#sdt-achievements-table tbody');\n      if ($tbody.length === 0) {\n        window.force && console.error('renderAchievementsTable: tbody not found');\n        return;\n      }\n    }\n\n    // テンプレート行を取得（最初の1行をテンプレートとする）\n    var $template = $tbody.children('tr.fn-tableColumn-loop').first();\n    if ($template.length === 0) {\n      $tbody.empty();\n      window.force && console.error('renderAchievementsTable: template row .fn-tableColumn-loop not found');\n      return;\n    }\n\n    // テンプレートは見えないように隠しておく（テンプレートが画面に残らないように）\n    $template.hide();\n\n    // 既存の出力行（テンプレート以外）を削除\n    $tbody.find('tr').not($template).remove();\n\n    // データが空なら「該当なし」を表示して終わり（この時ヘッダは非表示のままにしておく仕様）\n    if (!Array.isArray(items) || items.length === 0) {\n      renderNoResultsRow($tbody);\n      return;\n    }\n\n    // ここで「thead の display:none を解除」する\n    (function unhideTableHeaderIfHidden() {\n      var $table = $tbody.closest('table');\n      var $thead = $table.find('thead.sdt-table__head');\n      if ($thead.length) {\n        // インライン style に display:none が設定されている場合のみ解除する\n        var inlineDisplay = ($thead[0] && $thead[0].style) ? $thead[0].style.display : '';\n        if (inlineDisplay === 'none') {\n          // 空文字を入れることでインライン display を解除し、CSS 既定値に戻す\n          $thead.css('display', '');\n        }\n      }\n    })();\n\n    // 追加用の DocumentFragment を作る（パフォーマンス向上）\n    var fragment = document.createDocumentFragment();\n\n    // data-target -> item プロパティ名のマップ\n    var targetMap = {\n      'fn-table-eventNo': 'eventNo',\n      'fn-table-category': 'category',\n      'fn-table-eventName': 'eventName',\n      'fn-table-storeNo': 'storeNo',\n      'fn-table-storeName': 'storeName',\n      'fn-table-startDate': 'startDate',\n      'fn-table-endDate': 'endDate',\n      'fn-table-eventStatus': 'eventStatus',\n      'fn-table-item': 'item',\n      'fn-table-itemDetail': 'itemDetail',\n      'fn-table-totalSales': 'totalSales'\n    };\n\n    // items を1つずつテンプレートから clone して埋める\n    items.forEach(function (item) {\n      // クローン（テンプレートクラスを外し表示可能にする）\n      var $row = $template.clone().removeClass('fn-tableColumn-loop').show();\n\n      // data-target に基づいて各セルにテキストを入れる\n      $row.find('[data-target]').each(function () {\n        var $cell = $(this);\n        var key = $cell.attr('data-target') || '';\n        var prop = targetMap[key] || null;\n        var text = '';\n        if (prop && Object.prototype.hasOwnProperty.call(item, prop)) {\n          text = item[prop] === null || typeof item[prop] === 'undefined' ? '' : String(item[prop]);\n        }\n        // text() を使うことで HTML 注入を防ぎます（安全）\n        $cell.text(text);\n      });\n\n      // 生の DOM 要素をフラグメントに追加\n      fragment.appendChild($row.get(0));\n    });\n\n    // まとめて tbody に追加（テンプレートはそのまま残る）\n    $tbody.get(0).appendChild(fragment);\n  }\n\n  /* ----------------------------------------\n   * 7) オーケストレーション（内部で完結）\n   *    - ボタンは DOMContentLoaded 時に自動で監視を登録します（外部化しません）\n   * ---------------------------------------- */\n  function handleSearchButtonClick(evt) {\n    // フォーム内のボタンなので、既定の submit を防ぐ\n    if (evt && typeof evt.preventDefault === 'function') evt.preventDefault();\n\n    try {\n      // 1) フォーム値を取得\n      var values = collectFormValues();\n\n      // 2) 取得値を alert で表示（要件）\n      showFormValuesAlert(values);\n\n      // 3) ダミー取得（将来はここで API を呼ぶ）\n      fetchAchievementsDummy(values).done(function (resp) {\n        try {\n          // 4) 取得データをテーブルに描画\n          renderAchievementsTable(resp);\n          window.force && console.log('achievements: rendered items');\n        } catch (e) {\n          window.force && console.error('achievements: render error', e);\n        }\n      }).fail(function (err) {\n        window.force && console.error('achievements: fetch failed', err);\n      });\n    } catch (ex) {\n      window.force && console.error('achievements: unexpected error', ex);\n    }\n  }\n\n  /* ----------------------------------------\n   * 8) イベントバインド（読み込み時に一度だけ）\n   *    - HTML 側に onclick が残っている場合、重複実行を避けるため onclick 属性を削除します\n   * ---------------------------------------- */\n  document.addEventListener('DOMContentLoaded', function () {\n    try {\n      // フォーム内の「検索」ボタン（type=\"button\" のもの）をターゲットにする\n      var $btn = $('#fn-achievements-form').find('button[type=\"button\"]').first();\n\n      if ($btn.length === 0) {\n        // もし見つからなければ、フォーム内の sdt-button のうち type=\"submit\" 以外を試す（互換）\n        $btn = $('#fn-achievements-form').find('button').not('[type=\"reset\"]').first();\n      }\n\n      if ($btn.length === 0) {\n        window.force && console.error('achievements: search button not found for binding');\n        return;\n      }\n\n      // もし HTML 側に onclick 属性があれば削除して重複実行を避ける\n      if ($btn.attr('onclick')) {\n        $btn.removeAttr('onclick');\n      }\n\n      // 既存の click ハンドラを外してからバインド（多重バインド防止）\n      $btn.off('click.achievements').on('click.achievements', handleSearchButtonClick);\n\n      // 必要なら開発時に一度自動で実行することも出来るが、\n      // 今回はユーザーの操作（ボタンクリック）を待ちます。\n    } catch (e) {\n      window.force && console.error('achievements: bind error', e);\n    }\n  });\n\n\n})(jQuery);\n",
            "Id": 11
          }
        ],
        "Htmls": [
          {
            "Title": "【表示制御】開催イベント一覧HTML",
            "PositionType": 1010,
            "Index": true,
            "Body": "        <div id=\"fn-achievements\" class=\"sdt-achievements\">\n            <!-- イベント実績一覧全体ラップ -->\n            <div class=\"sdt-achievements-wrap\">\n\n                <!-- 画面タイトル -->\n                <h2 class=\"sdt-achievements-title\">\n                    <span class=\"sdt-achievements-title__text\">イベント実績一覧</span>\n                </h2>\n\n\n                <!-- 検索フォーム -->\n                <div class=\"sdt-achievements-form\">\n                    <form id=\"fn-achievements-form\" class=\"sdt-achievements-form__area\">\n                        <p class=\"sdt-form-title\">検索条件</p>\n\n                        <!-- イベント番号 -->\n                        <div class=\"sdt-form-box sdt-form-EventNo\">\n                            <label class=\"sdt-form-label\" for=\"fn-formEventNo\">\n                                <span class=\"sdt-text\">イベント番号</span>\n                            </label>\n                            <div class=\"sdt-form-inputArea\">\n                                <input id=\"fn-formEventNo\" class=\"sdt-input\">\n                            </div>\n                        </div>\n\n                        <!-- カテゴリ -->\n                        <div class=\"sdt-form-box sdt-form-Category\">\n                            <label class=\"sdt-form-label\" for=\"fn-formCategory\">\n                                <span class=\"sdt-text\">イベント番号</span>\n                            </label>\n                            <div class=\"sdt-form-inputArea\">\n                                <div class=\"sdt-selector\">\n                                    <select id=\"fn-formCategory\" class=\"sdt-selector-content\">\n                                        <option value=\"\" disabled selected style=\"display:none;\">選択してください</option>\n                                        <option value=\"select1\">セレクト1</option>\n                                        <option value=\"select2\">セレクト2</option>\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- イベント名称・出店先 -->\n                        <div class=\"sdt-form-box sdt-form-EventName\">\n                            <label class=\"sdt-form-label\" for=\"fn-formEventName\">\n                                <span class=\"sdt-text\">イベント名称・出店先</span>\n                            </label>\n                            <div class=\"sdt-form-inputArea\">\n                                <input id=\"fn-formEventName\" class=\"sdt-input\">\n                            </div>\n                        </div>\n\n                        <!-- 事業名・店舗名 -->\n                        <div class=\"sdt-form-box sdt-form-StoreName\">\n                            <label class=\"sdt-form-label\" for=\"fn-StoreName\">\n                                <span class=\"sdt-text\">事業名・店舗名</span>\n                            </label>\n                            <div class=\"sdt-form-inputArea\">\n                                <div class=\"sdt-selector\">\n                                    <select id=\"fn-StoreName\" class=\"sdt-selector-content\">\n                                        <option value=\"\" disabled selected style=\"display:none;\">選択してください</option>\n                                        <option value=\"select1\">セレクト1</option>\n                                        <option value=\"select2\">セレクト2</option>\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- 開催年月 -->\n                        <div class=\"sdt-form-box sdt-form-dateHeld\">\n                            <label class=\"sdt-form-label\" for=\"fn-formdateHeld\">\n                                <span class=\"sdt-text\">開催年月</span>\n                            </label>\n                            <div class=\"sdt-form-inputArea\">\n                                <div class=\"sdt-selector\">\n                                    <select id=\"fn-formdateHeld\" class=\"sdt-selector-content\">\n                                        <option value=\"\" disabled selected style=\"display:none;\">選択してください</option>\n                                        <option value=\"select1\">セレクト1</option>\n                                        <option value=\"select2\">セレクト2</option>\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- イベント状況 -->\n                        <div class=\"sdt-form-box sdt-form-EventStatus\">\n                            <label class=\"sdt-form-label\" for=\"fn-EventStatus\">\n                                <span class=\"sdt-text\">イベント状況</span>\n                            </label>\n                            <div class=\"sdt-form-inputArea\">\n                                <div class=\"sdt-selector\">\n                                    <select id=\"fn-EventStatus\" class=\"sdt-selector-content\">\n                                        <option value=\"\" disabled selected style=\"display:none;\">選択してください</option>\n                                        <option value=\"select1\">セレクト1</option>\n                                        <option value=\"select2\">セレクト2</option>\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- 主管グループ -->\n                        <div class=\"sdt-form-box sdt-form-group\">\n                            <label class=\"sdt-form-label\" for=\"fn-formgroup\">\n                                <span class=\"sdt-text\">主管グループ</span>\n                            </label>\n                            <div class=\"sdt-form-inputArea\">\n                                <div class=\"sdt-selector\">\n                                    <select id=\"fn-formgroup\" class=\"sdt-selector-content\">\n                                        <option value=\"\" disabled selected style=\"display:none;\">選択してください</option>\n                                        <option value=\"select1\">セレクト1</option>\n                                        <option value=\"select2\">セレクト2</option>\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- 取り扱い品目 -->\n                        <div class=\"sdt-form-box sdt-form-Item\">\n                            <label class=\"sdt-form-label\" for=\"fn-formItem\">\n                                <span class=\"sdt-text\">取り扱い品目</span>\n                            </label>\n                            <div class=\"sdt-form-inputArea\">\n                                <div class=\"sdt-selector\">\n                                    <select id=\"fn-formItem\" class=\"sdt-selector-content\">\n                                        <option value=\"\" disabled selected style=\"display:none;\">選択してください</option>\n                                        <option value=\"select1\">セレクト1</option>\n                                        <option value=\"select2\">セレクト2</option>\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- 検索実行 -->\n                        <div class=\"sdt-form-buttonArea\">\n                            <button class=\"sdt-button\" type=\"reset\">\n                                <span class=\"sdt-button__text\">検索条件クリア</span>\n                            </button>\n                            <!-- 修正後 -->\n                            <button class=\"sdt-button\" type=\"button\" onclick=\"achievementsFormAction()\">\n                                <span class=\"sdt-button__text\">検索</span>\n                            </button>\n                        </div>\n                    </form>\n                </div>\n\n\n                <!-- 一覧テーブル -->\n                <div id=\"sdt-achievements-table\" class=\"sdt-achievements-table\">\n\n                    <div class=\"sdt-achievements-table__wrap\">\n                        <table class=\"sdt-table\">\n                            <thead class=\"sdt-table__head\" style=\"display:none;\">\n                                <tr class=\"sdt-table__row\">\n                                    <th class=\"sdt-table__cell sdt-table__cell-haed\" style=\"min-width:150px;\">イベント番号</th>\n                                    <th class=\"sdt-table__cell sdt-table__cell-haed\" style=\"min-width:100px;\">カテゴリ</th>\n                                    <th class=\"sdt-table__cell sdt-table__cell-haed\" style=\"min-width:200px;\">イベント名・出店先</th>\n                                    <th class=\"sdt-table__cell sdt-table__cell-haed\" style=\"min-width:100px;\">店舗番号</th>\n                                    <th class=\"sdt-table__cell sdt-table__cell-haed\" style=\"min-width:200px;\">事業名・店舗名</th>\n                                    <th class=\"sdt-table__cell sdt-table__cell-haed\" style=\"min-width:200px;\">開始日</th>\n                                    <th class=\"sdt-table__cell sdt-table__cell-haed\" style=\"min-width:200px;\">終了日</th>\n                                    <th class=\"sdt-table__cell sdt-table__cell-haed\" style=\"min-width:200px;\">イベント状況</th>\n                                    <th class=\"sdt-table__cell sdt-table__cell-haed\" style=\"min-width:200px;\">取り扱い品目</th>\n                                    <th class=\"sdt-table__cell sdt-table__cell-haed\" style=\"min-width:200px;\">品目その他詳細</th>\n                                    <th class=\"sdt-table__cell sdt-table__cell-haed\" style=\"min-width:200px;\">総売上</th>\n                                </tr>\n                            </thead>\n                            <!-- ループ開始 -->\n                            <tbody class=\"sdt-table__body\">\n                                <tr class=\"sdt-table__row fn-tableColumn-loop\" style=\"display:none;\">\n                                    <td class=\"sdt-table__cell\" data-target=\"fn-table-eventNo\">[イベント番号が入ります]</td>\n                                    <td class=\"sdt-table__cell\" data-target=\"fn-table-category\">[カテゴリが入ります]</td>\n                                    <td class=\"sdt-table__cell\" data-target=\"fn-table-eventName\">[イベント名が入ります]</td>\n                                    <td class=\"sdt-table__cell\" data-target=\"fn-table-storeNo\">[店舗番号が入ります]</td>\n                                    <td class=\"sdt-table__cell\" data-target=\"fn-table-storeName\">[事業名・店舗名が入ります]</td>\n                                    <td class=\"sdt-table__cell\" data-target=\"fn-table-startDate\">[開始日が入ります]</td>\n                                    <td class=\"sdt-table__cell\" data-target=\"fn-table-endDate\">[終了日が入ります]</td>\n                                    <td class=\"sdt-table__cell\" data-target=\"fn-table-eventStatus\">[イベント状況が入ります]</td>\n                                    <td class=\"sdt-table__cell\" data-target=\"fn-table-item\">[取り扱い品目が入ります]</td>\n                                    <td class=\"sdt-table__cell\" data-target=\"fn-table-itemDetail\">[品目その他詳細が入ります]</td>\n                                    <td class=\"sdt-table__cell\" data-target=\"fn-table-totalSales\">[総売上が入ります]</td>\n                                </tr>\n                            </tbody>\n                            <!-- ループ終了 -->\n                        </table>\n                    </div>\n                </div>\n            </div>\n        </div>",
            "Id": 1
          }
        ],
        "NoDisplayIfReadOnly": false
      },
      "Publish": false,
      "DisableCrossSearch": false,
      "Comments": []
    }
  ],
  "Data": [],
  "Permissions": [
    {
      "SiteId": 253089,
      "Permissions": []
    }
  ],
  "PermissionIdList": {
    "DeptIdList": [],
    "GroupIdList": [],
    "UserIdList": []
  }
}