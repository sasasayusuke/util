# 「支援時期」「契約期間」表記統一テスト仕様書

## 📋 概要

FO・BO各画面および通知における「支援時期」「契約期間」表記を「支援期間」に統一する修正のテスト仕様書です。
表記の混在による混乱を解消し、システム全体で一貫した用語使用を実現します。

### 現在の実装状況
- **「支援時期」**: FO・BOの言語ファイルに4箇所存在（主にマスターカルテ関連）
- **「契約期間」**: システム内に該当箇所なし
- **「支援期間」**: 既に28ファイルで広く使用されている標準表記

---

## 🔍 要件と現在実装の差異

| 項目 | 修正対象 | 現在の表記 | 修正後の表記 | ファイル位置 |
|------|----------|-----------|-------------|-------------|
| **FO: 次回プログラムスケジュール** | ✅ | 支援時期 | 支援期間 | `FO/lang/ja.json:1829` |
| **FO: スケジュールラベル** | ✅ | 支援時期 | 支援期間 | `FO/lang/ja.json:1850` |
| **FO: 継続提案説明文** | ✅ | 継続提案における支援時期を記載 | 継続提案における支援期間を記載 | `FO/lang/ja.json:1867` |
| **BO: 次回プログラムスケジュール** | ✅ | 支援時期 | 支援期間 | `BO/lang/ja.json:2746` |
| **契約期間** | ❌ | - | - | 該当箇所なし |

### 修正対象外（要件による除外）
| 項目 | 現在の表記 | 理由 |
|------|-----------|------|
| **案件詳細画面** | 支援開始日・支援終了日（支援期間） | 要件により修正不要 |
| **マスターカルテ次期支援の支援時期** | ❓要確認 | 要件では修正不要とあるが、実際は修正対象の可能性 |

---

## 🎯 テスト目的

1. **表記統一確認**: 全ての「支援時期」が「支援期間」に変更されることを確認
2. **除外項目確認**: 修正対象外の項目が変更されていないことを確認
3. **画面表示確認**: 変更後の表記が正しく画面に反映されることを確認
4. **多言語対応確認**: 日本語表記の変更が適切に反映されることを確認
5. **機能影響確認**: 表記変更が既存機能に影響を与えないことを確認

---

## 👥 テスト実施可能ロール

| ロール | 日本語名 | マスターカルテ閲覧 | テスト実施推奨 | 備考 |
|--------|----------|-------------------|----------------|------|
| **system_admin** | システム管理者 | ✅ | ✅ | 全権限・推奨 |
| **business_mgr** | 事業責任者 | ✅ | ✅ | 全画面アクセス可 |
| **supporter_mgr** | 支援者責任者 | ✅ | ✅ | 主要画面確認可 |
| **supporter** | 支援者 | ✅ | ✅ | FO画面確認可 |
| **sales** | 営業担当者 | ✅ | ⭕ | 限定的確認 |
| **customer** | 顧客 | ❌ | ❌ | マスターカルテ非表示 |

---

## 📊 テスト前準備（データ作成手順）

### STEP 1: テスト用ユーザー作成

#### 1-1. システム管理者（system_admin）の作成
```
必要データ:
- ユーザーID: test-admin-label-001
- 名前: 表記統一テスト管理者
- メールアドレス: label-admin@example.com
- ロール: system_admin
```

#### 1-2. 支援者（supporter）の作成
```
必要データ:
- ユーザーID: test-supporter-label-001
- 名前: 表記統一テスト支援者
- メールアドレス: label-supporter@example.com
- ロール: supporter
```

### STEP 2: テスト用プロジェクト作成

```
必要データ:
- プロジェクトID: test-project-label-001
- プロジェクト名: 表記統一テストプロジェクト
- 顧客名: テストラベル株式会社
- 支援開始日: 2024/01/01
- 支援終了日: 2024/12/31
```

### STEP 3: テスト用マスターカルテ作成

```
必要データ:
- マスターカルテ用プロジェクトを作成
- 次回プログラム情報を含むマスターカルテデータ
- 継続提案情報を含むデータ
```

---

## 🧪 テストケース詳細

### 【テストケース TC-LABEL-001】FO画面 - マスターカルテ次回プログラム表記確認

#### 実施ロール: supporter（支援者）

#### 手順:
1. **FO画面にsupporterでログイン**
   - URL: `/`
   - 期待結果: ログイン成功、HOME画面表示

2. **マスターカルテ詳細画面にアクセス**
   - 操作: ヘッダー → プロジェクト → マスターカルテ詳細
   - URL: `/master-karte/{projectId}`
   - 期待結果: マスターカルテ詳細画面が表示される

3. **「基本情報」セクションの表記を確認**
   - 確認項目: 次回プログラムのスケジュール欄
   - **修正前**: 「支援時期」と表示
   - **修正後**: 「支援期間」と表示
   - 期待結果: ✅ 「支援期間」と表示される

4. **現在プログラムと次回プログラムの表示切り替え確認**
   - 操作: 現在/次回プログラムの切り替えタブをクリック
   - 確認項目: 両方のタブで「支援期間」表記になっているか
   - 期待結果: ✅ 一貫して「支援期間」と表示される

#### 判定基準:
- ✅ **PASS**: 全ての該当箇所で「支援期間」と表示される
- ❌ **FAIL**: 「支援時期」が残っている、または表示が崩れる

---

### 【テストケース TC-LABEL-002】FO画面 - 継続提案スケジュール説明文確認

#### 実施ロール: supporter（支援者）

#### 手順:
1. **マスターカルテ編集画面にアクセス**
   - 前提: TC-LABEL-001の続き
   - 操作: 「編集」ボタンをクリック
   - 期待結果: 編集モードになる

2. **継続提案セクションの説明文を確認**
   - 確認項目: スケジュール入力欄の説明文
   - **修正前**: 「継続提案における支援時期を記載」
   - **修正後**: 「継続提案における支援期間を記載」
   - 期待結果: ✅ 「支援期間」を含む説明文が表示される

3. **ツールチップやヘルプテキストの確認**
   - 操作: 該当フィールドのヘルプアイコンにマウスオーバー
   - 確認項目: ツールチップ内の表記
   - 期待結果: ✅ 「支援期間」で統一されている

#### 判定基準:
- ✅ **PASS**: 説明文・ヘルプテキストが正しく変更されている
- ❌ **FAIL**: 旧表記が残っている、または日本語が不自然

---

### 【テストケース TC-LABEL-003】BO画面 - マスターカルテ次回プログラム表記確認

#### 実施ロール: system_admin（システム管理者）

#### 手順:
1. **BO画面にsystem_adminでログイン**
   - URL: `/bo/`
   - 期待結果: BO管理画面にログイン成功

2. **マスターカルテ詳細画面にアクセス**
   - 操作: ヘッダー → マスターカルテ管理 → 詳細
   - URL: `/master-karte/{projectId}`
   - 期待結果: BOのマスターカルテ詳細画面が表示される

3. **次回プログラムスケジュール欄の表記確認**
   - 確認項目: 次回プログラムのスケジュールラベル
   - **修正前**: 「支援時期」
   - **修正後**: 「支援期間」
   - 期待結果: ✅ 「支援期間」と表示される

4. **FOとBOの表記一貫性確認**
   - 確認項目: FO画面と同じ表記になっているか
   - 期待結果: ✅ FO・BO両方で「支援期間」に統一

#### 判定基準:
- ✅ **PASS**: BO画面でも正しく「支援期間」と表示される
- ❌ **FAIL**: BOとFOで表記が異なる

---

### 【テストケース TC-LABEL-004】修正対象外項目の確認

#### 実施ロール: system_admin（システム管理者）

#### 手順:
1. **案件詳細画面にアクセス**
   - 操作: ヘッダー → 案件管理 → 案件詳細
   - URL: `/project/{projectId}`
   - 期待結果: 案件詳細画面が表示される

2. **「支援開始日・支援終了日（支援期間）」ラベルを確認**
   - 確認項目: 該当ラベルが変更されていないこと
   - 期待結果: ✅ 「支援開始日・支援終了日（支援期間）」のまま
   - 注意: このラベルは修正対象外

3. **案件変更画面でも同様に確認**
   - 操作: 「編集」ボタンをクリック
   - 確認項目: 編集画面でも同じラベルが維持されている
   - 期待結果: ✅ 変更されていない

#### 判定基準:
- ✅ **PASS**: 修正対象外項目が変更されていない
- ❌ **FAIL**: 対象外項目も変更されてしまっている

---

### 【テストケース TC-LABEL-005】案件一覧画面の表記確認

#### 実施ロール: supporter（支援者）

#### 手順:
1. **案件一覧画面にアクセス**
   - 操作: ヘッダー → 案件管理
   - URL: `/project/list`
   - 期待結果: 案件一覧画面が表示される

2. **検索フィルターの表記確認**
   - 確認項目: 期間検索フィルターのラベル
   - 期待結果: ✅ 「支援期間」と表示される（既に実装済み）

3. **一覧テーブルのヘッダー確認**
   - 確認項目: テーブルカラムヘッダーの表記
   - 期待結果: ✅ 「支援期間」で統一されている

4. **ソート・フィルター機能の動作確認**
   - 操作: 支援期間でソート・フィルター実行
   - 期待結果: ✅ 機能が正常に動作する

#### 判定基準:
- ✅ **PASS**: 表記統一後も機能が正常動作
- ❌ **FAIL**: 表記変更により機能に影響

---

### 【テストケース TC-LABEL-006】多言語切り替え確認

#### 実施ロール: supporter（支援者）

#### 手順:
1. **言語設定を英語に変更**
   - 操作: プロフィール → 言語設定 → English
   - 期待結果: 画面が英語表示になる

2. **英語表記の確認**
   - 確認項目: 該当箇所の英語表記
   - 注意: 英語では元々統一されているはず
   - 期待結果: ✅ 適切な英語表記

3. **日本語に戻して再確認**
   - 操作: 言語設定 → 日本語
   - 確認項目: 「支援期間」表記が維持されている
   - 期待結果: ✅ 正しく日本語表記される

#### 判定基準:
- ✅ **PASS**: 言語切り替えが正常動作
- ❌ **FAIL**: 言語切り替えで表示エラー

---

### 【テストケース TC-LABEL-007】レスポンシブ表示確認

#### 実施ロール: supporter（支援者）

#### 手順:
1. **PC画面での表示確認**
   - 画面サイズ: 1920x1080
   - 確認項目: 「支援期間」が正しく表示される
   - 期待結果: ✅ レイアウト崩れなし

2. **タブレット画面での表示確認**
   - 画面サイズ: 768x1024
   - 確認項目: 文字の折り返しや省略表示
   - 期待結果: ✅ 適切に表示される

3. **スマートフォン画面での表示確認**
   - 画面サイズ: 375x667
   - 確認項目: 狭い画面でも読みやすい
   - 期待結果: ✅ 表記変更による表示崩れなし

#### 判定基準:
- ✅ **PASS**: 全画面サイズで適切に表示
- ❌ **FAIL**: 特定サイズで表示崩れ

---

## 📋 テスト実施チェックリスト

### 表記変更確認
- [ ] TC-LABEL-001: FO - マスターカルテ次回プログラム表記
- [ ] TC-LABEL-002: FO - 継続提案スケジュール説明文
- [ ] TC-LABEL-003: BO - マスターカルテ次回プログラム表記
- [ ] TC-LABEL-004: 修正対象外項目の確認
- [ ] TC-LABEL-005: 案件一覧画面の表記確認
- [ ] TC-LABEL-006: 多言語切り替え確認
- [ ] TC-LABEL-007: レスポンシブ表示確認

### 影響範囲確認
- [ ] 既存機能への影響なし
- [ ] データベース値への影響なし
- [ ] API応答への影響なし
- [ ] メール通知への影響なし

---

## 🚨 既知の修正箇所

| ファイル | 行番号 | 修正前 | 修正後 |
|----------|--------|--------|--------|
| **FO/lang/ja.json** | 1829 | `"scheduleNextProgram": "支援時期"` | `"scheduleNextProgram": "支援期間"` |
| **FO/lang/ja.json** | 1850 | `"schedule": "支援時期"` | `"schedule": "支援期間"` |
| **FO/lang/ja.json** | 1867 | `"継続提案における支援時期を記載"` | `"継続提案における支援期間を記載"` |
| **BO/lang/ja.json** | 2746 | `"scheduleNextProgram": "支援時期"` | `"scheduleNextProgram": "支援期間"` |

---

## 🎯 テスト完了判定基準

### ✅ 全テストPASS条件
1. **全ての「支援時期」が「支援期間」に変更されている**
2. **修正対象外項目は変更されていない**
3. **既存機能に影響がない**
4. **多言語対応が正常動作**
5. **全画面サイズで表示崩れがない**

### ⚠️ 注意事項
1. **「契約期間」は元々システムに存在しないため、テスト不要**
2. **マスターカルテ次期支援の「支援時期」は要件確認が必要**
3. **言語ファイルの変更のみで、ロジック変更は不要**

---

## 📊 テスト工数見積もり

| テスト項目 | 所要時間 | 備考 |
|-----------|----------|------|
| **データ準備** | 30分 | ユーザー・プロジェクト作成 |
| **機能テスト** | 60分 | 7テストケース実施 |
| **影響確認** | 30分 | 既存機能の動作確認 |
| **合計** | 2時間 | |

---

## 📞 問題発生時の連絡先

- **システム管理者**: [連絡先]
- **開発チーム**: [連絡先]
- **言語・翻訳担当**: [連絡先]

---

*このテスト仕様書は、システム全体の表記統一による一貫性向上とユーザビリティ改善を目的としています。*
*言語ファイルの修正のみで実現可能な軽微な変更ですが、影響範囲の確認は慎重に行ってください。*