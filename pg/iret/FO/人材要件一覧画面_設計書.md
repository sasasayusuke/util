# 人材要件一覧画面 設計書

## 関連課題

* （新規作成のため関連課題なし）

## 機能概要

プロジェクト（案件）に紐づく人材要件の一覧を表示する画面。法人ソルバーが登録した人材要件を確認し、詳細画面へ遷移することができる。

## 画面デザイン

※詳細な画面デザインは別途デザインファイルを参照

## 利用可能権限

| ロール | 条件 |
|--------|------|
| 管理者（Admin） | 全機能利用可能 |
| 法人ソルバー | 自社に関連する人材要件のみ参照可能 |
| 個人ソルバー | アクセス不可 |
| 一般ユーザー | アクセス不可 |

## 項目定義

| 画面項目名 | サイト表記 | 項目種別 | I/O | データ型 | 必須 | 上限 | 初期値 | プレースホルダー | 入力制約 | 備考 |
|------------|------------|----------|-----|----------|------|------|--------|------------------|----------|------|
| 案件コード | 案件コード | テキスト | O | string | - | - | - | - | - | NPFから自動取得 |
| 案件名 | 案件名 | テキスト | O | string | - | - | - | - | - | |
| 顧客名 | 顧客名 | テキスト | O | string | - | - | - | - | - | |
| 要件概要 | 要件概要 | テキスト | O | string | - | 100 | - | - | - | 省略表示 |
| 必要人数 | 必要人数 | 数値 | O | number | - | - | - | - | - | X名形式で表示 |
| 期間 | 期間 | テキスト | O | string | - | - | - | - | - | 開始日〜終了日 |
| ステータス | ステータス | テキスト | O | string | - | - | - | - | - | 募集中/選定中/完了 |
| 登録日 | 登録日 | 日付 | O | date | - | - | - | - | - | YYYY/MM/DD形式 |
| 更新日 | 更新日 | 日付 | O | date | - | - | - | - | - | YYYY/MM/DD形式 |

## バリデーション

| 画面項目名 | チェック場所 | チェック内容 | エラーメッセージ | 備考 |
|------------|--------------|--------------------------|--------------------------|---------|
| - | - | - | - | 一覧表示のため入力項目なし |

* F：フロントエンド
* B：バックエンド

## リンク・ボタン項目

| ボタン・リンク名 | サイト表記 | 項目種別 | 遷移先 | 初期状態（活性・非活性） | 備考 |
|------------------|------------|----------|--------|-------------------------|------|
| 詳細 | 詳細 | リンク | 人材要件詳細画面 | 活性 | 各行に表示 |
| 新規登録 | 新規登録 | ボタン | 人材要件登録画面 | 活性 | 権限により表示制御 |
| 検索 | 検索 | ボタン | - | 活性 | 画面内検索 |
| クリア | クリア | ボタン | - | 活性 | 検索条件クリア |
| ページネーション | 1 2 3... | リンク | - | 活性 | 10件/ページ |

## イベント定義

| イベント | 処理概要 | 異常時の処理 | 備考 |
|----------|----------|--------------|------|
| 画面初期表示 | 人材要件一覧をAPIから取得し表示 | エラーメッセージを画面上部に表示 | ローディング表示あり |
| 詳細リンククリック | 選択した要件の詳細画面へ遷移 | - | 案件IDをパラメータで渡す |
| 検索ボタンクリック | 入力条件で一覧を絞り込み | 該当データなしメッセージ表示 | |
| ページ切り替え | 指定ページのデータを取得・表示 | エラーメッセージを画面上部に表示 | |

## 利用DB

| 場所（NPF/ PP） | テーブル名 | CRUD | 備考 |
|-----------------|------------|------|------|
| NPF | 案件マスタ | R | 案件情報の取得 |
| PP | projects | R | プロジェクト情報の参照 |
| PP | project_requirements | R | 人材要件情報の参照 |

## 利用API

- `GET /api/project-requirements`: 人材要件一覧の取得
  - クエリパラメータ: page, limit, status, keyword
  - レスポンス: 要件一覧、ページング情報

## シーケンス・フロー

1. ユーザーがメニューから「人材要件」を選択
2. 人材要件一覧画面へ遷移
3. 初期表示処理
   - ローディング表示
   - APIコール（GET /api/project-requirements）
   - 一覧データ取得
   - 画面に一覧を表示
4. 検索実行時
   - 検索条件を入力
   - 検索ボタンクリック
   - APIコール（検索条件付き）
   - 結果を画面に表示
5. 詳細画面への遷移
   - 詳細リンククリック
   - 案件IDを持って詳細画面へ遷移

---

*作成日: 2025年1月*
*バージョン: 1.0*