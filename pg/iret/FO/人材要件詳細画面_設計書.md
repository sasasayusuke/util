# 人材要件詳細画面 設計書

## 関連課題

* （新規作成のため関連課題なし）

## 機能概要

選択した人材要件の詳細情報を表示する画面。要件内容、必要スキル、期間などの詳細情報を確認し、応募ソルバー画面への遷移が可能。

## 画面デザイン

※詳細な画面デザインは別途デザインファイルを参照

## 利用可能権限

| ロール | 条件 |
|--------|------|
| 管理者（Admin） | 全機能利用可能 |
| 法人ソルバー | 自社に関連する人材要件のみ参照可能 |
| 個人ソルバー | アクセス不可 |
| 一般ユーザー | アクセス不可 |

## 項目定義

| 画面項目名 | サイト表記 | 項目種別 | I/O | データ型 | 必須 | 上限 | 初期値 | プレースホルダー | 入力制約 | 備考 |
|------------|------------|----------|-----|----------|------|------|--------|------------------|----------|------|
| 案件コード | 案件コード | テキスト | O | string | - | - | - | - | - | NPFから自動取得 |
| 案件名 | 案件名 | テキスト | O | string | - | - | - | - | - | |
| 顧客名 | 顧客名 | テキスト | O | string | - | - | - | - | - | |
| プロジェクト概要 | プロジェクト概要 | テキストエリア | O | string | - | 2000 | - | - | - | |
| 要件内容 | 要件内容 | テキストエリア | O | string | - | 1000 | - | - | - | |
| 必要スキル | 必要スキル | テキストエリア | O | string | - | 1000 | - | - | - | |
| 必要人数 | 必要人数 | 数値 | O | number | - | - | - | - | - | X名形式で表示 |
| 期間 | 期間 | 日付範囲 | O | string | - | - | - | - | - | YYYY/MM/DD〜YYYY/MM/DD |
| 勤務地 | 勤務地 | テキスト | O | string | - | 200 | - | - | - | |
| 勤務形態 | 勤務形態 | テキスト | O | string | - | - | - | - | - | 常駐/リモート/ハイブリッド |
| 契約形態 | 契約形態 | テキスト | O | string | - | - | - | - | - | 準委任/請負 |
| 単価目安 | 単価目安 | テキスト | O | string | - | - | - | - | - | XX万円〜XX万円/月 |
| ステータス | ステータス | テキスト | O | string | - | - | - | - | - | 募集中/選定中/完了 |
| 登録日時 | 登録日時 | 日時 | O | datetime | - | - | - | - | - | YYYY/MM/DD HH:mm |
| 更新日時 | 更新日時 | 日時 | O | datetime | - | - | - | - | - | YYYY/MM/DD HH:mm |
| 登録者 | 登録者 | テキスト | O | string | - | - | - | - | - | |
| 現在の応募者数 | 応募者数 | 数値 | O | number | - | - | - | - | - | X名 |

## バリデーション

| 画面項目名 | チェック場所 | チェック内容 | エラーメッセージ | 備考 |
|------------|--------------|--------------------------|--------------------------|---------|
| - | - | - | - | 詳細表示のため入力項目なし |

* F：フロントエンド
* B：バックエンド

## リンク・ボタン項目

| ボタン・リンク名 | サイト表記 | 項目種別 | 遷移先 | 初期状態（活性・非活性） | 備考 |
|------------------|------------|----------|--------|-------------------------|------|
| 変更する | 変更する | ボタン | 応募ソルバー画面 | 活性 | ステータスが完了の場合は非活性 |
| 編集 | 編集 | ボタン | 人材要件編集画面 | 活性 | 権限により表示制御 |
| 削除 | 削除 | ボタン | - | 活性 | 確認ダイアログ表示、権限により表示制御 |
| 一覧へ戻る | 一覧へ戻る | リンク | 人材要件一覧画面 | 活性 | |
| 印刷 | 印刷 | ボタン | - | 活性 | ブラウザの印刷機能を呼び出し |

## イベント定義

| イベント | 処理概要 | 異常時の処理 | 備考 |
|----------|----------|--------------|------|
| 画面初期表示 | 案件IDを元に詳細情報をAPIから取得し表示 | エラーメッセージを画面上部に表示 | ローディング表示あり |
| 変更するボタンクリック | 応募ソルバー画面へ遷移 | - | 案件IDをパラメータで渡す |
| 編集ボタンクリック | 編集画面へ遷移 | - | 編集権限チェック |
| 削除ボタンクリック | 確認ダイアログ表示→削除API実行 | エラーメッセージを画面上部に表示 | 削除後は一覧画面へ遷移 |
| 一覧へ戻るクリック | 人材要件一覧画面へ遷移 | - | |

## 利用DB

| 場所（NPF/ PP） | テーブル名 | CRUD | 備考 |
|-----------------|------------|------|------|
| NPF | 案件マスタ | R | 案件情報の取得 |
| PP | projects | R | プロジェクト詳細情報の参照 |
| PP | project_requirements | RD | 人材要件情報の参照・削除 |
| PP | solver_applications | R | 応募者数のカウント |

## 利用API

- `GET /api/project-requirements/{requirementId}`: 人材要件詳細の取得
  - パスパラメータ: requirementId
  - レスポンス: 要件詳細情報、関連プロジェクト情報
- `DELETE /api/project-requirements/{requirementId}`: 人材要件の削除
  - パスパラメータ: requirementId
  - レスポンス: 削除結果

## シーケンス・フロー

1. 一覧画面から詳細リンクをクリック
2. 人材要件詳細画面へ遷移（要件IDを受け取る）
3. 初期表示処理
   - ローディング表示
   - APIコール（GET /api/project-requirements/{requirementId}）
   - 詳細データ取得
   - 画面に詳細情報を表示
4. 応募ソルバー画面への遷移
   - 「変更する」ボタンクリック
   - 要件IDを持って応募ソルバー画面へ遷移
5. 削除処理
   - 削除ボタンクリック
   - 確認ダイアログ表示
   - 確認後、削除API実行
   - 成功時は一覧画面へ遷移

---

*作成日: 2025年1月*
*バージョン: 1.0*