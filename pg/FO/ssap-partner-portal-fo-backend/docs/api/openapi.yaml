openapi: "3.0.3"

info:
  title: "SSAP Partner Portal FrontOffice API Spec"
  description: |-
    # Sony Startup Acceleration Program Partner Portal FrontOffice API Specification.
    ## 共通仕様
    * [ユーザーロールとAPI権限](https://sonystaqct.backlog.com/wiki/STADX/V1.0%2F%E8%A8%AD%E8%A8%88%2F%E3%82%A2%E3%83%97%E3%83%AA%2F%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E6%A8%A9%E9%99%90#loom-header-5)
    * クエリパラメータはURLエンコードを必須とします。
  version: "1.0.0"

servers:
  - url: "{protocol}://{host}:{port}/api"
    description: ローカル開発環境
    variables:
      protocol:
        enum:
          - http
          - https
        default: http
      host:
        default: localhost
      port:
        enum:
          - "9000"
        default: "9000"

  - url: https://{landscape}.partner-portal.sony-sap-dev.com/api
    description: 開発、ステージング環境
    variables:
      landscape:
        description: |-
          * 開発環境（dev）
          * SQA環境（sqa）
          * 現行バージョンサポート環境（sup）
          * 脆弱性試験環境（evs）
        default: dev
        enum:
          - dev
          - sqa
          - sup
          - evs

  - url: https://api.{landscape}.partner-portal.sony-sap-dev.com/api
    description: 開発、ステージング環境 カスタムドメイン
    variables:
      landscape:
        description: |-
          * 開発環境（dev）
          * SQA環境（sqa）
          * 現行バージョンサポート環境（sup）
          * 脆弱性試験環境（evs）
        default: dev
        enum:
          - dev
          - sqa
          - sup
          - evs

  - url: https://partner-portal.sony-startup-acceleration-program.com/api
    description: 本番環境（prd）

  - url: https://api.partner-portal.sony-startup-acceleration-program.com
    description: 本番環境（prd）カスタムドメイン

tags:
  - name: Authentication
    description: 認証
  - name: User
    description: 一般ユーザー
  - name: Customer
    description: 取引先
  - name: Notification
    description: お知らせ
  - name: Master
    description: マスター
  - name: ManHour
    description: 支援工数
  - name: Project
    description: 案件
  - name: Karte
    description: 案件カルテ
  - name: Schedules
    description: 案件スケジュール
  - name: Survey
    description: 案件アンケート
  - name: MasterKarte
    description: マスターカルテ
  - name: Miscellaneous
    description: その他

paths:
  /auth/login:
    post:
      tags:
        - "Authentication"
      security:
        - JWTBearer: []
      summary: AuthLogin
      description: |-
        # 説明
        SSAP公式サイトから取得したJWTトークンの妥当性チェック及びトークンの情報をもとにユーザー情報の最新化を行います。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 一般ユーザー | 一般ユーザー情報 | U |  |

        # 処理定義
        * 認証の制御については[こちら](https://sonystaqct.backlog.com/alias/wiki/1616841)を参照
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /users:
    post:
      tags:
        - "User"
      security:
        - JWTBearer: []
      summary: CreateUser
      description: |-
        # 説明
        Front Officeにサインインできる一般ユーザーを一件作成します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 一般ユーザー | 一般ユーザー情報 | CR |  |
        | 汎用マスター | 支援者組織情報、サービス種別 | R |  |

        # 処理定義
        * ユーザー作成時に通知を送信
          * 通知テンプレートは[こちら](https://sonystaqct.backlog.com/alias/wiki/1597788)を確認
        * 顧客ロールのユーザーは呼び出し不可。
        * Front Officeでは顧客ロールのユーザー登録のみ可能。
      requestBody:
        $ref: "#/components/requestBodies/CreateUserRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/CreateUserResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
    get:
      tags:
        - "User"
      security:
        - JWTBearer: []
      summary: GetUsers
      description: |-
        # 説明
        Front Officeにサインインできる一般ユーザーの検索・一覧を取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 一般ユーザー | 一般ユーザー情報 | R |  |
        | 汎用マスター | 支援者組織情報、サービス種別 | R |  |
      parameters:
        - in: query
          name: email
          description: メールアドレス
          schema:
            type: string
            format: email
          example: tanaka@example.com
        - in: query
          name: role
          description: ロール
          schema:
            type: string
            enum:
              - customer
              - supporter
              - sales
              - supporter_mgr
              - sales_mgr
      responses:
        "200":
          $ref: "#/components/responses/GetUsersResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /users/me:
    get:
      tags:
        - "User"
      summary: GetUserByMine
      security:
        - JWTBearer: []
      description: |-
        # 説明
        ログイン中の自身の一般ユーザー情報を取得します

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 一般ユーザー | 一般ユーザー情報 | R |  |
        | 汎用マスター | 支援者組織情報、サービス種別 | R |  |
        | お知らせ | なし | R |  |

        # 処理定義
        * リクエストされたAuthorizationヘッダーより取得したユーザーIDで取得する
        * 本APIはログイン後Front Officeの各画面遷移時のタイミングで初期処理として呼び出されログイン中の一般ユーザー情報のリフレッシュ及びセッションタイムアウトの確認に使われる
        * 自身の一般ユーザーIDで未読のお知らせを取得しヘッダに表示するためのお知らせの件数を返却する
      responses:
        "200":
          $ref: "#/components/responses/GetUserByMineResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
    patch:
      tags:
        - "User"
      summary: PatchUserByMine
      security:
        - JWTBearer: []
      description: |-
        # 説明
        ログイン中の自身の一般ユーザー情報を更新します。
        利用規約同意時に利用

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 一般ユーザー | 一般ユーザー情報 | U |  |

        # 処理定義
        * リクエストされたAuthorizationヘッダーより取得したユーザーIDで取得する
        * 本APIは初回ログインの利用規約同意時のタイミングで初期処理として呼び出される
      requestBody:
        description: 一般ユーザーデータ
        required: true
        content:
          application/json:
            schema:
              description: 一般ユーザーモデル
              required:
                - agreed
              type: object
              properties:
                agreed:
                  title: 利用規約同意
                  type: boolean
                  example: true
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /users/suggest:
    get:
      tags:
        - "User"
      security:
        - JWTBearer: []
      summary: SuggestUsers
      description: |-
        # 説明
        一般ユーザーのサジェスト用情報を取得します。
        フロントでサジェストするためのリストを取得。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 一般ユーザー | 一般ユーザー情報 | R |  |
      parameters:
        - in: query
          name: role
          description: ロール（結果の絞り込み）
          required: true
          schema:
            type: string
            enum:
              - customer
              - supporter
              - sales
              - supporter_mgr
              - sales_mgr
              - supporter_or_mgr
              - sales_or_mgr
        - in: query
          name: disabled
          required: true
          description: trueならば無効なユーザーを含む
          schema:
            type: boolean
            default: false
        - in: query
          name: sort
          required: true
          description: ソート
          schema:
            type: string
            enum:
              - name:asc
              - email:asc
      responses:
        "200":
          $ref: "#/components/responses/SuggestUsersResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /users/{id}:
    parameters:
      - $ref: "#/components/parameters/UserIdPathParameter"
    get:
      tags:
        - "User"
      summary: GetUserById
      security:
        - JWTBearer: []
      description: |-
        # 説明
        一般ユーザーをIDで一意に取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 一般ユーザー | 一般ユーザー情報 | R |  |
        | 汎用マスター | 支援者組織情報、サービス種別 | R |  |
      responses:
        "200":
          $ref: "#/components/responses/GetUserResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
    put:
      tags:
        - "User"
      summary: UpdateUserById
      security:
        - JWTBearer: []
      description: |-
        # 説明
        一般ユーザーをIDで一意に更新します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 一般ユーザー | 一般ユーザー情報 | U |  |
        | 汎用マスター | 支援者組織情報、サービス種別 | R |  |
      parameters:
        - $ref: "#/components/parameters/VersionQueryParameter"
      requestBody:
        $ref: "#/components/requestBodies/UpdateUserRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/UpdateUserResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "409":
          $ref: "#/components/responses/ConflictErrorResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /customers:
    get:
      tags:
        - "Customer"
      security:
        - JWTBearer: []
      summary: GetCustomers
      description: |-
        # 説明
        取引先の検索・一覧を取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 取引先 | 取引先情報 | R |  |
      parameters:
        - in: query
          name: name
          description: 取引先名
          schema:
            type: string
            format: name
          example: ソニーグループ株式会社
        - in: query
          name: sort
          description: ソート
          schema:
            type: string
            enum:
              - name:asc
              - name:desc
        - $ref: "#/components/parameters/LimitQueryParameter"
        - $ref: "#/components/parameters/OffsetPageQueryParameter"
      responses:
        "200":
          $ref: "#/components/responses/GetCustomersResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /customers/suggest:
    get:
      tags:
        - "Customer"
      security:
        - JWTBearer: []
      summary: SuggestCustomers
      description: |-
        # 説明
        取引先のサジェスト用情報を取得します。
        フロントでサジェストするためのリストを取得。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 取引先 | 取引先情報 | R |  |
      parameters:
        - in: query
          name: sort
          required: true
          description: ソート
          schema:
            type: string
            enum:
              - name:asc
      responses:
        "200":
          $ref: "#/components/responses/SuggestCustomersResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /customers/{id}:
    parameters:
      - $ref: "#/components/parameters/CustomerIdPathParameter"
    get:
      tags:
        - "Customer"
      summary: GetCustomerById
      security:
        - JWTBearer: []
      description: |-
        # 説明
        取引先をIDで一意に取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 取引先 | 取引先情報 | R |  |
      responses:
        "200":
          $ref: "#/components/responses/GetCustomerResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /notifications/me:
    get:
      tags:
        - "Notification"
      summary: GetNotificationsByMine
      security:
        - JWTBearer: []
      description: |-
        # 説明
        自身の一般ユーザーIDに紐づくお知らせ情報を取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | お知らせ | なし | R |  |

        # 処理定義
        * 既読のものも含んで返却
        * お知らせ日時の降順（新しい順）
      responses:
        "200":
          $ref: "#/components/responses/GetNotificationsResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /notifications:
    patch:
      tags:
        - "Notification"
      summary: CheckedNotificationById
      security:
        - JWTBearer: []
      description: |-
        # 説明
        自身の一般ユーザーIDに紐づく現在の未読お知らせ情報を全て既読に更新します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | お知らせ | なし | U |  |
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /masters/supporter-organizations:
    get:
      tags:
        - "Master"
      security:
        - JWTBearer: []
      summary: GetSupporterOrganizations
      description: |-
        # 説明
        支援者組織の一覧を取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 汎用マスター | 支援者組織情報、サービス種別 | R |  |
      parameters:
        - in: query
          name: disabled
          description: 無効データ含む
          schema:
            type: boolean
            default: false
      responses:
        "200":
          $ref: "#/components/responses/GetSupporterOrganizationsResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /masters/service-types:
    get:
      tags:
        - "Master"
      security:
        - JWTBearer: []
      summary: GetServiceTypes
      description: |-
        # 説明
        サービス種別の一覧を取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 汎用マスター | 支援者組織情報、サービス種別 | R |  |
      parameters:
        - in: query
          name: disabled
          description: 無効データ含む
          schema:
            type: boolean
            default: false
      responses:
        "200":
          $ref: "#/components/responses/GetServiceTypesResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /masters/batch-control/{id}:
    parameters:
      - in: path
        name: id
        required: true
        description: バッチ処理関数ID
        schema:
          type: string
          example: batch_man_hour_summary
    get:
      tags:
        - "Master"
      security:
        - JWTBearer: []
      summary: GetBatchControlById
      description: |-
        # 説明
        各種集計バッチ処理の最終完了日時を取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 汎用マスター | バッチ処理制御 | R |  |

        # 処理定義
        * APIの用途は[こちら](https://sonystaqct.backlog.com/alias/wiki/1682064#loom-header-4)を参照
      responses:
        "200":
          $ref: "#/components/responses/GetBatchControlByIdResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /survey-masters:
    get:
      tags:
        - "Master"
      security:
        - JWTBearer: []
      summary: GetSurveyMasters
      description: |-
        # 説明
        最新バージョンのアンケートひな形の一覧を取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | アンケートマスタ | なし | R |  |
      parameters:
        - in: query
          name: surveyType
          description: アンケート種別
          schema:
            type: string
            enum:
              - service
              - completion
              - quick
              - pp
        - in: query
          name: inOperation
          description: 下書きを除く最新のアンケートを取得するか（Trueの場合は下書きの最新を取得しない）
          schema:
            type: boolean
            default: true
      responses:
        "200":
          $ref: "#/components/responses/GetSurveyMastersResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /survey-masters/{id}/{revision}:
    parameters:
      - $ref: "#/components/parameters/SurveyMasterIdPathParameter"
      - in: path
        name: revision
        required: true
        description: アンケートマスターバージョン番号
        schema:
          type: integer
    get:
      tags:
        - "Master"
      summary: GetSurveyMasterByIdAndRevision
      security:
        - JWTBearer: []
      description: |-
        # 説明
        アンケートマスターをIDとバージョンで一意に取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | アンケートマスタ | なし | R |  |
      responses:
        "200":
          $ref: "#/components/responses/GetSurveyMasterResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /survey-masters/anonymous/{id}/{revision}:
    parameters:
      - $ref: "#/components/parameters/SurveyMasterIdPathParameter"
      - in: path
        name: revision
        required: true
        description: アンケートマスターバージョン番号
        schema:
          type: integer
    post:
      tags:
        - "Master"
      summary: CheckAndGetSurveyMasterAnonymousByIdAndRevision
      description: |-
        # 説明
        匿名アンケート用。アンケートマスターをIDとバージョンで一意に取得します。
        パスワードとJWT(アンケートIDと有効期限から生成された)で認証します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | アンケートマスタ | なし | R |  |
        | 案件アンケート | 案件アンケート情報 | R |  |
        | 案件 | 案件情報 | R |  |
      requestBody:
        $ref: "#/components/requestBodies/CheckAndGetSurveyMasterAnonymousByIdAndRevisionRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GetSurveyMasterResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /survey-masters/satisfaction/{id}/{revision}:
    parameters:
      - $ref: "#/components/parameters/SurveyMasterIdPathParameter"
      - in: path
        name: revision
        required: true
        description: アンケートマスターバージョン番号
        schema:
          type: integer
    post:
      tags:
        - "Master"
      summary: GetSurveyMasterOfSatisfactionByIdAndRevison
      description: |-
        # 説明
        満足度評価のみ回答アンケート用。
        アンケートマスターをIDとバージョンでひな形情報を一意に取得し、満足度評価の設問のみフロントに返します。
        JWT(アンケートIDと有効期限（60日）から生成された)で認証します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | アンケートマスタ | なし | R |  |
        | 案件アンケート | 案件アンケート情報 | R |  |
        | 案件 | 案件情報 | R |  |
      requestBody:
        $ref: "#/components/requestBodies/GetSurveyMasterOfSatisfactionByIdAndRevisonRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GetSurveyMasterOnlyQuestionsResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /man-hours/summary/project/{id}/supporter:
    parameters:
      - $ref: "#/components/parameters/ProjectIdPathParameter"
      - $ref: "#/components/parameters/SummaryMonthQueryParameter"
      - $ref: "#/components/parameters/SupporterUserIdQueryParameter"
    get:
      tags:
        - "ManHour"
      summary: GetSummaryProjectSupporterManHourStatus
      security:
        - JWTBearer: []
      description: |-
        # 説明
        案件別の支援工数状況を取得します。
        工数アラートテーブルの係数を乗じる

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 支援工数 | プロジェクト別工数集計 | R |  |
        | 汎用マスター | 支援工数アラート設定 | R |  |
      responses:
        "200":
          $ref: "#/components/responses/GetSummaryProjectSupporterManHourStatusResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /man-hours/me:
    get:
      tags:
        - "ManHour"
      summary: GetManHourByMine
      parameters:
        - $ref: "#/components/parameters/RequiredYearQueryParameter"
        - $ref: "#/components/parameters/RequiredMonthQueryParameter"
      security:
        - JWTBearer: []
      description: |-
        # 説明
        支援者自身の支援工数を取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 支援工数 | 支援者別工数 | R |  |
        | 汎用マスター | 支援者組織情報、サービス種別 | R |  |
        | 案件 | 案件情報 | R |  |
        | 案件カルテ | なし | R |  |
      responses:
        "200":
          $ref: "#/components/responses/GetManHourResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
    put:
      tags:
        - "ManHour"
      summary: UpdateManHourByMine
      security:
        - JWTBearer: []
      description: |-
        # 説明
        支援者自身の支援工数を作成・更新します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 支援工数 | 支援者別工数 | RU |  |
        | 汎用マスター | 支援者組織情報、サービス種別 | R |  |
        | 案件 | 案件情報 | R |  |
      parameters:
        - $ref: "#/components/parameters/RequiredYearQueryParameter"
        - $ref: "#/components/parameters/RequiredMonthQueryParameter"
        - $ref: "#/components/parameters/VersionQueryParameter"
      requestBody:
        $ref: "#/components/requestBodies/UpdateManHourRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/UpdateManHourResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "409":
          $ref: "#/components/responses/ConflictErrorResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /projects:
    get:
      tags:
        - "Project"
      security:
        - JWTBearer: []
      summary: GetProjects
      description: |-
        # 説明
        案件の検索・一覧を取得します。
        - 顧客の場合は自身のアサイン案件のみ取得
        - 支援者および支援者責任者の場合
          - パラメータall=trueの場合はすべての案件を取得、パラメータall=falseの場合はパラメータallAssignedの指定の通り
          - パラメータallAssigned=trueの場合は自身がプロデューサーまたはアクセラレーター、パラメータallAssigned=falseの場合は自身がプロデューサーの案件を取得

            | パラメータall<br>(default:false)  | パラメータallAssigned<br>(default:false) | 取得データ |
            | ---- | ----| ---- |
            | true | 無視される  | すべての案件 |
            | false | true  | 自身がプロデューサーまたはアクセラレーターの案件 |
            | false | false  | 自身がプロデューサーの案件 |

        - 営業担当者の場合
          - パラメータall=trueの場合はすべての案件を取得、パラメータall=falseの場合はパラメータallAssignedの指定の通り
          - パラメータallAssigned=trueの場合はすべての案件を取得、パラメータallAssigned=falseの場合は自身が営業担当者としてアサインされた案件を取得

            | パラメータall<br>(default:false)  | パラメータallAssigned<br>(default:false) | 取得データ |
            | ---- | ----| ---- |
            | true | 無視される  | すべての案件 |
            | false | true  | すべての案件 |
            | false | false  | 自身が営業担当者としてアサインされた案件 |

        - パラメータ（all、allAssigned）の優先順位
          - 優先順位１：all
          - 優先順位２：allAssigned　※allがtrueの場合は、無効

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件 | 案件情報 | R |  |
        | 一般ユーザー | 一般ユーザー情報 | R |  |
        | 汎用マスター | 支援者組織情報、サービス種別 | R |  |
      parameters:
        - in: query
          name: fromYearMonth
          description: |
            年月From
          schema:
            type: integer
          example: 202204
        - in: query
          name: toYearMonth
          description: |
            年月To
          schema:
            type: integer
          example: 202303
        - in: query
          name: fromDate
          description: |
            年月日From
          schema:
            type: integer
          example: 20220401
        - in: query
          name: toDate
          description: |
            年月日To
          schema:
            type: integer
          example: 20230331
        - in: query
          name: all
          description: |
            全案件取得（未指定時は担当案件）
          schema:
            type: boolean
            default: false
        - in: query
          name: allAssigned
          description: |
            全担当取得（未指定時は主担当のみ）
          schema:
            type: boolean
            default: false
        - $ref: "#/components/parameters/CustomerIdQueryParameter"
        - in: query
          name: sort
          description: ソート
          schema:
            type: string
            enum:
              - name:asc
              - customerName:asc
              - supportDateFrom:desc
            default: name:asc
        - $ref: "#/components/parameters/LimitQueryParameterForGetProjects"
        - $ref: "#/components/parameters/OffsetPageQueryParameter"
      responses:
        "200":
          $ref: "#/components/responses/GetProjectsResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /projects/suggest:
    get:
      tags:
        - "Project"
      security:
        - JWTBearer: []
      summary: SuggestProjects
      description: |-
        # 説明
        案件のサジェスト用情報を取得します。
        フロントでサジェストするためのリストを取得。
        顧客の場合は自身のアサイン案件のみ取得

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件 | 案件情報 | R |  |
        | 汎用マスター | 支援者組織情報、サービス種別 | R |  |
      parameters:
        - in: query
          name: customerId
          description: 取引先ID（結果の絞り込み）
          schema:
            type: string
            example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        - in: query
          name: sort
          required: true
          description: ソート
          schema:
            type: string
            enum:
              - name:asc
      responses:
        "200":
          $ref: "#/components/responses/SuggestProjectsResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /projects/{id}:
    parameters:
      - $ref: "#/components/parameters/ProjectIdPathParameter"
    get:
      tags:
        - "Project"
      summary: GetProjectById
      security:
        - JWTBearer: []
      description: |-
        # 説明
        案件をIDで一意に取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件 | 案件情報 | R |  |
        | 一般ユーザー | 一般ユーザー情報 | R |  |
        | 汎用マスター | 支援者組織情報、サービス種別 | R |  |
      responses:
        "200":
          $ref: "#/components/responses/GetProjectResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
    put:
      tags:
        - "Project"
      summary: UpdateProjectById
      security:
        - JWTBearer: []
      description: |-
        # 説明
        案件をIDで一意に更新します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件 | 案件情報 | U |  |
        | 一般ユーザー | 一般ユーザー情報 | RU | プロジェクトのアサイン情報の更新 |
        | 取引先 | 取引先情報 | R |  |
        | 汎用マスター | 支援者組織情報、サービス種別 | R |  |

        # 処理定義
        * PP独自案件の場合、NPFのUpdateProjectByIdを実行
        * 新規ユーザー案件アサイン時に通知を送信
          * 通知テンプレートは[こちら](https://sonystaqct.backlog.com/alias/wiki/1597788)を確認
      parameters:
        - $ref: "#/components/parameters/VersionQueryParameter"
      requestBody:
        $ref: "#/components/requestBodies/UpdateProjectRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "409":
          $ref: "#/components/responses/ConflictErrorResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /karten:
    parameters:
      - $ref: "#/components/parameters/RequiredProjectIdQueryParameter"
    # post:
    #   tags:
    #     - "Karte"
    #   security:
    #     - JWTBearer: []
    #   summary: Createkarten
    #   description: |-
    #     # 説明
    #     案件カルテを新規作成します。

    #     # 利用テーブル
    #     | テーブル名 | ファセット| CRUD | 備考 |
    #     | ----- | ----- | ----- | ----- |
    #     | 案件カルテ | なし | C |  |
    #     | 案件 | 案件情報 | R |  |
    #     | 案件スケジュール | なし | U |  |
    #   requestBody:
    #     $ref: "#/components/requestBodies/CreateProjectKarteRequestBody"
    #   responses:
    #     "200":
    #       $ref: "#/components/responses/CreateProjectKarteResponse"
    #     "401":
    #       $ref: "#/components/responses/UnauthorizedResponse"
    #     "403":
    #       $ref: "#/components/responses/ForbiddenResponse"
    #     "422":
    #       $ref: "#/components/responses/UnprocessableEntityResponse"
    #     "429":
    #       $ref: "#/components/responses/TooManyRequestsResponse"
    #     "500":
    #       $ref: "#/components/responses/InternalServerErrorResponse"
    #     "default":
    #       $ref: "#/components/responses/UnprocessableEntityResponse"
    get:
      tags:
        - "Karte"
      security:
        - JWTBearer: []
      summary: Getkarten
      description: |-
        # 説明
        案件カルテの一覧を取得します

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件カルテ | なし | R |  |
        | 案件スケジュール | なし | R |  |
      responses:
        "200":
          $ref: "#/components/responses/GetProjectKartenResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /karten/latest:
    get:
      tags:
        - "Karte"
      security:
        - JWTBearer: []
      summary: GetkartenLatest
      description: |-
        # 説明
        最近更新されたカルテ一覧を取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件カルテ | なし | R |  |

        # 処理定義
        * 顧客の場合は自身がアサインされた案件に紐づく直近更新カルテを取得
        * 顧客以外の場合は当日週から前後一週間に存在する自身のアサイン案件のカルテを表示する
        * 最大5件取得
        * 更新されていないカルテは対象外とする(last_update_datetimeに値がセットされていない)
      responses:
        "200":
          $ref: "#/components/responses/GetkartenLatestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /karten/{id}:
    parameters:
      - $ref: "#/components/parameters/ProjectKarteIdPathParameter"
    get:
      tags:
        - "Karte"
      summary: GetKarteById
      security:
        - JWTBearer: []
      description: |-
        # 説明
        案件カルテをIDで取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件カルテ | なし | R |  |
        | 一般ユーザー | 一般ユーザー情報 | R |  |
        | 案件 | 案件情報 | R |  |
      responses:
        "200":
          $ref: "#/components/responses/GetProjectKarteResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
    put:
      tags:
        - "Karte"
      summary: UpdateKarteById
      security:
        - JWTBearer: []
      description: |-
        # 説明
        案件カルテをIDで更新します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件カルテ | なし | U |  |
        | 汎用マスタ | 支援者組織情報 | R |  |

        # 処理定義
        * カルテ公開時に通知を送信
          * 通知テンプレートは[こちら](https://sonystaqct.backlog.com/alias/wiki/1597788)を確認
      parameters:
        - $ref: "#/components/parameters/VersionQueryParameter"
      requestBody:
        $ref: "#/components/requestBodies/UpdateProjectKarteRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "409":
          $ref: "#/components/responses/ConflictErrorResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /schedules/support/{id}:
    parameters:
      - $ref: "#/components/parameters/ProjectIdPathParameter"
    post:
      tags:
        - "Schedules"
      security:
        - JWTBearer: []
      summary: CreateSupportSchedules
      description: |-
        # 説明
        支援期間内分の案件カルテを作成します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件カルテ | なし | C |  |
      requestBody:
        $ref: "#/components/requestBodies/CreateProjectSchedulesRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

    get:
      tags:
        - "Schedules"
      summary: GetSupportSchedulesById
      security:
        - JWTBearer: []
      description: |-
        # 説明
        指定された案件IDの案件カルテを取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件カルテ | なし | R |  |
      responses:
        "200":
          $ref: "#/components/responses/GetSupportProjectSchedulesResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /schedules/support:
    put:
      tags:
        - "Schedules"
      summary: UpdateSupportSchedulesByIdAndDate
      security:
        - JWTBearer: []
      description: |-
        # 説明
        指定した案件カルテを取得・更新します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件カルテ | なし | RU |  |

        # 処理定義
        * 指定したカルテIDの案件カルテを更新
      parameters:
        - $ref: "#/components/parameters/KarteIdQueryParameter"
        - $ref: "#/components/parameters/VersionQueryParameter"
      requestBody:
        $ref: "#/components/requestBodies/UpdateProjectSupportSchedulesRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "409":
          $ref: "#/components/responses/ConflictErrorResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
    delete:
      tags:
        - "Schedules"
      summary: DeleteSupportSchedulesByIdAndDate
      security:
        - JWTBearer: []
      description: |-
        # 説明
        指定した案件カルテを削除します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件カルテ | なし | D |  |

        # 処理定義
        * 指定したカルテIDの案件カルテを削除
      parameters:
        - $ref: "#/components/parameters/KarteIdQueryParameter"
        - $ref: "#/components/parameters/VersionQueryParameter"
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "409":
          $ref: "#/components/responses/ConflictErrorResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /schedules/survey/{id}:
    parameters:
      - $ref: "#/components/parameters/ProjectIdPathParameter"
    get:
      tags:
        - "Schedules"
      summary: GetSurveySchedulesById

      security:
        - JWTBearer: []
      description: |-
        # 説明
        指定した案件IDの案件アンケートを取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件アンケート | 案件アンケート情報 | R |  |
      responses:
        "200":
          $ref: "#/components/responses/GetProjectSurveySchedulesResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

    post:
      tags:
        - "Schedules"
      security:
        - JWTBearer: []
      summary: CreateSurveySchedules
      description: |-
        ## 説明
        アンケートスケジュールを追加します。

        ## 処理定義
        - PPアンケートは送信前スケジュールはない
        - 現在日時から支援終了日までのスケジュールを作成する
          - 支援開始日をまだ迎えていない場合は、支援開始日から支援終了日までのスケジュール
        - サービスアンケート・修了アンケートはタイミングは1回のみ（once)のみが指定可能
        - タイミングと送信日の組み合わせ
          - timingが毎月の場合、以下の何れか
            - 送信日
              - 毎月○日:1-31
              - 回答期限日から○営業日前:-30～-1
          - timingが毎週の場合、送信日に0～6(曜日)を指定
          - timingが1回の場合、以下の何れか
            - 特定日:2022/04/01の形式
            - 回答期限日から○営業日前:-30～-1
        - requestDate(アンケート送信日時)の「回答期限日から○営業日前」とlimitDate(回答期限日)の(送信日から)「〇営業日後」の同時指定は不可
        - requestDate(アンケート送信日時)の「回答期限日から○営業日前」とlimitDate(回答期限日)の「なし」の同時指定は不可
        - タイミングが「1回」の場合、requestDate(アンケート送信日時)の「回答期限日から○営業日前」とlimitDate(回答期限日)の「月末最終営業日」の同時指定は不可

        ## 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件アンケート | 案件アンケート情報 | C |  |
      requestBody:
        $ref: "#/components/requestBodies/CreateProjectSurveySchedulesRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /schedules/survey:
    put:
      tags:
        - "Schedules"
      summary: UpdateSurveySchedulesByIdAndDate
      security:
        - JWTBearer: []
      description: |-
        # 説明
        指定した案件アンケートを取得・更新します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件アンケート | なし | RU |  |

        # 処理定義
        * 指定したアンケートIDの案件アンケートを更新
        * sendDate(送信日)の「回答期限日から○営業日前」とsurveyLimitDate(回答期限日)の(送信日から)「〇営業日後」の同時指定は不可
        * sendDate(送信日)の「回答期限日から○営業日前」とsurveyLimitDate(回答期限日)の「なし」の同時指定は不可
        * sendDate(送信日)の「回答期限日から○営業日前」とsurveyLimitDate(回答期限日)の「月末最終営業日」の同時指定は不可

      parameters:
        - $ref: "#/components/parameters/SurveyIdQueryParameter"
        - $ref: "#/components/parameters/VersionQueryParameter"
      requestBody:
        $ref: "#/components/requestBodies/UpdateProjectSurveySchedulesRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "409":
          $ref: "#/components/responses/ConflictErrorResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

    delete:
      tags:
        - "Schedules"
      summary: DeleteSurveySchedulesByIdAndDate
      security:
        - JWTBearer: []
      description: |-
        # 説明
        指定した案件アンケートを削除します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件アンケート | なし | D |  |

        # 処理定義
        * 指定したアンケートIDの案件アンケートを削除
        * アンケートを削除するときは、アンケートが送信前なら削除する
        * 削除可：送信日＞現在日  送信日が現在日時よりも未来。削除不可：送信日＜=現在日 送信日が現在日時よりも過去
      parameters:
        - $ref: "#/components/parameters/SurveyIdQueryParameter"
        - $ref: "#/components/parameters/VersionQueryParameter"
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "409":
          $ref: "#/components/responses/ConflictErrorResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /schedules/survey/bulk/{id}:
    parameters:
      - $ref: "#/components/parameters/ProjectIdPathParameter"
    post:
      tags:
        - "Schedules"
      security:
        - JWTBearer: []
      summary: BulkSurveySchedules
      description: |-
        ## 説明
        アンケートスケジュールを一括登録します。

        ## 処理定義
        - サービスアンケート・修了アンケートを一括登録する。
        - 支援期間(支援終了月をのぞく)のサービスアンケートを登録する。
        - 修了アンケートは支援終了日に設定された月のみ登録する。
        - 条件：スケジュールがゼロ件かつグループIDが案件テーブルにセットされてない
        - requestDate(送信日)の「回答期限日から○営業日前」とlimitDate(回答期限日)の(送信日から)「〇営業日後」の同時指定は不可
        - requestDate(送信日)の「回答期限日から○営業日前」とlimitDate(回答期限日)の「なし」の同時指定は不可

        ## 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件アンケート | なし | C |  |
      requestBody:
        $ref: "#/components/requestBodies/BulkProjectSurveySchedulesRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

    put:
      parameters:
        - $ref: "#/components/parameters/ProjectIdPathParameter"
      tags:
        - "Schedules"
      security:
        - JWTBearer: []
      summary: BulkUpdateSurveySchedules
      description: |-
        ## 説明
        アンケートスケジュールを一括変更します。

        ## 処理定義
        - サービスアンケート・修了アンケートをgroupIdをもとに一括変更する。
        - 変更不可：送信日＜=現在日 送信日が現在日時よりも過去。変更可：送信日＞現在日  送信日が現在日時よりも未来。
        - パラメータのproject_idに該当する案件テーブルのgroup_idをもとにアンケートの変更をする。前提：スケジュールがゼロ件ではなくかつグループIDが案件テーブルにセットされている
        - requestDate(送信日)の「回答期限日から○営業日前」とlimitDate(回答期限日)の(送信日から)「〇営業日後」の同時指定は不可
        - requestDate(送信日)の「回答期限日から○営業日前」とlimitDate(回答期限日)の「なし」の同時指定は不可

        ## 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件アンケート | なし | RU |  |
      requestBody:
        $ref: "#/components/requestBodies/BulkProjectSurveySchedulesRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /surveys:
    get:
      tags:
        - "Survey"
      security:
        - JWTBearer: []
      summary: GetSurveys
      description: |-
        # 説明
        案件アンケートの一覧を取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件アンケート | 案件アンケート情報 | R |  |

        # 処理定義
        * 集計月指定、集計月From～To指定、回答予定日From～To指定は複合しない。
        * 設問ごとの回答結果はこのAPIでは取得しない（点数合計のみ）

        ## サマリー項目
        * 取得条件で取得出来たアンケートからサマリー項目（`summary`）を生成する
          * 集計月から判断し
            * 各月の単月の満足度平均とN数を求める
            * 4月を起点とした各月の累積の満足度平均とN数を求める
            * 4月を起点とした4半期、半期、通年の満足度平均とN数を求める
          * 期間が１年に満たない場合や対象データがない場合も項目は作成しゼロをセットする
        * 呼出しユーザーが顧客の場合はサマリーは付与しない
        * アンケート種別がクイックアンケートの場合はサマリーは付与しない

        # その他
        - 回答依頼実績が存在するものを取得
        - ソート
          - 回答済み（昇順）
          - 回答（送信）依頼実績日時（送信実績）
      parameters:
        # 期間条件
        - $ref: "#/components/parameters/SummaryMonthQueryParameter"
        - $ref: "#/components/parameters/SummaryMonthFromQueryParameter"
        - $ref: "#/components/parameters/SummaryMonthToQueryParameter"
        - $ref: "#/components/parameters/PlanSurveyResponseDateFromQueryParameter"
        - $ref: "#/components/parameters/PlanSurveyResponseDateToQueryParameter"
        # 検索条件
        - $ref: "#/components/parameters/ProjectIdQueryParameter"
        - $ref: "#/components/parameters/CustomerIdQueryParameter"
        - $ref: "#/components/parameters/ServiceTypeIdQueryParameter"
        - in: query
          name: isFinished
          description: 回答済みのみ
          schema:
            type: boolean
            default: false
        - in: query
          name: isDisclosure
          description: 非公開アンケートを取得するか（Trueの場合は取得する）
          schema:
            type: boolean
            default: false
        - $ref: "#/components/parameters/SurveyTypeQueryParameterForGetSurveys"
        - in: query
          name: organizationIds
          description: |
            支援者組織（課）ID<br>
            カンマ区切りで複数可
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/GetProjectSurveysResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /surveys/me:
    get:
      tags:
        - "Survey"
      security:
        - JWTBearer: []
      summary: GetSurveysByMine
      description: |-
        # 説明
        自身の回答対象の案件アンケートの一覧を取得します。

        # 使用される画面
        - [アンケート一覧（顧客の場合）](https://sonystaqct.backlog.com/alias/wiki/1777426#:~:text=%E3%82%A2%E3%83%B3%E3%82%B1%E3%83%BC%E3%83%88%E4%B8%80%E8%A6%A7-,%E7%94%BB%E9%9D%A2%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8,-%E3%83%AF%E3%82%A4%E3%83%A4%E3%83%BC)
        - [PPアンケート一覧](https://sonystaqct.backlog.com/alias/wiki/1698188#loom-header-90:~:text=%E5%90%AB%E3%81%BE%E3%82%8C%E3%82%8B-,PP%E3%82%A2%E3%83%B3%E3%82%B1%E3%83%BC%E3%83%88%E4%B8%80%E8%A6%A7,-%E7%94%BB%E9%9D%A2%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8)
        - HOME
          - [未入力アンケート（5件のみ）](https://sonystaqct.backlog.com/alias/wiki/1698188#:~:text=%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%B3%E3%82%B0%E3%81%AA%E3%81%97-,%E6%9C%AA%E5%85%A5%E5%8A%9B%E3%81%AE%E3%82%A2%E3%83%B3%E3%82%B1%E3%83%BC%E3%83%88,-%E9%A0%85%E7%9B%AE%E5%90%8D)
          - [Partner Portalに関するアンケート](https://sonystaqct.backlog.com/alias/wiki/1698188#:~:text=%E6%96%87%E5%AD%97%E3%82%B3%E3%83%BC%E3%83%89%E9%A0%86%EF%BC%89-,Partner%20Portal%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E3%82%A2%E3%83%B3%E3%82%B1%E3%83%BC%E3%83%88,-%E9%A0%85%E7%9B%AE%E5%90%8D)

        # その他
        - 回答依頼実績が存在するものを取得
        - ソート
          - 回答済み（昇順）
          - 回答（送信）依頼実績日時（送信実績）
          - 回答（受信）予定日時（回答期限）

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件アンケート | 案件アンケート情報 | R |  |
      parameters:
        - $ref: "#/components/parameters/SurveyTypeQueryParameter"
        - in: query
          name: dateFrom
          description: 回答（送信）依頼実績日時（From）
          required: false
          schema:
            type: integer
            example: 202204
        - in: query
          name: dateTo
          description: 回答（送信）依頼実績日時（To）
          required: false
          schema:
            type: integer
            example: 202209
        - in: query
          name: sort
          description: ソート
          required: true
          schema:
            type: string
            enum:
              - actual_survey_request_datetime:desc
              - plan_survey_response_datetime:desc
        - $ref: "#/components/parameters/ProjectIdQueryParameter"
        - $ref: "#/components/parameters/LimitQueryParameter"
      responses:
        "200":
          $ref: "#/components/responses/GetProjectSurveysByMineResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /surveys/auth:
    post:
      tags:
        - "Survey"
      summary: CheckSurveyByIdPassword
      security:
        - JWTBearer: []
      description: |-
        # 説明
        パスワードとJWT(アンケートIDと有効期限から生成された)で認証する。
        匿名アンケート認証用の画面から呼ばれる。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件アンケート | 案件アンケート情報 | R |  |
        | 案件 | 案件情報 | R |  |

      requestBody:
        $ref: "#/components/requestBodies/CheckSurveyByIdPasswordRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/CheckSurveyByIdPasswordResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /surveys/{id}:
    parameters:
      - $ref: "#/components/parameters/ProjectSurveyIdPathParameter"
    get:
      tags:
        - "Survey"
      summary: GetSurveyById
      security:
        - JWTBearer: []
      description: |-
        # 説明
        案件アンケートをIDで一意に取得します。
        回答依頼送信済みでないアンケートは取得不可。
        営業担当者は所属していない案件の未回答アンケートの取得不可（PPアンケート除く）。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件アンケート | 案件アンケート情報 | R |  |
        | アンケートマスタ | なし | R |  |
        | 汎用マスタ | サービス責任者 | R |  |
      responses:
        "200":
          $ref: "#/components/responses/GetProjectSurveyResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
    put:
      tags:
        - "Survey"
      summary: UpdateSurveyById
      security:
        - JWTBearer: []
      description: |-
        # 説明
        案件アンケートをIDで一意に更新します。
        回答依頼送信済みでないアンケートは取得不可。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件アンケート | 案件アンケート情報 | RU |  |
        | アンケートマスタ | なし | R |  |
        | 管理ユーザー | 管理ユーザー情報 | R |  |
        | 一般ユーザー | 一般ユーザー情報 | R |  |

        # 処理定義
        * アンケート回答完了時に通知を送信
          * 通知テンプレートは[こちら](https://sonystaqct.backlog.com/alias/wiki/1597788)を確認
      parameters:
        - $ref: "#/components/parameters/ProjectSurveyIdPathParameter"
        - $ref: "#/components/parameters/VersionQueryParameter"
      requestBody:
        $ref: "#/components/requestBodies/UpdateProjectSurveyRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /surveys/anonymous/{id}:
    parameters:
      - $ref: "#/components/parameters/ProjectSurveyIdPathParameter"
    post:
      tags:
        - "Survey"
      summary: CheckAndGetSurveyAnonymousById
      description: |-
        # 説明
        匿名用の案件アンケートをIDで一意に取得します。
        回答依頼送信済みでないアンケートは取得不可。
        パスワードとJWT(アンケートIDと有効期限から生成された)で認証します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件アンケート | 案件アンケート情報 | R |  |
        | アンケートマスタ | なし | R |  |
        | 案件 | 案件情報 | R |  |
      requestBody:
        $ref: "#/components/requestBodies/CheckAndGetSurveyAnonymousByIdRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/CheckAndGetSurveyAnonymousByIdResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
    put:
      tags:
        - "Survey"
      summary: CheckAndUpdateSurveyAnonymousById
      description: |-
        # 説明
        匿名用の案件アンケートをIDで一意に更新します。
        回答依頼送信済みでないアンケートは取得不可。
        パスワードとJWT(アンケートIDと有効期限から生成された)で認証します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件アンケート | 案件アンケート情報 | RU |  |
        | アンケートマスタ | なし | R |  |
        | 管理ユーザー | 管理ユーザー情報 | R |  |
        | 一般ユーザー | 一般ユーザー情報 | R |  |
        | 案件 | 案件情報 | R |  |

        # 処理定義
        * アンケート回答完了時に通知を送信
          * 通知テンプレートは[こちら](https://sonystaqct.backlog.com/alias/wiki/1597788)を確認
      parameters:
        - $ref: "#/components/parameters/ProjectSurveyIdPathParameter"
        - $ref: "#/components/parameters/VersionQueryParameter"
      requestBody:
        $ref: "#/components/requestBodies/CheckAndUpdateSurveyAnonymousByIdRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /surveys/satisfaction/{id}:
    parameters:
      - $ref: "#/components/parameters/ProjectSurveyIdPathParameter"
    post:
      tags:
        - "Survey"
      summary: GetSurveyOfSatisfactionById
      description: |-
        # 説明
        満足度評価のみ回答アンケート用の案件アンケートをIDで一意に取得します。
        JWT(アンケートIDと有効期限（60日）から生成された)で認証します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件アンケート | 案件アンケート情報 | RU |  |
        | アンケートマスタ | なし | R |  |
        | 案件 | 案件情報 | R |  |

      parameters:
        - $ref: "#/components/parameters/ProjectSurveyIdPathParameter"
      requestBody:
        $ref: "#/components/requestBodies/GetSurveyOfSatisfactionByIdRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GetSurveyOfSatisfactionByIdResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
    put:
      tags:
        - "Survey"
      summary: UpdateSurveyOfSatisfactionById
      description: |-
        # 説明
        満足度評価のみ回答アンケート用の案件アンケートをIDで一意に更新します。
        JWT(アンケートIDと有効期限（60日）から生成された)で認証します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | 案件アンケート | 案件アンケート情報 | RU |  |
        | アンケートマスタ | なし | R |  |
        | 管理ユーザー | 管理ユーザー情報 | R |  |
        | 一般ユーザー | 一般ユーザー情報 | R |  |
        | 案件 | 案件情報 | R |  |

        # 処理定義
        * アンケート回答完了時に通知を送信
          * 通知テンプレートは[こちら](https://sonystaqct.backlog.com/alias/wiki/1597788)を確認
      parameters:
        - $ref: "#/components/parameters/ProjectSurveyIdPathParameter"
        - $ref: "#/components/parameters/VersionQueryParameter"
      requestBody:
        $ref: "#/components/requestBodies/UpdateSurveyOfSatisfactionByIdRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GeneralResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "404":
          $ref: "#/components/responses/NotFoundResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /surveys/summary/me:
    get:
      tags:
        - "Survey"
      summary: GetSurveySummaryByMine
      parameters:
        - name: yearMonthFrom
          in: query
          description: 集計月（From）
          required: true
          schema:
            type: string
            example: 202204
        - name: yearMonthTo
          in: query
          description: 集計月（To）
          required: true
          schema:
            type: string
            example: 202303
      security:
        - JWTBearer: []
      description: |-
        # 説明
        アンケートの支援者別または営業担当者別の集計サマリ結果を取得します
        自身の担当案件に関する集計情報のみ取得

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | アンケートサマリ | 支援者（営業担当者）別集計 | R |  |
      responses:
        "200":
          $ref: "#/components/responses/GetSurveySummaryByMineResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"
  /surveys/summary/supporter-organizations/me:
    get:
      tags:
        - "Survey"
      summary: GetSurveySummarySupporterOrganizationsByMine
      parameters:
        - name: yearMonthFrom
          in: query
          description: 集計月（From）
          required: true
          schema:
            type: string
            example: 202204
        - name: yearMonthTo
          in: query
          description: 集計月（To）
          required: true
          schema:
            type: string
            example: 202303
      security:
        - JWTBearer: []
      description: |-
        # 説明
        アンケートの課（粗利メイン課）別の集計結果を取得します。
        支援者、支援者責任者の場合は自身の課の集計結果を取得
        営業担当者、営業責任者の場合は全ての課の集計結果を取得

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | アンケートサマリ |支援者組織（粗利メイン課）別集計 | R |  |
        | 汎用マスター | 支援者組織情報、サービス種別 | R | |
      responses:
        "200":
          $ref: "#/components/responses/GetSurveySummarySupporterOrganizationsByMineResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /master-karten:
    get:
      tags:
        - "MasterKarte"
      summary: GetMasterKarten
      parameters:
        - name: offsetPage
          in: query
          description: リストの中で何ページ目を取得するか
          required: true
          schema:
            type: integer
            default: 1
          example: 1
        - name: limit
          in: query
          description: 最大取得件数
          schema:
            type: integer
            default: 20
          example: 20
        - name: customerId
          in: query
          description: お客様(取引先)名
          schema:
            type: string
            example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        - name: supportDateFrom
          in: query
          description: 支援開始日
          schema:
            type: string
            example: "2023/08/22"
        - name: supportDateTo
          in: query
          description: 支援終了日
          schema:
            type: string
            example: "2023/10/22"
        - name: all
          in: query
          description: 全ての案件か担当案件か
          schema:
            type: boolean
            default: false
            example: false
        - name: isCurrentProgram
          in: query
          description: 今回プログラムか次回プログラムか。true:今回プログラム、false:次回プログラム
          schema:
            type: boolean
            example: true
            default: true
        - name: customerSegment
          in: query
          description: 顧客セグメント
          schema:
            type: string
            example: startup
        - name: industrySegment
          in: query
          description: 業界セグメント
          schema:
            type: string
            example: IT
        - name: departmentName
          in: query
          description: 部署名
          schema:
            type: string
            example: SGC
        - name: currentSituation
          in: query
          description: 現状
          schema:
            type: string
            example: 順調
        - name: issue
          in: query
          description: 課題
          schema:
            type: string
            example: メンバー不足
        - name: customerSuccess
          in: query
          description: カスタマーサクセス
          schema:
            type: string
            example: 利益率120%
        - name: lineup
          in: query
          description: ラインナップ
          schema:
            type: string
            example: conceptArrangement
        - name: requiredPersonalSkill
          in: query
          description: 不足/必要な人材とスキル
          schema:
            type: string
            example: 十分なマーケティング能力を備えていること
        - name: requiredPartner
          in: query
          description: 不足/必要な協業パートナーと要件
          schema:
            type: string
            example: 潤沢な資金があること
        - name: strength
          in: query
          description: 自社の強み
          schema:
            type: string
            example: マーケティング能力
        - name: projectResult
          in: query
          description: プロジェクト結果
          schema:
            type: string
            example: 成功
        - name: supportResult
          in: query
          description: 支援結果
          schema:
            type: string
            example: 成功
      security:
        - JWTBearer: []
      description: |-
        # 説明
        検索結果に一致するマスターカルテの一覧を取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | マスターカルテ(NPF) | 企業情報≒取引先情報  | R |  |
        | マスターカルテ(NPF) | 担当部署情報  | R |  |
        | 一般ユーザーテーブル(PP) | 一般ユーザー情報  | R |  |
        | 案件テーブル(PP) | 案件情報  | R |  |

        # 処理定義
        * 権限制御をPPで行い、パラメータに追加
        * 検索項目をパラメーターに追加し、NPF APIのfieldに必要な項目のみ指定し、リクエストを行う
        * NPFGetProjectsAPIで検索を行い、該当の案件ID一覧を取得
        * 該当の案件一覧をPPの案件テーブルから別途取得
        * 各項目をフロントエンドに返す

        # その他
        - ソートは行わない
        - 検索条件はANDのみ適用
        - FOでは対象案件の絞り込みを行う
        - お客様名のサジェストはPPのサジェストAPIを使用（PP側にある案件のみを表示させる必要があるため）
        - NPF案件IDはマスターカルテ詳細ページのリンクに利用
        - PP案件IDはその他のリンクに利用
        - 各検索項目は"lineup=A%20B%20C"のように%20を挟むことで複数の項目をAnd指定することが可能
      responses:
        "200":
          $ref: "#/components/responses/GetMasterKartenResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

    post:
      tags:
        - "MasterKarte"
      summary: CreateMasterKarte
      parameters:
        - name: isCurrentProgram
          in: query
          description: 今回プログラムか否か
          required: true
          schema:
            type: boolean
            example: true
          example: true

      description: |-
        # 説明
        マスターカルテを作成します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | マスターカルテ(NPF) | 企業情報≒取引先情報  | U |  |
        | マスターカルテ(NPF) | 担当部署情報  | U |  |
        | マスターカルテ(NPF) | 案件情報  | U |  |
        | 一般ユーザーテーブル(PP) | 一般ユーザー情報  | R | 権限制御のために利用 |

        # 処理定義
        * 権限制御をPPで行う
        * 商談IDを元にNPF APIに更新リクエストを行う
        * NPF APIから該当マスターカルテ各項目を取得
        * 一般ユーザーテーブルを利用し、最終更新ID(メールアドレス)から最終更新者名を取得
        * 各項目をフロントエンドに返す

        # その他
        - NPFで保存するプログラムレコードは今回プログラム・次回プログラムの二種類が存在
        - 同画面内で案件カルテ取作成APIを叩く
      requestBody:
        $ref: "#/components/requestBodies/MasterKarteRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GetMasterKarteByIdResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /master-karten/{npf-project-id}:
    get:
      tags:
        - "MasterKarte"
      summary: GetMasterKarteById
      parameters:
        - $ref: "#/components/parameters/NpfProjectIdPathParameter"
      description: |-
        # 説明
        指定したマスターカルテを取得します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | マスターカルテ(NPF) | 企業情報≒取引先情報  | R |  |
        | マスターカルテ(NPF) | 担当部署情報  | R |  |
        | マスターカルテ(NPF) | 案件情報  | R |  |
        | 一般ユーザーテーブル(PP) | 一般ユーザー情報  | R | 権限制御のために利用 |

        # 処理定義
        * 権限制御をPPで行う
        * 商談IDを元にNPF APIにリクエストを行う
        * NPF APIから該当マスターカルテ各項目を取得
        * 一般ユーザーテーブルを利用し、最終更新ID(メールアドレス)から最終更新者名を取得
        * 各項目をフロントエンドに返す

        # その他
        - NPFで保存するプログラムレコードは今回プログラム・次回プログラムの二種類が存在
        - 同画面内で案件カルテ取得APIを叩く
      responses:
        "200":
          $ref: "#/components/responses/GetMasterKarteByIdResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

    put:
      tags:
        - "MasterKarte"
      summary: UpdateMasterKarteById
      parameters:
        - $ref: "#/components/parameters/NpfProgramIdPathParameter"
        - name: isCurrentProgram
          in: query
          description: 今回プログラムか次回プログラムか。true:今回プログラム、false:次回プログラム
          required: true
          schema:
            type: boolean
            default: true
          example: true
      description: |-
        # 説明
        プログラムIDを利用して指定したマスターカルテを更新します。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | マスターカルテ(NPF) | 企業情報≒取引先情報  | U |  |
        | マスターカルテ(NPF) | 担当部署情報  | U |  |
        | マスターカルテ(NPF) | 案件情報  | U |  |
        | 一般ユーザーテーブル(PP) | 一般ユーザー情報  | R | 権限制御のために利用 |

        # 処理定義
        * 権限制御をPPで行う
        * 商談IDを元にNPF APIに更新リクエストを行う
        * NPF APIから該当マスターカルテ各項目を取得
        * 一般ユーザーテーブルを利用し、最終更新ID(メールアドレス)から最終更新者名を取得
        * 各項目をフロントエンドに返す

        # その他
        - NPFで保存するプログラムレコードは今回プログラム・次回プログラムの二種類が存在
        - 同画面内で案件カルテ取更新PIを叩く
      requestBody:
        $ref: "#/components/requestBodies/MasterKarteByIdRequestBody"
      responses:
        "200":
          $ref: "#/components/responses/GetMasterKarteByIdResponse"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /master-karten/select-box:
    get:
      tags:
        - "MasterKarte"
      summary: GetMasterKarteSelectBox
      security:
        - JWTBearer: []
      description: |-
        # 説明
        マスターカルテからラインナップ・顧客セグメント・業界セグメントのセレクトボックスを取得する。

        # 利用テーブル
        | テーブル名 | ファセット| CRUD | 備考 |
        | ----- | ----- | ----- | ----- |
        | コードマスタ(NPF) | コードマスタ情報  | R |  |

        # 処理定義
        * NPF GetCodeMaster API利用
        * "customer_segment%28industry_segment%28lineup"をクエリパラメータに含めてリクエストを行う

      responses:
        "200":
          $ref: "#/components/responses/GetMasterKarteSelectBox"
        "400":
          $ref: "#/components/responses/BadRequestResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /misc/generate-signed-url:
    post:
      tags:
        - "Miscellaneous"
      security:
        - JWTBearer: []
      summary: GenerateSignedUrl
      description: |-
        # 説明
        アップロードしたファイルを参照するための署名付きURLを生成します。

        このインタフェースではキー項目が固定化されていません。
        以下に示すような構造の JSON を受け取り、ネストされた配列の URL を署名付き URL に置き換えます。

        リクエストとして受け取るJSON
        ```
        {
            "png": [
                "https://dev.partner-portal.inhouse-sony-startup-acceleration-program.com/1/fe8091f6-77cc-4a6b-9822-2e62d547ea16/animal_chara_computer_neko.png",
                "https://dev.partner-portal.inhouse-sony-startup-acceleration-program.com/1/fe8091f6-77cc-4a6b-9822-2e62d547ea16/nigaoe_sonken.png",
                "https://dev.partner-portal.inhouse-sony-startup-acceleration-program.com/1/fe8091f6-77cc-4a6b-9822-2e62d547ea16/egypt_ammut_ammit.png"
            ],
            "mov": [
                "https://dev.partner-portal.inhouse-sony-startup-acceleration-program.com/1/fe8091f6-77cc-4a6b-9822-2e62d547ea16/spike_dynamodb_lockkey-demo.mov"
            ],
            "zip": [
                "https://dev.partner-portal.inhouse-sony-startup-acceleration-program.com/1/fe8091f6-77cc-4a6b-9822-2e62d547ea16/spike_dynamodb_lockkey.zip"
            ]
        }
        ```

        署名付き URL を発行してレスポンスとして返す JSON

        ```
        {
            "png": [
                "https://dev.partner-portal.inhouse-sony-startup-acceleration-program.com/1/fe8091f6-77cc-4a6b-9822-2e62d547ea16/animal_chara_computer_neko.png?Expires=1598945565&Signature=IDbfNI2E1stJG6BgG0L-ejgkYC-LfOBI6X6DZjjVOdowEe0ARPSVbDFD3~CmCbYAw~Cdu~-Ef76btsNI7hi0VU4EwU~U3snlJyatpRMDXokspJizE5oDt21BxxbZqQHv-eK5c8f8tGe-VYPafeTskcRtlUMLbJzYW3lja3FlBtIaMzASScvvxWXDB-RRnrPFFoHVVjzLZfrzmfOlOdbc7mprnW~uFm6Mh1G5hciGyUHAvnCtCJzq6IHvqm0KmIkNWHaVBXE2WV3C10fZttBNxlImV0XyxqsOFCbhTz8k9wt-PaKOzF1Aasyq5FvEx9k7wa5ZfUBYhYHIaQtCClOS3A__&Key-Pair-Id=APKAJRTET5NS6EXZFNSQ",
                "https://dev.partner-portal.inhouse-sony-startup-acceleration-program.com/1/fe8091f6-77cc-4a6b-9822-2e62d547ea16/nigaoe_sonken.png?Expires=1598945565&Signature=gOVUYuX-eS2rHVCRQ2iMyhLrQVSBDEGfvrj8cUGQBVVYt6G~GJxX~qdRFFBN~-En--mvyWWgLYjmsL2o-0GI3XIPQr9728eu0MIhEYGM-j9mfFdkSP3~Wav0R5dO-MJdh88BoEJSVhCiJ9YbabVycFn2KmVxhxJZ0~RZLLugUw24sgdkh0noRvc5NaYaakBrl3t8CoMgnpxXe3ii30enBpV6fzxoaMlHGz4XE1NClIkQUUol0LT1YEqmXKuhAyjDg64-zyRewGpizBq2AcDwQeCzNqUprcfgeTHcMg8aHWT-ZoNj~v9oAx2OZbz1fpHDbxL0LI22O8p7kokcuaM5-w__&Key-Pair-Id=APKAJRTET5NS6EXZFNSQ",
                "https://dev.partner-portal.inhouse-sony-startup-acceleration-program.com/1/fe8091f6-77cc-4a6b-9822-2e62d547ea16/egypt_ammut_ammit.png?Expires=1598945565&Signature=e84WW2EUTd~VtWUoE1odJO~KghY27JxPMv46qhqYCSLl4lm86LqU-~YiJj6nutwHLYusknSMvWBQ2BN4oQ5JrrUJCyYwnlhAoYZusfPJO-xylw0qMd~u5XKnCAomIkLoEn2cml-fsY4vzg3FzJLWh-jHHem6PoxbgLnTxD6B39u2N9Vi9kxCGPWBBRHvXlPTUjEhlacs2o3FDBMGoSl1a4yz0roiWFqHicJ9z91MkTHcHt35EQ5JvAK6qx7N-eWNzZITLiuxbxAwKo9Sg2P2XUJ0kyAYV2IXFauGt-tdXXBGoMXq8XTjKMOAkpBD49q~m90nhXzEkQSLl9joVlkEXQ__&Key-Pair-Id=APKAJRTET5NS6EXZFNSQ"
            ],
            "mov": [
                "https://dev.partner-portal.inhouse-sony-startup-acceleration-program.com/1/fe8091f6-77cc-4a6b-9822-2e62d547ea16/spike_dynamodb_lockkey-demo.mov?Expires=1598945565&Signature=g8NIVBmuckX3j7TQ1WBZGoxV5-RX8idoPmbm59sPPnOAgXlCqy78-UQTmMFYps~-mBhXjmayUi6BWzjDNGiurGXN3VOqcqZNQaJktfZC1Q4UMy5oT0KUttyh9Yd7SMiyzL-M1zR6IPYJFgWHVl5yi9Meti3vfT8fZ3XXP4QGcbTl7yWLlQY34aouRqthbMFqT-vYkwaA6KDB~mF-cD9fJqclDZDyVM8VxQHE3F2cCNTiJQwPZM~M0aeAMgGrZuRU34uuTaLW1Fh1-bFgTR0vy7UTQtHoIYpX2cjhaVyexuCCQuy0rQZsv2MgNus7byvz0E2lDc8aX5Z4YbZEy9Im-w__&Key-Pair-Id=APKAJRTET5NS6EXZFNSQ"
            ],
            "zip": [
                "https://dev.partner-portal.inhouse-sony-startup-acceleration-program.com/1/fe8091f6-77cc-4a6b-9822-2e62d547ea16/spike_dynamodb_lockkey.zip?Expires=1598945565&Signature=FTtbU8nmr4j~64VqE0LPUMRvUPBWD6H9hZ75eGSZT3wIwC8dxQJFs~Y2JkdG4P2vdGdkBdal3h9UBObM6UHiJRomEapg~uqltuN2uRMQ2k7JeWvoMA5U0KWvDbY3RFeMsBtQWVRqAN~4BsMjQLcA~jDY0VOyfom9OIsIcNgF6~mIO7fpotaaD84acKHg0UehUMYjRP7PGsjpexHHs8cLf5t~-yD4WWezFWvPL0lukQh6SiVrEz0yfrYg-OpUv0r0gtG~RgP9XuXUcGOanE26Q~B3CSvgX1c6IohXgElFeT82wI3dPDh44OFWVDrIj1854H0NVVrzbg6iP-v9pKaiCg__&Key-Pair-Id=APKAJRTET5NS6EXZFNSQ"
            ]
        }
        ```

        # 利用テーブル
        なし
      requestBody:
        content:
          application/json:
            schema: {}
        required: true
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema: {}
        "401":
          $ref: "#/components/responses/UnauthorizedResponse"
        "403":
          $ref: "#/components/responses/ForbiddenResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

  /misc/health-check:
    get:
      tags:
        - "Miscellaneous"
      summary: HealthCheck
      description: |-
        # 説明
        死活監視API
        S3のバケット取得、DynamoDBのテーブル一覧を取得し稼働を確認する

        # 利用テーブル
        なし
      responses:
        "200":
          $ref: "#/components/responses/HealthCheckResponse"
        "422":
          $ref: "#/components/responses/UnprocessableEntityResponse"
        "429":
          $ref: "#/components/responses/TooManyRequestsResponse"
        "500":
          $ref: "#/components/responses/InternalServerErrorResponse"
        "default":
          $ref: "#/components/responses/UnprocessableEntityResponse"

components:
  #-------------------------------
  # Reusable schemas (data models)
  #-------------------------------
  schemas:
    UserModel:
      description: 一般ユーザーモデル
      required:
        - id
        - name
        - email
        - role
        - disabled
      type: object
      properties:
        id:
          title: 一般ユーザーID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        name:
          title: 氏名
          type: string
          example: 山田太郎
        email:
          title: メールアドレス
          type: string
          example: yamada@example.com
        role:
          title: ロール識別子
          type: string
          enum:
            - customer
            - supporter
            - sales
            - supporter_mgr
            - sales_mgr
        customerId:
          title: 取引先ID（顧客のみ。取引先テーブルの組織情報を参照）
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        customerName:
          title: 取引先名（顧客のみ。取引先テーブルの組織情報を参照）
          type: string
          readOnly: true
          example: ○○株式会社
        job:
          title: 役職（顧客のみ）
          type: string
          example: 部長
        company:
          title: 所属会社（顧客以外）
          type: string
          example: ソニーグループ株式会社
        supporterOrganizations:
          title: 支援者組織（支援者、支援者責任者のみ）
          type: array
          items:
            type: object
            properties:
              id:
                title: 支援者組織ID
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
              name:
                title: 支援者組織名
                type: string
                example: IST
                readOnly: true
        organizationName:
          title: 部署名（支援者、支援者責任者以外）
          type: string
          example: 管理部
        isInputManHour:
          title: 工数調査要否（支援者、支援者責任者のみ。不要にした場合は工数入力不可）
          type: boolean
        projectIds:
          title: 参加案件ID
          type: array
          items:
            type: string
            example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        agreed:
          title: 規約同意済（新規作成時はfalse）
          type: boolean
        lastLoginAt:
          title: 最終ログイン日時（JST）
          type: string
          readOnly: true
          example: "2020-10-23T03:21:39.356872Z"
        disabled:
          title: 無効（ログイン不可）デフォルト、指定しなかった場合はfalse
          type: boolean
          example: false

    UserSuggestModel:
      description: |
        一般ユーザーモデル（サジェスト用）
      required:
        - id
        - name
        - email
      type: object
      properties:
        id:
          title: 一般ユーザーID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        name:
          title: 氏名
          type: string
          example: 山田太郎
          readOnly: true
        email:
          title: メールアドレス
          type: string
          example: yamada@example.com
          readOnly: true
        customerName:
          title: 取引先名（顧客のみ）
          type: string
          readOnly: true
          example: ○○株式会社

    CustomerModel:
      description: 取引先モデル
      required:
        - id
        - name
      type: object
      properties:
        id:
          title: 取引先ID（取引先識別ID）
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        name:
          title: 取引先名
          type: string
          example: ソニーグループ株式会社
        category:
          title: カテゴリ
          type: string
          example: ソニーグループ
        salesforceCustomerId:
          title: Salesfoce取引先ID
          type: string
          readOnly: true
        salesforceUpdateAt:
          title: Salesfoce最終更新日時（JST）※sf
          type: string
          example: "2020-10-23T03:21:39.356872Z"

    CustomerSuggestModel:
      description: 取引先モデル（サジェスト用）
      required:
        - id
        - name
      type: object
      properties:
        id:
          title: 取引先ID（取引先識別ID）
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        name:
          title: 取引先名
          type: string
          example: ソニーグループ株式会社
          readOnly: true

    NotificationModel:
      description: お知らせモデル
      required:
        - id
        - userId
        - summary
        - confirmed
        - noticedAt
      type: object
      properties:
        id:
          title: お知らせID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        userId:
          title: ユーザーID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        summary:
          title: お知らせタイトル
          type: string
          example: カルテを記入してください。
        url:
          title: お知らせリンク
          type: string
          example: https://example.com/project-survey/89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        message:
          title: お知らせ文言
          type: string
          example: 支援が完了したのでカルテを記入してください。
        confirmed:
          title: 確認済
          type: boolean
        noticedAt:
          title: お知らせ日時（JST）
          type: string
          example: "2020-10-23T03:21:39.356872Z"

    MasterModel:
      description: マスターモデル
      required:
        - id
        - dataType
        - name
        - value
        - order
      type: object
      properties:
        id:
          title: データID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        dataType:
          title: データ区分（支援者組織情報、サービス種別、工数アラート設定、バッチ処理制御）
          type: string
          enum:
            - supporter_organization
            - service_type
            - alert_factor
            - batch_control
        name:
          title: 名前
          type: string
          example: Ideation Service Team
        value:
          title: 値
          type: string
          example: IST
        attributes:
          title: 制御情報
          type: object
        order:
          title: 並び順
          type: integer
          example: 1

    SupporterOrganizationMasterModel:
      description: 支援者組織マスターモデル
      required:
        - id
        - name
        - shortName
      type: object
      properties:
        id:
          title: 支援者組織ID
          description: 汎用マスターのID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        name:
          title: 支援者組織名
          description: 汎用マスターの名称
          type: string
          example: Ideation Service Team​
        shortName:
          title: 支援者組織略名
          description: 汎用マスターの値
          type: string
          example: IST

    ServiceTypeMasterModel:
      description: サービス種別マスターモデル
      required:
        - id
        - name
      type: object
      properties:
        id:
          title: サービス種別ID
          description: 汎用マスターのID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        name:
          title: サービス種別名
          description: 汎用マスターの名称
          type: string
          example: アイデア可視化

    BatchControlMasterModel:
      description: バッチ制御情報モデル
      required:
        - batchEndAt
      type: object
      properties:
        batchEndAt:
          title: 処理終了日時（JST）
          type: string
          example: "2020-10-23T03:21:39.356872Z"
          readOnly: true

    SurveyMasterModel:
      description: アンケートマスターモデル
      required:
        - id
        - revision
        - name
        - type
        - timing
        - initSendDaySetting
        - initAnswerLimitDaySetting
        - isDisclosure
        - questions
        - questionFlow
        - isLatest
      type: object
      properties:
        id:
          title: アンケートマスタID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        revision:
          title: バージョン番号（大きいものがより最新）
          type: integer
          example: 1
          readOnly: true
        name:
          title: テンプレート名
          type: string
          example: 修了アンケート
        type:
          title: アンケート種別（service:サービス、completion:修了、quick:クイック、pp:PartnarPortal）
          type: string
          enum:
            - service
            - completion
            - quick
            - pp
        timing:
          title: アンケート頻度（monthly:毎月、monthly_not_completion_month:毎月（修了月除く）、completion_month:修了月、anytime:任意）
          type: string
          enum:
            - monthly
            - monthly_not_completion_month
            - completion_month
            - anytime
        initSendDaySetting:
          title: 送信日初期設定（0:なし、1～31:毎月○日、-30～-1:回答期限日から○営業日前）
          type: number
          example: 20
        initAnswerLimitDaySetting:
          title: 回答期限初期設定（0:なし、99:月末最終営業日、1～30:○営業日後, 101～130:翌月月初○営業日(営業日に+100した数値)）
          type: number
          example: 5
        isDisclosure:
          title: 支援者への開示の問があるか
          type: boolean
        questions:
          title: 設問
          type: array
          items:
            type: object
            required:
              - id
              - description
              - required
              - format
              - disabled
              - isNew
            properties:
              id:
                title: 設問ID
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
              required:
                title: 必須か否か
                type: boolean
              description:
                title: 設問説明
                type: string
                example: 当月のSSAP支援にはご満足いただけましたか？
              format:
                title: |-
                  入力フォーマット（checkbox: チェックボックス、radio:ラジオボタン、selectbox:プルダウンリスト、textarea:テキストエリア）
                type: string
                enum:
                  - checkbox
                  - radio
                  - selectbox
                  - textarea
                example: checkbox
              summaryType:
                title: |-
                  集計タイプ（ラジオボタンのみ）<br>
                  （normal: 通常の設問、point:点数形式、satisfaction:満足度、continuation:継続意思、recommended:紹介可能性、sales:営業評価、survey_satisfaction:カルテ機能満足度、man_hour_satisfaction:工数機能満足度、karte_satisfaction:カルテ機能満足度）
                type: string
                enum:
                  - normal
                  - point
                  - satisfaction
                  - continuation
                  - recommended
                  - sales
                  - survey_satisfaction
                  - man_hour_satisfaction
                  - karte_satisfaction
                example: point
              choices:
                title: 選択肢
                type: array
                items:
                  type: object
                  properties:
                    description:
                      title: 回答選択肢グループ見出し
                      type: string
                      example: 支援者の対応姿勢
                    group:
                      title: 選択肢グループ
                      type: array
                      items:
                        type: object
                        required:
                          - id
                          - title
                          - disabled
                          - isNew
                        properties:
                          id:
                            title: 選択肢ID
                            type: string
                            example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
                          title:
                            title: 選択肢
                            type: string
                            example: とても満足
                          disabled:
                            title: 無効（出題時に表示しない）
                            type: boolean
                            default: false
                          isNew:
                            title: 今バージョンで初めて追加された選択肢か（運用中になったらfalseに更新）
                            type: boolean
                            default: true
                    isNew:
                      title: 今バージョンで初めて追加された選択肢グループか（運用中になったらfalseに更新）
                      type: boolean
                      default: true
              otherDescription:
                title: 回答任意入力見出し
                type: string
                example: その他記載欄（任意）
              disabled:
                title: 無効（出題時に表示しない）
                type: boolean
                default: false
              isNew:
                title: 今バージョンで初めて追加された設問か（運用中になったらfalseに更新）
                type: boolean
                default: true
        questionFlow:
          title: 出題フロー
          type: array
          items:
            type: object
            required:
              - id
            properties:
              id:
                title: 設問ID
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
              conditionId:
                title: 条件分岐元設問ID
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
              conditionChoiceIds:
                title: 条件分岐選択肢ID（空配列:条件なし、選択肢ID（複数可））
                type: array
                items:
                  type: string
                  example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        isLatest:
          title: 最新バージョンか
          type: boolean

    SurveyMasterOnlyQuestionsModel:
      description: アンケートマスターモデル
      required:
        - id
        - projectName
        - customerName
        - questions
        - version
      type: object
      properties:
        id:
          title: アンケートマスタID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        projectName:
          title: 案件名
          type: string
          example: "○○プロジェクト"
          readOnly: true
        customerName:
          title: 顧客(取引先名)
          type: string
          example: ソニーグループ株式会社
          readOnly: true
        questions:
          title: 設問
          type: array
          items:
            type: object
            required:
              - id
              - required
              - description
              - format
              - disabled
              - isNew
            properties:
              id:
                title: 設問ID
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
              required:
                title: 必須か否か
                type: boolean
              description:
                title: 設問説明
                type: string
                example: 当月のSSAP支援にはご満足いただけましたか？
              format:
                title: |-
                  入力フォーマット（checkbox: チェックボックス、radio:ラジオボタン、selectbox:プルダウンリスト、textarea:テキストエリア）
                type: string
                enum:
                  - checkbox
                  - radio
                  - selectbox
                  - textarea
                example: checkbox
              summaryType:
                title: |-
                  集計タイプ（ラジオボタンのみ）<br>
                  （normal: 通常の設問、point:点数形式、satisfaction:満足度、continuation:継続意思、recommended:紹介可能性、sales:営業評価、survey_satisfaction:カルテ機能満足度、man_hour_satisfaction:工数機能満足度、karte_satisfaction:カルテ機能満足度）
                type: string
                enum:
                  - normal
                  - point
                  - satisfaction
                  - continuation
                  - recommended
                  - sales
                  - survey_satisfaction
                  - man_hour_satisfaction
                  - karte_satisfaction
                example: point
              choices:
                title: 選択肢
                type: array
                items:
                  type: object
                  properties:
                    description:
                      title: 回答選択肢グループ見出し
                      type: string
                      example: 支援者の対応姿勢
                    group:
                      title: 選択肢グループ
                      type: array
                      items:
                        type: object
                        required:
                          - id
                          - title
                          - disabled
                          - isNew
                        properties:
                          id:
                            title: 選択肢ID
                            type: string
                            example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
                          title:
                            title: 選択肢
                            type: string
                            example: とても満足
                          disabled:
                            title: 無効（出題時に表示しない）
                            type: boolean
                            default: false
                          isNew:
                            title: 今バージョンで初めて追加された選択肢か（運用中になったらfalseに更新）
                            type: boolean
                            default: true
                    isNew:
                      title: 今バージョンで初めて追加された選択肢グループか（運用中になったらfalseに更新）
                      type: boolean
                      default: true
              otherDescription:
                title: 回答任意入力見出し
                type: string
                example: その他記載欄（任意）
              disabled:
                title: 無効（出題時に表示しない）
                type: boolean
                default: false
              isNew:
                title: 今バージョンで初めて追加された設問か（運用中になったらfalseに更新）
                type: boolean
                default: true
        version:
          title: ロックキー（楽観ロック制御）
          type: integer
          minimum: 1
          default: 1

    ManHourModel:
      description: 工数モデル
      required:
        - yearMonth
        - supporterUserId
        - supporterOrganizationId
        - directSupportManHours
        - preSupportManHours
        - salesSupportManHours
        - ssapManHours
        - holidaysManHours
        - summaryManHours
        - isConfirm
      type: object
      properties:
        yearMonth:
          title: 発生年月
          type: string
          format: yyyy/mm
          example: 2022/01
        supporterUserId:
          title: 支援者ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        supporterUserName:
          title: 支援者名
          type: string
        supporterOrganizationId:
          title: 支援者組織ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        supporterOrganizationName:
          title: 支援者組織名
          type: string
          example: IST
        directSupportManHours:
          title: 直接支援工数
          type: object
          properties:
            items:
              title: 入力値
              type: array
              items:
                type: object
                required:
                  - projectId
                  - projectName
                  - role
                  - customerId
                  - customerName
                  - serviceType
                  - kartenManHour
                  - inputManHour
                properties:
                  projectId:
                    title: 案件ID
                    type: string
                    example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
                  projectName:
                    title: 案件名
                    type: string
                    readOnly: true
                  role:
                    title: （案件内ごとの支援者の）役割
                    type: string
                  customerId:
                    title: 顧客ID
                    type: string
                    readOnly: true
                  customerName:
                    title: 顧客名
                    type: string
                    readOnly: true
                  serviceType:
                    title: サービス種別
                    type: string
                  kartenManHour:
                    title: カルテ入力工数（h）
                    type: number
                    readOnly: true
                  inputManHour:
                    title: 入力工数（h）
                    type: number
            memo:
              title: メモ
              type: string
        preSupportManHours:
          title: 仕込支援工数
          type: object
          properties:
            items:
              title: 入力値
              type: array
              items:
                type: object
                required:
                  - projectId
                  - projectName
                  - role
                  - customerId
                  - customerName
                  - serviceType
                  - inputManHour
                properties:
                  projectId:
                    title: 案件ID
                    type: string
                    example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
                  projectName:
                    title: 案件名
                    type: string
                    readOnly: true
                  role:
                    title: （案件内ごとの支援者の）役割
                    type: string
                  customerId:
                    title: 顧客ID
                    type: string
                    readOnly: true
                  customerName:
                    title: 顧客名
                    type: string
                    readOnly: true
                  serviceType:
                    title: サービス種別
                    type: string
                  inputManHour:
                    title: 入力工数（h）
                    type: number
            memo:
              title: メモ
              type: string
        salesSupportManHours:
          title: 新規・継続案件獲得工数
          type: object
          properties:
            items:
              title: 入力値
              type: array
              items:
                type: object
                required:
                  - projectName
                  - customerId
                  - customerName
                  - type
                  - inputManHour
                properties:
                  projectName:
                    title: 案件名
                    type: string
                  customerId:
                    title: 取引先ID
                    type: string
                    example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
                  customerName:
                    title: 取引先名
                    type: string
                    readOnly: true
                  type:
                    title: 新規・継続
                    type: string
                    enum:
                      - new
                      - continuation
                  inputManHour:
                    title: 入力工数（h）
                    type: number
            memo:
              title: メモ
              type: string
        ssapManHours:
          title: SSAP業務工数
          type: object
          properties:
            meeting:
              title: 課内の情報共有を行う会議体への参加および準備（h）
              type: number
            study:
              title: 課内の勉強会への参加および準備（h）
              type: number
            learning:
              title: 上記に含まれないセミナー・e-Learning・トレーニング・自己研鑽・インプットのための勉強会・講習会・研修への参加及びその準備、時事情報収集（h）
              type: number
            newService:
              title: 新サービス提案に関わる活動（調査・資料作成・関係者とのMTG）（h）
              type: number
            startdash:
              title: StartDash改善に向けた対応工数全般（h）
              type: number
            improvement:
              title: 上記に含まれない部門内改善業務及び会議体への参加（加速支援レビュー、IECサロン、Be Heard等）（h）
              type: number
            ssap:
              title: SSAPが対外的に提供するイベント・サービス運営業務全般（オーディション、SOID、SOIV、FirstFlight運営業務等）（h）
              type: number
            qc:
              title: 品質・QA・CS・コンプライアンス・委員会・セキュリティ関連対応（h）
              type: number
            accounting:
              title: 勤怠処理・精算処理・健康診断（h）
              type: number
            management:
              title: 組織のマネジメント業務（課長・担当者共通）（h）
              type: number
            officeWork:
              title: 上記に含まれない会議・事務工数全般（h）
              type: number
            others:
              title: 上記に含まれないその他の工数の合計（h）
              type: number
            memo:
              title: メモ
              type: string
        holidaysManHours:
          title: 休暇その他工数
          type: object
          properties:
            paidHoliday:
              title: 有給休暇（h）
              type: number
            holiday:
              title: その他休暇（h）
              type: number
            private:
              title: 休憩・私用外出・家事対応・半休（h）
              type: number
            others:
              title: 上記に含まれない雑務（h）
              type: number
            departmentOthers:
              title: SSAP以外の部署の業務（h）
              type: number
            memo:
              title: メモ
              type: string
        summarySupportManHours:
          title: 工数計
          type: object
          required:
            - direct
            - pre
            - sales
            - ssap
            - others
            - total
          properties:
            direct:
              title: 直接支援計
              type: number
            pre:
              title: 仕込支援計
              type: number
            sales:
              title: 新規・継続獲得計
              type: number
            ssap:
              title: SSAP業務工数計
              type: number
            others:
              title: その他計
              type: number
            total:
              title: 合計
              type: number
        isConfirm:
          title: 工数確定済みフラグ
          type: boolean

    ProjectRoleManHourModel:
      description: 月次案件別役割別工数モデル（月次工数集計表用）
      required:
        - yearMonth
        - manHours
      type: object
      properties:
        yearMonth:
          title: 発生年月
          type: string
          format: yyyy/mm
        manHours:
          title: 工数
          items:
            required:
              - manHourTypeName
              - projectName
              - serviceTypeName
              - roleName
              - supporterOrganizationMonHours
            type: object
            properties:
              manHourTypeName:
                title: 工数分類名
                type: string
                example: 1.顧客支援（直接・有償）
              projectName:
                title: 案件名
                type: string
              serviceTypeName:
                title: サービス種別名
                type: string
                example: 01.組織開発
              roleName:
                title: 役割名
                type: string
                example: メインプロデューサー
              supporterOrganizationMonHours:
                title: 支援者組織別稼働工数
                type: array
                items:
                  type: object
                  required:
                    - supporterOrganizationName
                  properties:
                    supporterOrganizationName:
                      title: 支援者組織略名
                      type: string
                      example: IST
                    supporters:
                      title: 支援者別工数
                      type: array
                      items:
                        type: object
                        required:
                          - name
                          - manHour
                          - isConfirm
                        properties:
                          name:
                            title: 支援者名
                            type: string
                            example: 田中
                          manHour:
                            title: 工数
                            type: number
                            example: 12
                          isConfirm:
                            title: 工数確定済みフラグ
                            type: boolean

    SummaryProjectSupporterManHourStatusModel:
      description: 案件別支援工数状況モデル
      required:
        - projectId
        - projectName
        - customerId
        - customerName
        - supporterOrganizationId
        - serviceType
        - supportDateFrom
        - supportDateTo
        - totalContractTime
        - thisMonthContractTime
        - summarySupporterDirectSupportManHour
        - thisMonthSupporterDirectSupportManHour
        - summaryDirectSupportManHour
        - thisMonthDirectSupportManHour
        - summaryDirectSupportManHourLimit
        - thisMonthDirectSupportManHourLimit
        - summarySupporterPreSupportManHour
        - thisMonthSupporterPreSupportManHour
        - summaryPreSupportManHour
        - thisMonthPreSupportManHour
        - summaryPreSupportManHourLimit
        - thisMonthPreSupportManHourLimit
      type: object
      properties:
        projectId:
          title: 案件ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        projectName:
          title: 案件名
          type: string
        customerId:
          title: 取引先ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        customerName:
          title: 取引先名
          type: string
        supporterOrganizationId:
          title: 支援者組織ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        serviceType:
          title: サービス区分（組織開発orアイデア可視化of社会実装PoC）
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        supportDateFrom:
          title: 支援期間（From）（yyyy/mm/dd）
          type: string
          example: 2021/01/30
        supportDateTo:
          title: 支援期間（To）（yyyy/mm/dd）
          type: string
          example: 2022/02/30
        totalContractTime:
          title: 契約時間（合計）：AA時間
          type: number
        thisMonthContractTime:
          title: 契約時間（当月）：A時間
          type: number
        summarySupporterDirectSupportManHour:
          title: 対面支援時間 本人（合計）：BB時間
          type: number
        thisMonthSupporterDirectSupportManHour:
          title: 対面支援時間 本人（当月）：B時間
          type: number
        summaryDirectSupportManHour:
          title: 対面支援時間 全担当者（合計）：CC時間
          type: number
        thisMonthDirectSupportManHour:
          title: 対面支援時間 全担当者（当月）：C時間
          type: number
        summaryDirectSupportManHourLimit:
          title: 対面支援時間 全担当者（合計）：上限目安：DD時間
          type: number
        thisMonthDirectSupportManHourLimit:
          title: 対面支援時間 全担当者（当月）：上限目安：D時間
          type: number
        summarySupporterPreSupportManHour:
          title: 仕込み時間 本人（合計）：EE時間
          type: number
        thisMonthSupporterPreSupportManHour:
          title: 仕込み時間 本人（当月）：E時間
          type: number
        summaryPreSupportManHour:
          title: 仕込み時間 全担当者（合計）：GG時間
          type: number
        thisMonthPreSupportManHour:
          title: 仕込み時間 全担当者（当月）：G時間
          type: number
        summaryPreSupportManHourLimit:
          title: 仕込み時間 全担当者（合計）：上限目安：HH時間
          type: number
        thisMonthPreSupportManHourLimit:
          title: 仕込み時間 全担当者（当月）：上限目安：H時間
          type: number

    MasterKarteByIdRequestModel:
      description: マスターカルテ更新リクエストモデル
      type: object
      properties:
        pp_project_id:
          title: PP案件ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        currentProgram:
          title: 現在のプログラム
          type: object
          properties:
            isCustomerPublic:
              title: お客様に公開か非公開か
              type: boolean
              example: false
            isSsapPublic:
              title: 案件担当者外にに公開か非公開か
              type: boolean
              example: false
            version:
              title: ロックキー（楽観ロック制御）
              type: integer
              minimum: 1
              default: 1
            fundamentalInformation:
              title: 基本情報
              type: object
              properties:
                requiredPersonalSkill:
                  description: 不足/必要な人材とスキル
                  type: string
                  example: 十分なマーケティング能力を備えていること
                requiredPartner:
                  description: 不足/必要な協業パートナーと要件
                  type: string
                  example: 潤沢な資金があること
                ourStrengths:
                  description: 自社の強み
                  type: string
                  example: 潤沢な資金があること
                aspiration:
                  title: お客様の希望事項
                  type: string
            result:
              title: 案件結果・実績情報
              type: object
              properties:
                projectResult:
                  title: プロジェクト結果
                  type: string
                  example: 成功
                projectSuccessFactor:
                  title: プロジェクト結果成功要因
                  type: string
                  example: 強みを活かせたこと
                supportResult:
                  title: 支援結果
                  type: string
                  example: 成功
                surveySsapAssessment:
                  title: SSAPの自己評価
                  type: string
                  example: 80点だといえる。
                AssessmentCause:
                  title: 自己評価理由
                  type: string
                  example: 成功に導くことができた
                surveyId:
                  title: アンケートID
                  type: string
                  example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
                satisfactionEvaluation:
                  title: 満足度評価
                  type: array
                  items:
                    title: 満足度評価
                    type: object
                    properties:
                      isAnswer:
                        title: 選択されているか
                        type: boolean
                        example: true
                      title:
                        title: 選択肢
                        type: string
                        example: "5: とても満足"
        nextProgram:
          title: 次回のプログラム
          type: object
          properties:
            isCustomerPublic:
              title: お客様に公開か非公開か
              type: boolean
              example: false
            isSsapPublic:
              title: 案件担当者外にに公開か非公開か
              type: boolean
              example: false
            version:
              title: ロックキー（楽観ロック制御）
              type: integer
              minimum: 1
              default: 1
            fundamentalInformation:
              title: 基本情報
              type: object
              properties:
                presidentPolicy:
                  title: 社長の方針
                  type: string
                  example: "○○を目指す"
                kpi:
                  title: ゴール・KPI
                  type: string
                  example: "2025年: 事業化"
                toBeThreeYears:
                  title: 3年後のTo Be像
                  type: string
                  example: "○○を達成する"
                currentSituation:
                  title: 現状
                  type: string
                  example: "○○ができていない"
                issue:
                  title: 課題
                  type: string
                  example: "○○を解決したい"
                request:
                  title: リクエスト
                  type: string
                  example: "○○を実現したい"
                customerSuccess:
                  title: カスタマーサクセス
                  type: string
                  example: "ユーザー数を10倍にする"
                customerSuccessReuse:
                  title: カスタマーサクセス(リユース有無)
                  type: boolean
                  example: true
                schedule:
                  title: スケジュール
                  type: string
                  example: "2025年: 事業化"
                serviceCategory:
                  title: サービス区分
                  type: string
                  example: "アイデア可視化"
                lineup:
                  title: ラインナップ
                  type: string
                  example: conceptArrangiment
                supportContents:
                  title: 支援内容
                  type: string
                  example: ユーザー数を10倍にする
                requiredPersonalSkill:
                  description: 不足/必要な人材とスキル
                  type: string
                  example: 十分なマーケティング能力を備えていること
                requiredPartner:
                  description: 不足/必要な協業パートナーと要件
                  type: string
                  example: 潤沢な資金があること
                ourStrengths:
                  description: 自社の強み
                  type: string
                  example: 潤沢な資金があること
                aspiration:
                  title: お客様の希望事項
                  type: string
            Others:
              title: その他チェック事項
              type: object
              properties:
                mission:
                  title: 部署のミッション・機能
                  type: string
                  example: 新規事業立ち上げ
                numberOfPeople:
                  title: 人数
                  type: string
                  example: "実施体制: 10名"
                manager:
                  title: 責任者
                  type: string
                  example: "田中太郎"
                commercializationSkill:
                  title: 事業化スキル
                  type: string
                  example: "○○ができる"
                existPartners:
                  title: パートナー・外注先の有無
                  type: string
                  example: "コンサルを起用し、一緒に進めていく"
                supportOrder:
                  title: 事務局による支援体制
                  type: string
                  example: 3名で支援を行う
                existEvaluation:
                  title: 事業の提案評価プロセスの有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                existAudition:
                  title: オーディション・社内公募企画の有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                existIdeation:
                  title: アイディエーション試作の有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                existIdeaReview:
                  title: 事業アイデア審査体制の有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                budget:
                  title: 予算の有無や課題
                  type: string
                  example: 未定。
                humanResource:
                  title: 人事制度
                  type: string
                  example: リファラル採用を強めていく
                idea:
                  title: アイデアは既にあるか？
                  type: string
                  example: ある
                theme:
                  title: テーマはあるか？(アイデアがない場合)
                  type: string
                  example: なし
                client:
                  title: 顧客は誰か
                  type: string
                  example: ソニーグループ会社
                clientIssue:
                  title: 顧客の課題は何か
                  type: string
                  example: ユーザーが増えない
                solution:
                  title: 顧客に対しどのようなソリューションか？
                  type: string
                  example: 未定
                originality:
                  title: 独自性は何か？
                  type: string
                  example: 未定
                mvp:
                  title: 必要不可欠な特徴・機能(MVP)は何か？
                  type: string
                  example: 未定
                tam:
                  title: 提供サービスの市場(TAM)の金額規模と将来の伸び率は？
                  type: string
                  example: 未定
                sam:
                  title: ターゲットセグメント(SAM)の金額規模と将来の伸び率は？
                  type: string
                  example: 未定
                isRightTime:
                  title: 市場投入のタイミングは適切か？
                  type: string
                  example: 未定
                roadMap:
                  title: 事業化後の長期戦略やロードマップはあるか？
                  type: string
                  example: 未定

    MasterKarteRequestModel:
      description: マスターカルテ作成リクエストモデル
      type: object
      properties:
        pp_project_id:
          title: PP案件ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        currentProgram:
          title: 現在のプログラム
          type: object
          properties:
            fundamentalInformation:
              title: 基本情報
              type: object
              properties:
                requiredPersonalSkill:
                  description: 不足/必要な人材とスキル
                  type: string
                  example: 十分なマーケティング能力を備えていること
                requiredPartner:
                  description: 不足/必要な協業パートナーと要件
                  type: string
                  example: 潤沢な資金があること
                ourStrengths:
                  description: 自社の強み
                  type: string
                  example: 潤沢な資金があること
                aspiration:
                  title: お客様の希望事項
                  type: string
            result:
              title: 案件結果・実績情報
              type: object
              properties:
                projectResult:
                  title: プロジェクト結果
                  type: string
                  example: 成功
                projectSuccessFactor:
                  title: プロジェクト結果成功要因
                  type: string
                  example: 強みを活かせたこと
                supportResult:
                  title: 支援結果
                  type: string
                  example: 成功
                surveySsapAssessment:
                  title: SSAPの自己評価
                  type: string
                  example: 80点だといえる。
                AssessmentCause:
                  title: 自己評価理由
                  type: string
                  example: 成功に導くことができた
        nextProgram:
          title: 次回のプログラム
          type: object
          properties:
            is_customer_public:
              title: お客様への公開・非公開
              type: boolean
              example: false
              default: false
            is_ssap_public:
              title: 案件担当者外への公開・非公開
              type: boolean
              example: false
              default: false
            fundamentalInformation:
              title: 基本情報
              type: object
              properties:
                presidentPolicy:
                  title: 社長の方針
                  type: string
                  example: "○○を目指す"
                kpi:
                  title: ゴール・KPI
                  type: string
                  example: "2025年: 事業化"
                toBeThreeYears:
                  title: 3年後のTo Be像
                  type: string
                  example: "○○を達成する"
                currentSituation:
                  title: 現状
                  type: string
                  example: "○○ができていない"
                issue:
                  title: 課題
                  type: string
                  example: "○○を解決したい"
                request:
                  title: リクエスト
                  type: string
                  example: "○○を実現したい"
                customerSuccess:
                  title: カスタマーサクセス
                  type: string
                  example: "ユーザー数を10倍にする"
                customerSuccessReuse:
                  title: カスタマーサクセス(リユース有無)
                  type: boolean
                  example: true
                schedule:
                  title: スケジュール
                  type: string
                  example: "2025年: 事業化"
                serviceCategory:
                  title: サービス区分
                  type: string
                  example: "アイデア可視化"
                lineup:
                  title: ラインナップ
                  type: string
                  example: conceptArrangiment
                supportContents:
                  title: 支援内容
                  type: string
                  example: ユーザー数を10倍にする
                requiredPersonalSkill:
                  description: 不足/必要な人材とスキル
                  type: string
                  example: 十分なマーケティング能力を備えていること
                requiredPartner:
                  description: 不足/必要な協業パートナーと要件
                  type: string
                  example: 潤沢な資金があること
                ourStrengths:
                  description: 自社の強み
                  type: string
                  example: 潤沢な資金があること
                aspiration:
                  title: お客様の希望事項
                  type: string
            Others:
              title: その他チェック事項
              type: object
              properties:
                mission:
                  title: 部署のミッション・機能
                  type: string
                  example: 新規事業立ち上げ
                numberOfPeople:
                  title: 人数
                  type: string
                  example: "実施体制: 10名"
                manager:
                  title: 責任者
                  type: string
                  example: "田中太郎"
                commercializationSkill:
                  title: 事業化スキル
                  type: string
                  example: "○○ができる"
                existPartners:
                  title: パートナー・外注先の有無
                  type: string
                  example: "コンサルを起用し、一緒に進めていく"
                supportOrder:
                  title: 事務局による支援体制
                  type: string
                  example: 3名で支援を行う
                existEvaluation:
                  title: 事業の提案評価プロセスの有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                existAudition:
                  title: オーディション・社内公募企画の有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                existIdeation:
                  title: アイディエーション試作の有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                existIdeaReview:
                  title: 事業アイデア審査体制の有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                budget:
                  title: 予算の有無や課題
                  type: string
                  example: 未定。
                humanResource:
                  title: 人事制度
                  type: string
                  example: リファラル採用を強めていく
                idea:
                  title: アイデアは既にあるか？
                  type: string
                  example: ある
                theme:
                  title: テーマはあるか？(アイデアがない場合)
                  type: string
                  example: なし
                client:
                  title: 顧客は誰か
                  type: string
                  example: ソニーグループ会社
                clientIssue:
                  title: 顧客の課題は何か
                  type: string
                  example: ユーザーが増えない
                solution:
                  title: 顧客に対しどのようなソリューションか？
                  type: string
                  example: 未定
                originality:
                  title: 独自性は何か？
                  type: string
                  example: 未定
                mvp:
                  title: 必要不可欠な特徴・機能(MVP)は何か？
                  type: string
                  example: 未定
                tam:
                  title: 提供サービスの市場(TAM)の金額規模と将来の伸び率は？
                  type: string
                  example: 未定
                sam:
                  title: ターゲットセグメント(SAM)の金額規模と将来の伸び率は？
                  type: string
                  example: 未定
                isRightTime:
                  title: 市場投入のタイミングは適切か？
                  type: string
                  example: 未定
                roadMap:
                  title: 事業化後の長期戦略やロードマップはあるか？
                  type: string
                  example: 未定

    MasterKarteByIdModel:
      description: マスターカルテ詳細モデル
      required:
        - npfProjectId
        - ppProjectId
        - service
        - project
        - client
        - supportDateFrom
        - supportDateTo
        - lastUpdateDatetime
      type: object
      properties:
        npfProjectId:
          title: NPF案件ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        ppProjectId:
          title: PP案件ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        service:
          title: サービス名
          type: string
          example: 組織開発
        project:
          title: 案件名
          type: string
        client:
          title: お客様名・部署名
          type: string
          example: ソニーグループ株式会社 人事部
        supportDateFrom:
          title: 支援期間（From）（yyyy/mm/dd）
          type: string
          example: 2023/08/30
        supportDateTo:
          title: 支援期間（To）（yyyy/mm/dd）
          type: string
          example: 2023/09/30
        lastUpdateDatetime:
          title: 最終更新日時
          type: string
          example: "2020/10/23 03:21"
        lastUpdateBy:
          title: 最終更新者
          type: string
          example: "田中太郎"
        currentProgram:
          title: 今回プログラム
          type: object
          properties:
            id:
              title: プログラムID
              type: string
              example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
            version:
              title: ロックキー（楽観ロック制御）
              type: integer
              minimum: 1
              default: 1
            fundamentalInformation:
              title: 基本情報
              type: object
              properties:
                presidentPolicy:
                  title: 社長の方針
                  type: string
                  example: "○○を目指す"
                kpi:
                  title: ゴール・KPI
                  type: string
                  example: "2025年: 事業化"
                toBeThreeYears:
                  title: 3年後のTo Be像
                  type: string
                  example: "○○を達成する"
                currentSituation:
                  title: 現状
                  type: string
                  example: "○○ができていない"
                issue:
                  title: 課題
                  type: string
                  example: "○○を解決したい"
                request:
                  title: リクエスト
                  type: string
                  example: "○○を実現したい"
                customerSuccess:
                  title: カスタマーサクセス
                  type: string
                  example: "ユーザー数を10倍にする"
                customerSuccessReuse:
                  title: カスタマーサクセス(リユース有無)
                  type: boolean
                  example: true
                schedule:
                  title: スケジュール
                  type: string
                  example: "2025年: 事業化"
                serviceCategory:
                  title: サービス区分
                  type: string
                  example: "アイデア可視化"
                lineup:
                  title: ラインナップ
                  type: string
                  example: conceptArrangement
                supportContents:
                  title: 支援内容
                  type: string
                  example: ユーザー数を10倍にする
                requiredPersonalSkill:
                  description: 不足/必要な人材とスキル
                  type: string
                  example: 十分なマーケティング能力を備えていること
                requiredPartner:
                  description: 不足/必要な協業パートナーと要件
                  type: string
                  example: 潤沢な資金があること
                ourStrengths:
                  description: 自社の強み
                  type: string
                  example: 潤沢な資金があること
                aspiration:
                  title: お客様の希望事項
                  type: string
                usageHistory:
                  type: array
                  items:
                    title: プログラム利用履歴
                    type: object
                    properties:
                      serviceType:
                        title: サービス種別
                        type: string
                        example: アイデア可視化
                      projectName:
                        title: 案件名
                        type: string
                      npfProjectId:
                        title: NPF案件ID
                        type: string
                        example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
            result:
              title: 案件結果・実績情報
              type: object
              properties:
                projectResult:
                  title: プロジェクト結果
                  type: string
                  example: 成功
                projectSuccessFactor:
                  title: プロジェクト結果成功要因
                  type: string
                  example: 強みを活かせたこと
                supportResult:
                  title: 支援結果
                  type: string
                  example: 成功
                surveySsapAssessment:
                  title: SSAPの自己評価
                  type: string
                  example: 80点だといえる。
                AssessmentCause:
                  title: 自己評価理由
                  type: string
                  example: 成功に導くことができた
                questionnaire:
                  title: 終了時アンケート詳細
                  type: string
                  example: www.example.com
                satisfactionEvaluation:
                  title: 満足度評価
                  type: array
                  items:
                    title: 満足度評価
                    type: object
                    properties:
                      isAnswer:
                        title: 選択されているか
                        type: boolean
                        example: true
                      title:
                        title: 選択肢
                        type: string
                        example: "5: とても満足"
            companyDepartment:
              title: 企業・部署情報
              type: object
              properties:
                customerName:
                  title: 企業名
                  type: string
                  example: "○○株式会社"
                customerUrl:
                  title: 企業のホームページURL
                  type: string
                  example: www.example.com
                customerSegment:
                  title: 顧客セグメント
                  type: string
                  example: 大企業
                establishment:
                  title: 設立年月日
                  type: string
                  example: "2020年10月"
                employee:
                  title: 従業員数
                  type: integer
                  example: 1000
                capitalStock:
                  title: 資本金
                  type: integer
                  example: 1000
                buisinessSummary:
                  title: 事業概要
                  type: string
                  example: 〇〇を使って社会に貢献する。
                industrySegment:
                  title: 業界セグメント
                  type: string
                  example: IT
                departmentId:
                  title: 部署ID
                  type: string
                  example: "89cbe2ed-f44c-4a1c-9408-c67b0ca2270d"
                departmentName:
                  title: 部署名
                  type: string
                  example: "○○部"
            Others:
              title: その他チェック事項
              type: object
              properties:
                mission:
                  title: 部署のミッション・機能
                  type: string
                  example: 新規事業立ち上げ
                numberOfPeople:
                  title: 人数
                  type: string
                  example: "実施体制: 10名"
                manager:
                  title: 責任者
                  type: string
                  example: "田中太郎"
                commercializationSkill:
                  title: 事業化スキル
                  type: string
                  example: "○○ができる"
                existPartners:
                  title: パートナー・外注先の有無
                  type: string
                  example: "コンサルを起用し、一緒に進めていく"
                supportOrder:
                  title: 事務局による支援体制
                  type: string
                  example: 3名で支援を行う
                existEvaluation:
                  title: 事業の提案評価プロセスの有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                existAudition:
                  title: オーディション・社内公募企画の有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                existIdeation:
                  title: アイディエーション試作の有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                existIdeaReview:
                  title: 事業アイデア審査体制の有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                budget:
                  title: 予算の有無や課題
                  type: string
                  example: 未定。
                humanResource:
                  title: 人事制度
                  type: string
                  example: リファラル採用を強めていく
                idea:
                  title: アイデアは既にあるか？
                  type: string
                  example: ある
                theme:
                  title: テーマはあるか？(アイデアがない場合)
                  type: string
                  example: なし
                client:
                  title: 顧客は誰か
                  type: string
                  example: ソニーグループ会社
                clientIssue:
                  title: 顧客の課題は何か
                  type: string
                  example: ユーザーが増えない
                solution:
                  title: 顧客に対しどのようなソリューションか？
                  type: string
                  example: 未定
                originality:
                  title: 独自性は何か？
                  type: string
                  example: 未定
                mvp:
                  title: 必要不可欠な特徴・機能(MVP)は何か？
                  type: string
                  example: 未定
                tam:
                  title: 提供サービスの市場(TAM)の金額規模と将来の伸び率は？
                  type: string
                  example: 未定
                sam:
                  title: ターゲットセグメント(SAM)の金額規模と将来の伸び率は？
                  type: string
                  example: 未定
                isRightTime:
                  title: 市場投入のタイミングは適切か？
                  type: string
                  example: 未定
                roadMap:
                  title: 事業化後の長期戦略やロードマップはあるか？
                  type: string
                  example: 未定
        nextProgram:
          title: 次回プログラム
          type: object
          properties:
            id:
              title: プログラムID
              type: string
              example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
            isCustomerPublic:
              title: お客様：公開/非公開
              type: boolean
              example: false
            isSsapPublic:
              title: 案件担当者外：公開/非公開
              type: boolean
              example: false
            version:
              title: ロックキー（楽観ロック制御）
              type: integer
              minimum: 1
              default: 1
            fundamentalInformation:
              title: 基本情報
              type: object
              properties:
                presidentPolicy:
                  title: 社長の方針
                  type: string
                  example: "○○を目指す"
                kpi:
                  title: ゴール・KPI
                  type: string
                  example: "2025年: 事業化"
                toBeThreeYears:
                  title: 3年後のTo Be像
                  type: string
                  example: "○○を達成する"
                currentSituation:
                  title: 現状
                  type: string
                  example: "○○ができていない"
                issue:
                  title: 課題
                  type: string
                  example: "○○を解決したい"
                request:
                  title: リクエスト
                  type: string
                  example: "○○を実現したい"
                customerSuccess:
                  title: カスタマーサクセス
                  type: string
                  example: "ユーザー数を10倍にする"
                customerSuccessReuse:
                  title: カスタマーサクセス(リユース有無)
                  type: boolean
                  example: true
                schedule:
                  title: スケジュール
                  type: string
                  example: "2025年: 事業化"
                serviceCategory:
                  title: サービス区分
                  type: string
                  example: "アイデア可視化"
                lineup:
                  title: ラインナップ
                  type: string
                  example: conceptArrangiment
                supportContents:
                  title: 支援内容
                  type: string
                  example: ユーザー数を10倍にする
                requiredPersonalSkill:
                  description: 不足/必要な人材とスキル
                  type: string
                  example: 十分なマーケティング能力を備えていること
                requiredPartner:
                  description: 不足/必要な協業パートナーと要件
                  type: string
                  example: 潤沢な資金があること
                ourStrengths:
                  description: 自社の強み
                  type: string
                  example: 潤沢な資金があること
                aspiration:
                  title: お客様の希望事項
                  type: string
                usageHistory:
                  type: array
                  items:
                    title: プログラム利用履歴
                    type: object
                    properties:
                      serviceType:
                        title: サービス種別
                        type: string
                        example: アイデア可視化
                      projectName:
                        title: 案件名
                        type: string
                      npfProjectId:
                        title: NPF案件ID
                        type: string
                        example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
            Others:
              title: その他チェック事項
              type: object
              properties:
                mission:
                  title: 部署のミッション・機能
                  type: string
                  example: 新規事業立ち上げ
                numberOfPeople:
                  title: 人数
                  type: string
                  example: "実施体制: 10名"
                manager:
                  title: 責任者
                  type: string
                  example: "田中太郎"
                commercializationSkill:
                  title: 事業化スキル
                  type: string
                  example: "○○ができる"
                existPartners:
                  title: パートナー・外注先の有無
                  type: string
                  example: "コンサルを起用し、一緒に進めていく"
                supportOrder:
                  title: 事務局による支援体制
                  type: string
                  example: 3名で支援を行う
                existEvaluation:
                  title: 事業の提案評価プロセスの有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                existAudition:
                  title: オーディション・社内公募企画の有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                existIdeation:
                  title: アイディエーション試作の有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                existIdeaReview:
                  title: 事業アイデア審査体制の有無や課題
                  type: string
                  example: なし。ただし今後プロセス整備をしたい。
                budget:
                  title: 予算の有無や課題
                  type: string
                  example: 未定。
                humanResource:
                  title: 人事制度
                  type: string
                  example: リファラル採用を強めていく
                idea:
                  title: アイデアは既にあるか？
                  type: string
                  example: ある
                theme:
                  title: テーマはあるか？(アイデアがない場合)
                  type: string
                  example: なし
                client:
                  title: 顧客は誰か
                  type: string
                  example: ソニーグループ会社
                clientIssue:
                  title: 顧客の課題は何か
                  type: string
                  example: ユーザーが増えない
                solution:
                  title: 顧客に対しどのようなソリューションか？
                  type: string
                  example: 未定
                originality:
                  title: 独自性は何か？
                  type: string
                  example: 未定
                mvp:
                  title: 必要不可欠な特徴・機能(MVP)は何か？
                  type: string
                  example: 未定
                tam:
                  title: 提供サービスの市場(TAM)の金額規模と将来の伸び率は？
                  type: string
                  example: 未定
                sam:
                  title: ターゲットセグメント(SAM)の金額規模と将来の伸び率は？
                  type: string
                  example: 未定
                isRightTime:
                  title: 市場投入のタイミングは適切か？
                  type: string
                  example: 未定
                roadMap:
                  title: 事業化後の長期戦略やロードマップはあるか？
                  type: string
                  example: 未定

    MasterKarteAllModel:
      description: マスターカルテ一覧モデル
      required:
        - ppProjectId
        - salesforceOpportunityId
        - service
        - project
        - client
        - supportDateFrom
        - supportDateTo
        - lastUpdateDatetime
      type: object
      properties:
        npfProjectId:
          title: NPF案件ID
          type: string
        ppProjectId:
          title: PP案件ID
          type: string
        project:
          title: 案件名
          type: string
          example: 地域活性プロジェクト
        client:
          title: お客様名・部署名
          type: string
          example: ソニーグループ株式会社
        supportDateFrom:
          title: 支援期間（From）（yyyy/mm/dd）
          type: string
          example: 2023/08/30
        supportDateTo:
          title: 支援期間（To）（yyyy/mm/dd）
          type: string
          example: 2023/09/30

    ProjectModel:
      description: 案件モデル
      required:
        - id
        - customerId
        - name
        - customerName
        - serviceType
        - mainSalesUserId
        - contractDate
        - phase
        - supportDateFrom
        - supportDateTo
        - profit
        - totalContractTime
        - isCountManHour
        - isKarteRemind
        - contractType
        - isSecret
      type: object
      properties:
        id:
          title: 案件ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        customerId:
          title: 顧客ID（取引先ID）
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        salesforceCustomerId:
          title: Salesforce取引先ID
          type: string
          readOnly: true
        salesforceOpportunityId:
          title: Salesforce商談ID
          type: string
          readOnly: true
        salesforceUpdateAt:
          title: Salesforce最終更新日時
          type: string
          example: "2020/10/23 03:21"
          readOnly: true
        name:
          title: 商談名（案件名）
          type: string
          example: ○○プロジェクト
        customerName:
          title: 顧客名（取引先名）
          type: string
        serviceType:
          title: サービス区分（組織開発orアイデア可視化of社会実装PoC）
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        serviceTypeName:
          title: サービス区分名
          type: string
          readOnly: true
        createNew:
          title: 新規・更新
          type: boolean
        continued:
          title: 期をまたぐ案件
          type: boolean
        mainSalesUserId:
          title: 営業担当者
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        mainSalesUserName:
          title: 営業担当者名
          type: string
          readOnly: true
        contractDate:
          title: 契約締結日（yyyy/mm/dd）
          type: string
          example: 2021/01/30
        phase:
          title: フェーズ(プラン提示(D)、見積もり提示(C)、口頭内諾(B)、内部決済完了(A)、失注(G)、Open、活動中(E)、Drop(F))
          type: string
          enum:
            - プラン提示(D)
            - 見積もり提示(C)
            - 内諾(B)
            - 内部決済完了(A)
            - 失注(G)
            - Open、活動中(E)
            - Drop(F)
        customerSuccess:
          title: カスタマーサクセス
          type: string
          example: DXの実現
        supportDateFrom:
          title: 支援開始日（yyyy/mm/dd）
          type: string
          example: 2021/01/30
        supportDateTo:
          title: 支援終了日（yyyy/mm/dd）
          type: string
          example: 2022/02/30
        profit:
          title: 粗利
          type: object
          required:
            - year
          properties:
            monthly:
              title: 月毎（FYの値が按分してセットされる）
              type: array
              items:
                type: number
              example:
                [
                  400000,
                  400000,
                  400000,
                  400000,
                  400000,
                  400000,
                  400000,
                  400000,
                  400000,
                  400000,
                  400000,
                  400000,
                ]
              readOnly: true
            quarterly:
              title: Q毎（FYの値が按分してセットされる）
              type: array
              items:
                type: number
              example: [1200000, 1200000, 1200000, 1200000]
              readOnly: true
            half:
              title: 半年毎（FYの値が按分してセットされる）
              type: array
              items:
                type: number
              example: [2400000, 2400000]
              readOnly: true
            year:
              title: FY
              type: number
              example: 4800000
        totalContractTime:
          title: 延べ契約時間（h）
          type: number
          example: 200
        mainCustomerUserId:
          title: 担当顧客（取引先責任者）
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        mainCustomerUserName:
          title: 担当顧客名
          type: string
          readOnly: true
        salesforceMainCustomer:
          title: Salesforce取引先責任者
          type: object
          properties:
            name:
              title: 名前
              type: string
            email:
              title: メールアドレス
              type: string
            organizationName:
              title: 部署
              type: string
            job:
              title: 役職
              type: string
        customerUsers:
          title: 顧客メンバー ※複数
          type: array
          items:
            type: object
            properties:
              id:
                title: ID
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
              name:
                title: 名称
                type: string
                readOnly: true
        mainSupporterUserId:
          title: メイン支援者（主担当）
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        mainSupporterUserName:
          title: メイン支援者名
          type: string
          readOnly: true
        supporterOrganizationId:
          title: 支援者組織（粗利メイン課、アンケート集計課）ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        supporterOrganizationName:
          title: 支援者組織（課）名
          type: string
          readOnly: true
        salesforceMainSupporterUserName:
          title: Salesforce主担当（プロデューサー初期値）
          type: string
        supporterUsers:
          title: 支援者メンバー（副担当） ※複数
          type: array
          items:
            type: object
            properties:
              id:
                title: ID
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
              name:
                title: 名称
                type: string
                readOnly: true
        salesforceSupporterUserNames:
          title: Salesforce副担当（アクセラレータ―初期値）
          type: array
          items:
            type: string
        isCountManHour:
          title: 工数調査するかしないか
          type: boolean
        isKarteRemind:
          title: カルテの書き忘れリマインド
          type: boolean
        contractType:
          title: 契約形態（有償or無償）
          type: string
          enum:
            - 有償
            - 無償
          example: 有償
        isSecret:
          title: 案件関係者以外参照不可
          type: boolean

    ProjectSuggestModel:
      description: |
        案件モデル（サジェスト用）
      required:
        - id
        - name
        - displayName
      type: object
      properties:
        id:
          title: 案件ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        name:
          title: 商談名（案件名）
          type: string
          example: ○○プロジェクト
        displayName:
          title: 表示名
          description: |
            案件に同名が存在するため識別用の名前<br>
            「案件名」：「サービス種別」：「期間（yyyy/mm/dd ～ yyyy/mm/dd）」：「取引先名」
          type: string
          example: ○○プロジェクト：アイデア可視化：2022/01/03 ～ 2022/08/31：○○株式会社

    ProjectKarteModel:
      description: 案件カルテモデル
      type: object
      required:
        - karteId
        - projectId
        - date
        - startDatetime
        - startTime
        - endTime
        - supporterIds
        - draftSupporterId
        - draftDatetime
        - lastUpdateDatetime
        - customerUserIds
        - manHour
        - isDraft
      properties:
        karteId:
          title: 案件カルテID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        projectId:
          title: 案件ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        date:
          title: 支援日
          type: string
          format: yyyy/mm/dd
          example: 2022/01/20
        startDatetime:
          title: 支援開始日時
          type: string
          format: yyyy/mm/dd hh:mm
          example: 2022/01/20 10:00
        startTime:
          title: 開始時間
          type: string
          example: 10:00
        endTime:
          title: 終了時間
          type: string
          example: 13:00
        supporterIds:
          title: 出席支援者ID
          type: array
          items:
            type: string
            example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        draftSupporterId:
          title: 起票支援者ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        draftSupporterName:
          title: 起票支援者名
          type: string
          readOnly: true
        draftDatetime:
          title: 起票日時
          type: string
          example: "2020-10-23T03:21:39.356872Z"
        lastUpdateDatetime:
          title: 最終更新日時
          type: string
          example: "2020-10-23T03:21:39.356872Z"
        customerUserIds:
          title: 出席顧客ID
          type: array
          items:
            type: string
            example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        manHour:
          title: 実施時間（工数h）
          type: integer
        detail:
          title: 支援実施内容
          type: string
        feedback:
          title: フィードバック
          type: string
        homework:
          title: 宿題
          type: string
        documents:
          title: 資料
          type: array
          items:
            type: object
            required:
              - fileName
              - path
            properties:
              fileName:
                title: ファイル名
                type: string
              path:
                title: パス ※S3保存パス
                type: string
        deliverables:
          title: 成果物
          type: array
          items:
            type: object
            required:
              - fileName
              - path
            properties:
              fileName:
                title: ファイル名
                type: string
              path:
                title: パス ※S3保存パス
                type: string
        memo:
          title: マネジメントへのリクエスト
          type: string
        humanResourceNeededForCustomer:
          title: お客様に不足している人的リソース
          type: string
        companyAndIndustryRecommendedToCustomer:
          title: お客様に紹介したい企業や産業
          type: string
        humanResourceNeededForSupport:
          title: SAP支援チームに補充したい人的リソース
          type: string
        task:
          title: 現状の課題・所感・申し送り
          type: string
        isDraft:
          title: 下書きか否か
          type: boolean

    ProjectGetKartenModel:
      description: 案件カルテ取得用モデル
      type: object
      required:
        - karteId
        - date
        - startTime
        - endTime
        - updateUser
      properties:
        karteId:
          title: 案件カルテID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        date:
          title: 支援日
          type: string
          format: yyyy/mm/dd
          example: 2022/01/20
        startTime:
          title: 開始時間
          type: string
          example: 10:00
        endTime:
          title: 終了時間
          type: string
          example: 13:00
        lastUpdateDatetime:
          title: 最終更新日時
          type: string
          example: "2020-10-23T03:21:39.356872Z"
        isDraft:
          title: 下書きか否か
          type: boolean
          example: false
        updateUser:
          title: 更新者名
          type: string
          example: "テストユーザー"

    ProjectGetKartenLatestModel:
      description: 最新更新案件カルテ取得用モデル
      type: object
      required:
        - karteId
        - projectId
        - projectName
        - customerName
        - date
        - startTime
        - endTime
        - day
        - lastUpdateDatetime
        - draftSupporterName
      properties:
        karteId:
          title: 案件カルテID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        projectId:
          title: 案件ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        projectName:
          title: 案件名
          type: string
          example: "プロジェクトA"
        customerName:
          title: 取引先名
          type: string
          example: "取引先名"
        date:
          title: 支援日
          type: string
          format: yyyy/mm/dd
          example: 2022/01/20
        startTime:
          title: 開始時間
          type: string
          example: 10:00
        endTime:
          title: 終了時間
          type: string
          example: 13:00
        day:
          title: 曜日
          type: string
          example: "火"
        lastUpdateDatetime:
          title: 最終更新日時
          type: string
          example: "2020-10-23T03:21:39.356872Z"
        draftSupporterName:
          title: 最終更新者名
          type: string
          example: "最終更新者名"
          readOnly: true

    ProjectGetKarteByIdModel:
      description: 案件カルテID取得用モデル
      type: object
      required:
        - karteId
        - projectId
        - date
        - startDatetime
        - startTime
        - endTime
        - supporterIds
        - draftSupporterId
        - draftSupporterName
        - customerUserIds
        - manHour
        - isDraft
      properties:
        karteId:
          title: 案件カルテID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        projectId:
          title: 案件ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        date:
          title: 支援日
          type: string
          format: yyyy/mm/dd
          example: 2022/01/20
        startDatetime:
          title: 支援開始日時
          type: string
          format: yyyy/mm/dd hh:mm
          example: 2022/01/20 10:00
        startTime:
          title: 開始時間
          type: string
          example: 10:00
        endTime:
          title: 終了時間
          type: string
          example: 13:00
        supporterIds:
          title: 出席支援者ID
          type: array
          items:
            type: string
            example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        draftSupporterId:
          title: 起票支援者ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        draftSupporterName:
          title: 起票支援者名
          type: string
          readOnly: true
        lastUpdateDatetime:
          title: 最終更新日時
          type: string
          example: "2020-10-23T03:21:39.356872Z"
        customerUserIds:
          title: 出席顧客ID
          type: array
          items:
            type: string
            example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        manHour:
          title: 実施時間（工数h）
          type: integer
          default: 0
        detail:
          title: 支援実施内容
          type: string
        feedback:
          title: フィードバック
          type: string
        homework:
          title: 宿題
          type: string
        documents:
          title: 資料
          type: array
          items:
            type: object
            required:
              - fileName
              - path
            properties:
              fileName:
                title: ファイル名
                type: string
              path:
                title: パス ※S3保存パス
                type: string
        deliverables:
          title: 成果物
          type: array
          items:
            type: object
            required:
              - fileName
              - path
            properties:
              fileName:
                title: ファイル名
                type: string
              path:
                title: パス ※S3保存パス
                type: string
        memo:
          title: マネジメントへのリクエスト
          type: string
        humanResourceNeededForCustomer:
          title: お客様に不足している人的リソース
          type: string
        companyAndIndustryRecommendedToCustomer:
          title: お客様に紹介したい企業や産業
          type: string
        humanResourceNeededForSupport:
          title: SAP支援チームに補充したい人的リソース
          type: string
        task:
          title: 現状の課題・所感・申し送り
          type: string
        isDraft:
          title: 下書きか否か
          type: boolean

    ProjectKarteByIdTimeStampModel:
      description: カルテID取得用タイムスタンプモデル
      required:
        - updateId
      type: object
      properties:
        updateId:
          title: 更新ID
          type: string
          example: fa5c9f96-af22-bbc6-ac4e-cbcb25ad18e7
        updateUserName:
          title: 更新ユーザー名（UI側で必要な場合オプションで付与される）
          type: string
          example: ソニー太郎
        updateAt:
          title: 更新日時（JST）
          type: string
          example: "2020-10-23T03:21:39.356872Z"
        version:
          title: ロックキー（楽観ロック制御）
          type: integer
          minimum: 1
          default: 1

    ProjectUpdateKarteByIdModel:
      description: 案件カルテ更新モデル
      type: object
      required:
        - isDraft
        - isNotifyUpdateKarte
      properties:
        karteId:
          title: 案件カルテID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        projectId:
          title: 案件ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        supporterIds:
          title: 出席支援者ID
          type: array
          items:
            type: string
            example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        customerUserIds:
          title: 出席顧客ID
          type: array
          items:
            type: string
            example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        manHour:
          title: 実施時間（工数h）
          type: integer
        detail:
          title: 支援実施内容
          type: string
        feedback:
          title: フィードバック
          type: string
        homework:
          title: 宿題
          type: string
        documents:
          title: 資料
          type: array
          items:
            type: object
            required:
              - fileName
              - path
            properties:
              fileName:
                title: ファイル名
                type: string
              path:
                title: パス ※S3保存パス
                type: string
        deliverables:
          title: 成果物
          type: array
          items:
            type: object
            required:
              - fileName
              - path
            properties:
              fileName:
                title: ファイル名
                type: string
              path:
                title: パス ※S3保存パス
                type: string
        memo:
          title: マネジメントへのリクエスト
          type: string
        humanResourceNeededForCustomer:
          title: お客様に不足している人的リソース
          type: string
        companyAndIndustryRecommendedToCustomer:
          title: お客様に紹介したい企業や産業
          type: string
        humanResourceNeededForSupport:
          title: SAP支援チームに補充したい人的リソース
          type: string
        task:
          title: 現状の課題・所感・申し送り
          type: string
        isDraft:
          title: 下書きか否か
          type: boolean
        isNotifyUpdateKarte:
          title: カルテの更新を通知するか否か
          type: boolean

    CreateProjectSupportSchedulesRequestModel:
      description: 案件支援スケジュールモデル
      type: object
      required:
        - timing
        - supportDate
        - startTime
        - endTime
      properties:
        timing:
          title: タイミング
          type: string
          example: monthly
          enum:
            - monthly
            - weekly
            - once
        supportDate:
          title: 支援日
          type: string
          example: "2022/05/01"
          description: 毎月の場合:1~31 毎週の場合:0(月)~6(日) 1回のみの場合:yyyy/mmm/dd
        startTime:
          title: 支援開始時刻(hh:mm)
          type: string
          example: "12:00"
        endTime:
          title: 支援終了時刻(hh:mm)
          type: string
          example: "15:00"

    UpdateProjectSupportSchedulesRequestModel:
      description: 案件支援スケジュールモデル
      type: object
      required:
        - support_date
        - support_start_time
        - support_end_time
      properties:
        support_date:
          title: 支援日
          type: string
          example: "2022/05/01"
        support_start_time:
          title: 支援開始時刻(hh:mm)
          type: string
          example: "12:00"
        support_end_time:
          title: 支援終了時刻(hh:mm)
          type: string
          example: "15:00"

    CreateSurveySchedulesRequestModel:
      description: アンケートスケジュールモデル
      type: object
      required:
        - surveyType
        - timing
        - limitDate
      properties:
        surveyType:
          title: アンケートタイプ
          type: string
          example: quick
          enum:
            - service
            - completion
            - quick
        surveyMasterId:
          title: アンケートマスタID（クイックアンケートの場合必須）
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        timing:
          title: スケジュールタイミング種別（every_month:毎月, every_week:毎週, once:1回）
          type: string
          example: monthly
          enum:
            - monthly
            - weekly
            - once
        requestDate:
          title: アンケート送信日時（曜日指定:0-6, 毎月○日:1-31, 回答期限日から○営業日前:-30～-1,特定日:2022/04/01）
          type: string
          example: 20
        limitDate:
          title: 回答期限日(月末最終営業日:99, なし:0, 〇営業日後:1～30, 翌月月初○営業日:101～130(営業日に+100した数値))
          type: integer
          maximum: 130
          minimum: 0
          example: 5

    UpdateProjectSurveySchedulesRequestModel:
      description: 案件アンケートスケジュールモデル
      type: object
      required:
        - sendDate
        - surveyLimitDate
      properties:
        sendDate:
          title: 送信日(回答期限日から○営業日前:-30～-1,特定日:2022/04/01)
          type: string
          example: "2022/05/01"
        surveyLimitDate:
          title: 回答期限日(月末最終営業日:99, なし:0, 〇営業日後:1～30, 翌月月初○営業日:101～130(営業日に+100した数値))
          type: integer
          example: 99

    ProjectSchedulesResponseModel:
      description: 案件スケジュールモデル
      type: object
      required:
        - projectId
        - projectSchedules
      properties:
        projectId:
          title: 案件ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        projectSchedules:
          title: プロジェクトスケジュールリスト
          type: array
          items:
            type: object
            required:
              - yearMonth
              - scheduleId
              - supportDate
              - supportStartTime
              - supportEndTime
              - karteId
              - createId
              - createAt
            properties:
              yearMonth:
                title: 対象年月
                type: string
                format: yyyy/mm
                example: 2022/01
              scheduleId:
                title: スケジュールID
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
                readOnly: true
              scheduleGroupId:
                title: スケジュールグループID（一括変更制御用）
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
                readOnly: true
              supportDate:
                title: 支援日
                type: string
                example: "2022/04/01"
              supportStartTime:
                title: 支援開始時刻
                type: string
                example: "10:00"
              supportEndTime:
                title: 支援終了時刻
                type: string
                example: "13:00"
              karteId:
                title: カルテID
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
              version:
                title: ロックキー（楽観ロック制御）
                type: integer
                example: 1
              createId:
                title: 作成ID
                type: string
                example: fa5c9f96-af22-bbc6-ac4e-cbcb25ad18e7
              createAt:
                title: 作成日時（date-time）
                type: string
                example: "2020-10-23T03:21:39.356Z"
              updateId:
                title: 更新ID
                type: string
                example: fa5c9f96-af22-bbc6-ac4e-cbcb25ad18e7
              updateAt:
                title: 更新日時（date-time）
                type: string
                example: "2020-10-23T03:21:39.356Z"

    ProjectSupportSchedulesResponseModel:
      description: 案件スケジュールモデル
      type: object
      required:
        - projectId
        - projectSchedules
      properties:
        projectId:
          title: 案件ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        projectSchedules:
          title: プロジェクトスケジュールリスト
          type: array
          items:
            type: object
            required:
              - yearMonth
              - supportDate
              - supportStartTime
              - supportEndTime
              - completed
              - karteId
              - version
            properties:
              yearMonth:
                title: 対象年月
                type: string
                format: yyyy/mm
                example: 2022/01
              supportDate:
                title: 支援日
                type: string
                example: "2022/04/01"
              supportStartTime:
                title: 支援開始時刻
                type: string
                example: "10:00"
              supportEndTime:
                title: 支援終了時刻
                type: string
                example: "13:00"
              completed:
                title: カルテが作成済で公開(true:公開 false:非公開)
                type: boolean
                example: true
              karteId:
                title: カルテID
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
              version:
                title: ロックキー（楽観ロック制御）
                type: integer
                example: 1

    ProjectSurveySchedulesResponseModel:
      description: 案件アンケートスケジュール取得モデル
      type: object
      required:
        - projectId
        - projectSchedules
      properties:
        projectId:
          title: 案件ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        surveyGroupId:
          title: 新規一括登録時のスケジュールグループID(一括登録をしていない場合は空文字)
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        projectSchedules:
          title: プロジェクトスケジュールリスト
          type: array
          items:
            type: object
            required:
              - scheduleGroupId
              - surveyId
              - supportDate
              - sendDate
              - surveyName
              - version
            properties:
              scheduleGroupId:
                title: スケジュールグループID（一括変更制御用）
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
                readOnly: true
              surveyId:
                title: アンケートID
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
              sendDate:
                title: 送信日
                type: string
                format: yyyy/mm/dd
                example: 2022/01/01
              surveyName:
                title: アンケート名（アンケート種別 service:サービス、completion:修了、quick:クイック）
                type: string
                example: service
              surveyLimitDate:
                title: アンケート回答期限日（回答期限なしの場合は空文字）
                type: string
                example: 2022/01/31
              version:
                title: ロックキー（楽観ロック制御）
                type: integer
                example: 1

    BulkProjectSurveySchedulesRequestModel:
      description: 一括登録時案件アンケートモデル
      type: object
      required:
        - service
        - completion
      properties:
        service:
          title: サービスアンケート
          type: object
          required:
            - requestDate
            - limitDate
          properties:
            requestDate:
              title: 送信日(毎月○日:1-31, 回答期限日から○営業日前:-30～-1)
              type: integer
              example: 8
            limitDate:
              title: 回答期限日(月末最終営業日:99, なし:0, 〇営業日後:1～30, 翌月月初○営業日:101～130(営業日に+100した数値))
              type: integer
              example: 99
        completion:
          title: 修了アンケート
          type: object
          required:
            - requestDate
            - limitDate
          properties:
            requestDate:
              title: 送信日(毎月○日:1-31, 回答期限日から○営業日前:-30～-1)
              type: integer
              example: 15
            limitDate:
              title: 回答期限日(月末最終営業日:99, なし:0, 〇営業日後:1～30, 翌月月初○営業日:101～130(営業日に+100した数値))
              type: integer
              example: 99

    ProjectSurveyModel:
      description: 案件アンケートモデル
      type: object
      required:
        - id
        - surveyMasterId
        - surveyRevision
        - surveyType
        - answerUserId
        - answerUserName
        - summaryMonth
        - isNotSummary
        - isFinished
        - isDisclosure
      properties:
        id:
          title: 案件アンケートID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        surveyMasterId:
          title: アンケートマスターID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        surveyRevision:
          title: アンケートマスターバージョン番号
          type: integer
          example: 10
          readOnly: true
        surveyType:
          title: アンケート種別（service:サービス、completion:修了、quick:クイック、pp:PartnarPortal）
          type: string
          enum:
            - service
            - completion
            - quick
            - pp
          readOnly: true
        projectId:
          title: 案件ID（PPアンケート以外）
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        projectName:
          title: 案件名（PPアンケート以外）
          type: string
          readOnly: true
        customerSuccess:
          title: カスタマーサクセス（PPアンケート以外）
          type: string
          readOnly: true
        supporterOrganizationId:
          title: 案件担当課ID（粗利メイン課）（PPアンケート以外）
          type: string
          readOnly: true
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
        supporterOrganizationName:
          title: 案件担当課名（PPアンケート以外）
          type: string
          readOnly: true
          example: IST
        supportDateFrom:
          title: 支援開始日（yyyy/mm/dd）
          type: string
          example: 2021/01/30
          readOnly: true
        supportDateTo:
          title: 支援終了日（yyyy/mm/dd）
          type: string
          example: 2022/02/30
          readOnly: true
        mainSupporterUser:
          title: 主担当支援者（PPアンケート以外）
          type: object
          required:
            - id
            - name
          readOnly: true
          properties:
            id:
              title: 支援者ユーザーID
              type: string
              example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
              readOnly: true
            name:
              title: 支援者名
              type: string
              example: アクセラレータ太郎
              readOnly: true
            organizationId:
              title: 所属課ID
              type: string
              example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
              readOnly: true
            organizationName:
              title: 所属課名
              type: string
              example: AST
              readOnly: true
        supporterUsers:
          title: 副担当支援者（PPアンケート以外）
          type: array
          description: IDで取得した場合のみ付与
          readOnly: true
          items:
            type: object
            required:
              - id
              - name
            properties:
              id:
                title: 支援者ユーザーID
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
                readOnly: true
              name:
                title: 支援者名
                type: string
                example: アクセラレータ太郎
                readOnly: true
              organizationId:
                title: 所属課ID
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
                readOnly: true
              organizationName:
                title: 所属課名
                type: string
                example: AST
                readOnly: true
        salesUserId:
          title: 担当営業ID（PPアンケート以外）
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        salesUserName:
          title: 担当営業名（PPアンケート以外）
          type: string
          example: 営業太郎
          readOnly: true
        serviceTypeId:
          title: サービス種別ID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        serviceTypeName:
          title: サービス種別名
          type: string
          example: 組織開発
          readOnly: true
        answerUserId:
          title: 回答ユーザーID（顧客or支援者）
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        answerUserName:
          title: 回答ユーザー名（顧客or支援者）
          type: string
          example: 田中太郎
          readOnly: true
        customerId:
          title: 取引先ID（顧客のみ）
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        customerName:
          title: 取引先名（顧客のみ）
          type: string
          example: ○○株式会社
          readOnly: true
        company:
          title: 所属会社（顧客以外）
          type: string
          example: ソニーグループ株式会社
          readOnly: true
        answers:
          title: 設問ごとの回答
          type: array
          items:
            type: object
            required:
              - id
              - answer
            properties:
              id:
                title: 設問ID
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
              answer:
                title: 回答（文字列表現）
                type: string
              point:
                title: 回答点数（数値表現）
                type: integer
              choiceIds:
                title: 回答選択肢ID（複数）
                type: array
                items:
                  type: string
                  example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
              summaryType:
                title: |-
                  集計タイプ（ラジオボタンのみ）<br>
                  （normal: 通常の設問、point:点数形式、satisfaction:満足度、continuation:継続意思、recommended:紹介可能性、sales:営業評価、survey_satisfaction:カルテ機能満足度、man_hour_satisfaction:工数機能満足度、karte_satisfaction:カルテ機能満足度）
                type: string
                enum:
                  - normal
                  - point
                  - satisfaction
                  - continuation
                  - recommended
                  - sales
                  - survey_satisfaction
                  - man_hour_satisfaction
                  - karte_satisfaction
              otherInput:
                title: 回答任意入力
                type: string
        summaryMonth:
          title: 集計月（yyyy/mm）
          type: string
          example: 2022/01
          readOnly: true
        isNotSummary:
          title: 集計対象外にする
          type: boolean
          default: false
          readOnly: true
        planSurveyRequestDatetime:
          title: 回答（送信）依頼予定日時
          type: string
          example: "2020-10-23T03:21:39.356872Z"
          readOnly: true
        actualSurveyRequestDatetime:
          title: 回答（送信）依頼実績日時
          type: string
          example: "2020-10-23T03:21:39.356872Z"
          readOnly: true
        planSurveyResponseDatetime:
          title: 回答（受信）予定日時
          type: string
          example: "2020-10-23T03:21:39.356872Z"
          readOnly: true
        actualSurveyResponseDatetime:
          title: 回答（受信）実績日時
          type: string
          example: "2020-10-23T03:21:39.356872Z"
          readOnly: true
        isFinished:
          title: 回答済
          type: boolean
        isDisclosure:
          title: 支援者へ開示OK
          type: boolean

    SurveySummaryUsersModel:
      description: アンケートユーザー別集計モデル
      type: object
      required:
        - termSummaryResult
        - surveys
      properties:
        termSummaryResult:
          title: 期間集計結果
          type: object
          required:
            - service
            - completion
            - serviceAndCompletion
            - quick
          properties:
            service:
              title: サービスアンケート
              type: object
              required:
                - satisfactionAverage
                - totalReceive
              properties:
                satisfactionAverage:
                  title: 総合満足度平均
                  type: number
                totalReceive:
                  title: N数
                  type: integer
            completion:
              title: 修了アンケート
              type: object
              required:
                - satisfactionAverage
                - continuationPositivePercent
                - recommendedAverage
                - salesAverage
                - totalReceive
              properties:
                satisfactionAverage:
                  title: 総合満足度平均
                  type: number
                continuationPositivePercent:
                  title: 継続意思（%）
                  type: integer
                recommendedAverage:
                  title: 紹介可能性平均
                  type: number
                salesAverage:
                  title: 営業評価平均
                  type: number
                totalReceive:
                  title: N数
                  type: integer
            serviceAndCompletion:
              title: サービスアンケート／修了アンケート合算
              type: object
              required:
                - satisfactionAverage
                - totalReceive
              properties:
                satisfactionAverage:
                  title: 総合満足度平均
                  type: number
                totalReceive:
                  title: N数
                  type: integer
            quick:
              title: クイックアンケート
              type: object
              required:
                - totalReceive
              properties:
                totalReceive:
                  title: N数
                  type: integer
        surveys:
          title: 月別アンケート集計結果
          type: array
          items:
            type: object
            required:
              - summaryMonth
              - serviceSatisfactionSummary
              - serviceSatisfactionAverage
              - serviceReceive
              - completionSatisfactionSummary
              - completionSatisfactionAverage
              - completionContinuation
              - completionSalesSummary
              - completionSalesAverage
              - completionRecommendedSummary
              - completionRecommendedAverage
              - completionReceive
              - quickReceive
            properties:
              summaryMonth:
                title: 集計月
                type: string
                example: 2022/04
              serviceSatisfactionSummary:
                title: サービスアンケート総合満足度合計
                type: number
              serviceSatisfactionAverage:
                title: サービスアンケート総合満足度平均
                type: number
              serviceReceive:
                title: サービスアンケートN数
                type: integer
              completionSatisfactionSummary:
                title: 修了アンケート総合満足度合計
                type: number
              completionSatisfactionAverage:
                title: 修了アンケート総合満足度平均
                type: number
              completionContinuation:
                title: 修了アンケート継続意思
                type: object
                required:
                  - positiveCount
                  - negativeCount
                  - positivePercent
                properties:
                  positiveCount:
                    title: 継続意思あり数
                    type: integer
                  negativeCount:
                    title: 継続意思なし数
                    type: integer
                  positivePercent:
                    title: 継続意思（%）
                    type: integer
              completionSalesSummary:
                title: 営業評価合計
                type: number
              completionSalesAverage:
                title: 営業評価平均
                type: number
              completionRecommendedSummary:
                title: 修了アンケート紹介可能性合計
                type: number
              completionRecommendedAverage:
                title: 修了アンケート紹介可能性平均
                type: number
              completionReceive:
                title: 修了アンケートN数
                type: number
              quickReceive:
                title: クイックアンケートN数
                type: number

    SurveySummarySupporterOrganizationsModel:
      description: アンケート課別集計モデル
      type: object
      required:
        - termSummaryResult
        - surveys
      properties:
        totalSummaryResult:
          title: 期間集計結果
          type: array
          items:
            type: object
            required:
              - serviceSatisfactionAverage
              - serviceReceive
              - completionSatisfactionAverage
              - completionSatisfactionAveragepositivePercent
              - completionRecommendedAverage
              - completionReceive
              - totalSatisfactionAverage
              - totalReceive
            properties:
              serviceSatisfactionAverage:
                title: サービスアンケート総合満足度平均
                type: number
              serviceReceive:
                title: サービスアンケートN数
                type: integer
              completionSatisfactionAverage:
                title: 修了アンケート総合満足度平均
                type: number
              completionSatisfactionAveragepositivePercent:
                title: 継続意向（%）
                type: number
              completionRecommendedAverage:
                title: 修了アンケート紹介可能性平均
                type: number
              completionReceive:
                title: 修了アンケートN数
                type: number
              totalSatisfactionAverage:
                title: 総合満足度平均
                type: number
              totalReceive:
                title: 総合満足度N数
                type: integer
        termSummaryResult:
          title: 期間集計結果
          type: array
          items:
            type: object
            required:
              - supporterOrganizationId
              - supporterOrganizationName
              - serviceSatisfactionSummary
              - serviceSatisfactionAverage
              - serviceSatisfactionUnanswered
              - serviceReceive
              - completionSatisfactionSummary
              - completionSatisfactionAverage
              - completionSatisfactionUnanswered
              - completionContinuation
              - completionContinuationUnanswered
              - completionRecommendedSummary
              - completionRecommendedAverage
              - completionRecommendedUnanswered
              - completionReceive
              - totalSatisfactionSummary
              - totalSatisfactionAverage
              - totalSatisfactionUnanswered
              - totalReceive
            properties:
              supporterOrganizationId:
                title: 支援者組織ID（平均・合計値はsummary）
                type: string
                example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
              supporterOrganizationName:
                title: 支援者組織名（平均・合計値は平均・合計）
                type: string
              serviceSatisfactionSummary:
                title: サービスアンケート総合満足度合計
                type: number
              serviceSatisfactionAverage:
                title: サービスアンケート総合満足度平均
                type: number
              serviceSatisfactionUnanswered:
                title: サービスアンケート総合満足度未回答数
                type: number
              serviceReceive:
                title: サービスアンケートN数
                type: integer
              completionSatisfactionSummary:
                title: 修了アンケート総合満足度合計
                type: number
              completionSatisfactionAverage:
                title: 修了アンケート総合満足度平均
                type: number
              completionSatisfactionUnanswered:
                title: 修了アンケート総合満足度未回答数
                type: number
              completionContinuation:
                title: 修了アンケート継続意思
                type: object
                required:
                  - positiveCount
                  - negativeCount
                  - positivePercent
                properties:
                  positiveCount:
                    title: 継続意思あり数
                    type: integer
                  negativeCount:
                    title: 継続意思なし数
                    type: integer
                  positivePercent:
                    title: 継続意思（%）
                    type: integer
              completionContinuationUnanswered:
                title: 修了アンケート継続意思未回答数
                type: number
              completionRecommendedSummary:
                title: 修了アンケート紹介可能性合計
                type: number
              completionRecommendedAverage:
                title: 修了アンケート紹介可能性平均
                type: number
              completionRecommendedUnanswered:
                title: 修了アンケート紹介可能性未回答数
                type: number
              completionReceive:
                title: 修了アンケートN数
                type: number
              totalSatisfactionSummary:
                title: 総合満足度合計
                type: number
              totalSatisfactionAverage:
                title: 総合満足度平均
                type: number
              totalSatisfactionUnanswered:
                title: 総合満足度未回答数
                type: number
              totalReceive:
                title: 総合満足度N数
                type: integer
        surveys:
          title: 集計月別集計結果
          type: array
          items:
            type: object
            required:
              - summaryMonth
              - supporterOrganizations
            properties:
              summaryMonth:
                title: 集計月
                type: string
                example: 2022/04
              supporterOrganizations:
                title: 支援者組織別集計
                type: array
                items:
                  type: object
                  required:
                    - supporterOrganizationName
                    - serviceSatisfactionAverage
                    - serviceReceive
                    - completionSatisfactionAverage
                    - completionContinuationPositivePercent
                    - completionRecommendedAverage
                    - completionReceive
                    - totalSatisfactionAverage
                    - totalReceive
                  properties:
                    supporterOrganizationName:
                      title: 支援者組織名（平均・合計値は平均・合計）
                      type: string
                    serviceSatisfactionAverage:
                      title: サービスアンケート総合満足度平均
                      type: number
                    serviceReceive:
                      title: サービスアンケートN数
                      type: integer
                    completionSatisfactionAverage:
                      title: 修了アンケート総合満足度平均
                      type: number
                    completionContinuationPositivePercent:
                      title: 継続意思（%）
                      type: integer
                    completionRecommendedAverage:
                      title: 修了アンケート紹介可能性平均
                      type: number
                    completionReceive:
                      title: 修了アンケートN数
                      type: number
                    totalSatisfactionAverage:
                      title: 総合満足度平均
                      type: number
                    totalReceive:
                      title: 総合満足度N数
                      type: integer
    CheckSurveyByIdPasswordModel:
      description: アンケート認証リクエストモデル
      required:
        - token
        - password
      type: object
      properties:
        token:
          title: アンケートIDと有効期限から生成されたJWT
          type: string
          example: eyJhbGciOi12JIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm9qZWN0X2lkIjoiMTIzNDU2Nzg5MCIsImV4cGlyZWQiOiIyMDIzLzA0LzAxIn0.OVFrpwjo_HhSyN4aI5y4jVAw06EkyCPi-sv0vEeMJ
        password:
          title: 案件アンケートパスワード
          type: string
          maxLength: 12
          example: ABcd12*345Ef
    CheckSurveyByIdPasswordResponseModel:
      description: 匿名アンケート認証結果
      required:
        - id
      type: object
      properties:
        id:
          title: 案件アンケートID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    CheckSurveyByIdModel:
      description: アンケート認証リクエストモデル
      required:
        - token
      type: object
      properties:
        token:
          title: アンケートIDと有効期限から生成されたJWT
          type: string
          example: eyJhbGciOi12JIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm9qZWN0X2lkIjoiMTIzNDU2Nzg5MCIsImV4cGlyZWQiOiIyMDIzLzA0LzAxIn0.OVFrpwjo_HhSyN4aI5y4jVAw06EkyCPi-sv0vEeMJ

    CheckSurveyByIdResponseModel:
      description: アンケート認証結果
      required:
        - id
      type: object
      properties:
        id:
          title: 案件アンケートID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    GetSurveyOfSatisfactionByIdResponseModel:
      description: 満足度評価のみ回答アンケート認証結果
      required:
        - isFinished
        - surveyMasterId
        - surveyRevision
      type: object
      properties:
        isFinished:
          title: 回答済
          type: boolean
          readOnly: true
        surveyMasterId:
          title: アンケートマスターID
          type: string
          example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
          readOnly: true
        surveyRevision:
          title: アンケートマスターのバージョン番号
          type: integer
          example: 1
          readOnly: true

    TimeStampModel:
      description: タイムスタンプ項目モデル
      required:
        - createId
        - createAt
      type: object
      properties:
        createId:
          title: 作成ID
          type: string
          example: fa5c9f96-af22-bbc6-ac4e-cbcb25ad18e7
        createUserName:
          title: 作成ユーザー名（UI側で必要な場合オプションで付与される）
          type: string
          example: ソニー太郎
        createAt:
          title: 作成日時（JST）
          type: string
          example: "2020-10-23T03:21:39.356872Z"
        updateId:
          title: 更新ID
          type: string
          example: fa5c9f96-af22-bbc6-ac4e-cbcb25ad18e7
        updateUserName:
          title: 更新ユーザー名（UI側で必要な場合オプションで付与される）
          type: string
          example: ソニー太郎
        updateAt:
          title: 更新日時（JST）
          type: string
          example: "2020-10-23T03:21:39.356872Z"
        version:
          title: ロックキー（楽観ロック制御）
          type: integer
          minimum: 1
          default: 1

    PagingModel:
      description: ページング項目モデル
      required:
        - total
      type: object
      properties:
        offsetKey:
          title: DynamoDBの次の検索キー（last_evaluated_key）をBASE64エンコードした文字列
          type: string
          example: eyJjbGllbnRfaWQiOiB7IlMiOiAiYzc3YjM2ZmEtY2NjYi00MjExLTgxNDktMDU1NTQ2NzM3Nzk1In0sICJ1c2VyX2lkIjogeyJTIjogIjdmNGQ0NzYxLWRlMWYtNGU1Ny1iMDYzLTUxNDhlNDUzZjI0MCJ9LCAiZGF0YV90eXBlIjogeyJTIjogImNsaWVudCMyMDIxLTEyLTE0VDA1OjM3OjI3Ljg0MzQwOSJ9fQ
        offsetPage:
          title: リストの総数内で何ページ目か
          type: integer
          example: 1
        total:
          title: 件数
          type: integer
          minimum: 0
          example: 10

    ErrorModel:
      description: レスポンスエラーモデル
      required:
        - detail
      type: object
      properties:
        detail:
          type: object
          required:
            - code
            - message
          properties:
            code:
              title: エラーコード
              type: string
              example: 500
            message:
              title: エラーメッセージ
              type: string
              example: Internal Server Error

  #-------------------------------
  # Reusable operation parameters
  #-------------------------------
  parameters:
    UserIdPathParameter:
      name: id
      in: path
      description: ユーザーID
      required: true
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    CustomerIdPathParameter:
      name: id
      in: path
      description: 顧客ID
      required: true
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    NpfProjectIdPathParameter:
      name: npf-project-id
      in: path
      description: 新PF案件ID
      required: true
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    NpfProgramIdPathParameter:
      name: npf-project-id
      in: path
      description: 新PFプログラムID
      required: true
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    SurveyMasterIdPathParameter:
      name: id
      in: path
      description: アンケートマスタID
      required: true
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    SupporterOrganizationIdPathParameter:
      name: id
      in: path
      description: 支援者組織ID
      required: true
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    ServiceTypeIdPathParameter:
      name: id
      in: path
      description: サービス種別ID
      required: true
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    AlertFactorIdPathParameter:
      name: id
      in: path
      description: 工数アラート係数ID
      required: true
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    SupporterUserIdPathParameter:
      name: supporterUserId
      in: path
      description: 支援者ユーザーID
      required: true
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    ProjectIdPathParameter:
      name: id
      in: path
      description: 案件ID
      required: true
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    ProjectSurveyIdPathParameter:
      name: id
      in: path
      description: 案件アンケートID
      required: true
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    ProjectKarteIdPathParameter:
      name: id
      in: path
      description: カルテID
      required: true
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    YearPathParameter:
      name: year
      in: path
      required: true
      description: 対象年
      schema:
        type: integer
        minimum: 2000
        maximum: 3000
      example: 2021

    MonthPathParameter:
      name: month
      in: path
      required: true
      description: 対象月
      schema:
        type: integer
        minimum: 1
        maximum: 12
      example: 7

    DayPathParameter:
      name: day
      in: path
      required: true
      description: 対象日
      schema:
        type: integer
        minimum: 1
        maximum: 31
      example: 15

    YearQueryParameter:
      name: year
      in: query
      description: 対象年
      schema:
        type: integer
        minimum: 2000
        maximum: 3000
      example: 2021

    MonthQueryParameter:
      name: month
      in: query
      description: 対象月
      schema:
        type: integer
        minimum: 1
        maximum: 12
      example: 7

    DayQueryParameter:
      name: day
      in: query
      description: 対象日
      schema:
        type: integer
        minimum: 1
        maximum: 31
      example: 15

    ServiceTypeIdQueryParameter:
      name: serviceTypeId
      in: query
      description: |-
        サービス種別ID
      schema:
        type: string
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    ProjectIdQueryParameter:
      name: projectId
      in: query
      description: 案件ID
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    RequiredProjectIdQueryParameter:
      name: projectId
      in: query
      description: 案件ID
      required: true
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    CustomerIdQueryParameter:
      name: customerId
      in: query
      description: 取引先ID
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    SummaryMonthQueryParameter:
      name: summaryMonth
      in: query
      description: 集計月
      schema:
        type: string
      example: 202201

    RequiredSummaryMonthQueryParameter:
      name: summaryMonth
      in: query
      description: 集計月
      required: true
      schema:
        type: string
      example: 202201

    SummaryMonthFromQueryParameter:
      name: summaryMonthFrom
      in: query
      description: 集計月（From）
      schema:
        type: string
      example: 202204

    SummaryMonthToQueryParameter:
      name: summaryMonthTo
      in: query
      description: 集計月（To）
      schema:
        type: string
      example: 202303

    PlanSurveyRequestDateFromQueryParameter:
      name: planSurveyRequestDateFrom
      in: query
      description: 送信予定日（From）
      schema:
        type: string
      example: 20220401

    PlanSurveyRequestDateToQueryParameter:
      name: planSurveyRequestDateTo
      in: query
      description: 送信予定日（To）
      schema:
        type: string
      example: 20230331

    PlanSurveyResponseDateFromQueryParameter:
      name: planSurveyResponseDateFrom
      in: query
      description: 回答予定日（From）
      schema:
        type: string
      example: 20220401

    PlanSurveyResponseDateToQueryParameter:
      name: planSurveyResponseDateTo
      in: query
      description: 回答予定日（To）
      schema:
        type: string
      example: 20230331

    RequiredYearQueryParameter:
      name: year
      in: query
      description: 対象年
      required: true
      schema:
        type: integer
        minimum: 2000
        maximum: 3000
      example: 2021

    RequiredMonthQueryParameter:
      name: month
      in: query
      description: 対象月
      required: true
      schema:
        type: integer
        minimum: 1
        maximum: 12
      example: 7

    SupporterUserIdQueryParameter:
      name: supporterUserId
      in: query
      description: 支援者ユーザーID
      required: true
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    ScheduleTypeQueryParameter:
      name: scheduleType
      in: query
      description: 案件スケジュール種別
      schema:
        type: string
        enum:
          - support
          - survey

    ScheduleIdQueryParameter:
      name: scheduleId
      in: query
      required: true
      description: スケジュールID（またはスケジュールグループID）
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    KarteIdQueryParameter:
      name: karteId
      in: query
      required: true
      description: カルテID
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    SurveyIdQueryParameter:
      name: surveyId
      in: query
      required: true
      description: アンケートID
      schema:
        type: string
        format: uuid4
      example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d

    SurveyTypeQueryParameter:
      name: type
      in: query
      description: |
        アンケート種別<br>
        （service:サービス、completion:修了、service_and_completion:サービス修了合算、quick:クイック、pp:PartnarPortal）<br>
        指定なしは全て
      schema:
        type: string
        enum:
          - service
          - completion
          - service_and_completion
          - quick
          - pp

    SurveyTypeQueryParameterForGetSurveys:
      name: type
      in: query
      description: |
        アンケート種別<br>
        （service:サービス、completion:修了、service_and_completion:サービス修了合算、quick:クイック、pp:PartnarPortal、non_pp:PartnarPortal以外）<br>
        指定なしは全て
      schema:
        type: string
        enum:
          - service
          - completion
          - service_and_completion
          - quick
          - pp
          - non_pp

    VersionQueryParameter:
      name: version
      in: query
      required: true
      description: ロックキー（楽観ロック制御）
      schema:
        type: integer
        minimum: 1
      example: 1

    LimitQueryParameter:
      name: limit
      in: query
      description: 最大取得件数
      schema:
        type: integer
        default: 20
      example: 20

    LimitQueryParameterForGetProjects:
      name: limit
      in: query
      description: 最大取得件数（-1を指定した場合は全件取得）
      schema:
        type: integer
        default: 20
      example: 20

    OffsetKeyQueryParameter:
      name: offsetKey
      in: query
      description: DynamoDBの次の検索キー（last_evaluated_key）をBASE64エンコードした文字列
      schema:
        type: string
      example: eyJjbGllbnRfaWQiOiB7IlMiOiAiYzc3YjM2ZmEtY2NjYi00MjExLTgxNDktMDU1NTQ2NzM3Nzk1In0sICJ1c2VyX2lkIjogeyJTIjogIjdmNGQ0NzYxLWRlMWYtNGU1Ny1iMDYzLTUxNDhlNDUzZjI0MCJ9LCAiZGF0YV90eXBlIjogeyJTIjogImNsaWVudCMyMDIxLTEyLTE0VDA1OjM3OjI3Ljg0MzQwOSJ9fQ

    OffsetPageQueryParameter:
      name: offsetPage
      in: query
      description: リストの中で何ページ目を取得するか
      schema:
        type: integer
        default: 1
      example: 1

  #-------------------------------
  # Reusable request body
  #-------------------------------
  requestBodies:
    CreateUserRequestBody:
      description: 一般ユーザーデータ
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/UserModel"
              - required:
                  - customerId
                  - customerName
              - properties:
                  projectIds:
                    readOnly: true
                  projectId:
                    type: string
                    example: 89cbe2ed-f44c-4a1c-9408-c67b0ca2270d
                    writeOnly: true
                  supporterOrganizations:
                    readOnly: true
                  company:
                    readOnly: true
                  agreed:
                    readOnly: true
                  disabled:
                    readOnly: true
                  isInputManHour:
                    readOnly: true

    UpdateUserRequestBody:
      description: 一般ユーザーデータ
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/UserModel"
              - properties:
                  email:
                    readOnly: true
                  customerId:
                    readOnly: true
                  customerName:
                    readOnly: true
                  role:
                    readOnly: true
                  projectIds:
                    readOnly: true
                  disabled:
                    readOnly: true
                  agreed:
                    readOnly: true
                  supporterOrganizations:
                    readOnly: true
                  isInputManHour:
                    readOnly: true

    UpdateManHourRequestBody:
      description: 支援工数データ
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ManHourModel"
              - properties:
                  yearMonth:
                    readOnly: true
                  supporterUserId:
                    readOnly: true
                  summarySupportManHours:
                    readOnly: true

    UpdateProjectRequestBody:
      description: 案件データ
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ProjectModel"
              - properties:
                  customerName:
                    readOnly: true
                  supporterOrganizationId:
                    readOnly: true
                  contractDate:
                    readOnly: true
                  phase:
                    readOnly: true
                  salesforceMainSupporterUserName:
                    readOnly: true
                  salesforceSupporterUserNames:
                    readOnly: true

    BulkProjectSurveySchedulesRequestBody:
      description: 一括登録時　サービスアンケート・修了アンケートデータ
      required: true
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/BulkProjectSurveySchedulesRequestModel"

    CreateProjectKarteRequestBody:
      description: 案件カルテデータ
      required: true
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ProjectKarteModel"

    UpdateProjectKarteRequestBody:
      description: 案件カルテデータ
      required: true
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ProjectUpdateKarteByIdModel"

    CreateProjectSchedulesRequestBody:
      description: 案件スケジュールデータ
      required: true
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/CreateProjectSupportSchedulesRequestModel"

    UpdateProjectSupportSchedulesRequestBody:
      description: 案件支援スケジュールデータ
      required: true
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UpdateProjectSupportSchedulesRequestModel"

    CreateProjectSurveySchedulesRequestBody:
      description: 案件アンケートスケジュールデータ
      required: true
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/CreateSurveySchedulesRequestModel"

    UpdateProjectSurveySchedulesRequestBody:
      description: 案件アンケートスケジュールデータ
      required: true
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UpdateProjectSurveySchedulesRequestModel"

    UpdateProjectSurveyRequestBody:
      description: 案件アンケートデータ
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ProjectSurveyModel"
              - required:
                  - answers

    CheckSurveyByIdPasswordRequestBody:
      description: 認証データ
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/CheckSurveyByIdPasswordModel"

    CheckAndGetSurveyAnonymousByIdRequestBody:
      description: 認証データ
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/CheckSurveyByIdPasswordModel"

    CheckAndUpdateSurveyAnonymousByIdRequestBody:
      description: 認証データ及び案件アンケートデータ
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/CheckSurveyByIdPasswordModel"
              - $ref: "#/components/schemas/ProjectSurveyModel"
              - required:
                  - answers

    CheckAndGetSurveyMasterAnonymousByIdAndRevisionRequestBody:
      description: 認証データ
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/CheckSurveyByIdPasswordModel"

    GetSurveyOfSatisfactionByIdRequestBody:
      description: 認証データ
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/CheckSurveyByIdModel"

    UpdateSurveyOfSatisfactionByIdRequestBody:
      description: 認証データ及び案件アンケートデータ
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/CheckSurveyByIdModel"
              - $ref: "#/components/schemas/ProjectSurveyModel"
              - required:
                  - answers

    GetSurveyMasterOfSatisfactionByIdAndRevisonRequestBody:
      description: 認証データ
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/CheckSurveyByIdModel"

    MasterKarteRequestBody:
      description: マスターカルテ作成データ
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/MasterKarteRequestModel"

    MasterKarteByIdRequestBody:
      description: マスターカルテ更新データ
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/MasterKarteByIdRequestModel"

  #-------------------------------
  # Reusable responses
  #-------------------------------
  responses:
    GeneralResponse:
      description: 成功
      content:
        application/json:
          schema:
            required:
              - message
            type: object
            properties:
              message:
                title: メッセージ
                type: string
                example: OK

    GetUsersResponse:
      description: 一般ユーザー一覧
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/PagingModel"
              - properties:
                  offsetKey:
                    writeOnly: true
                  offsetPage:
                    writeOnly: true
              - required:
                  - users
              - type: object
              - properties:
                  users:
                    type: array
                    items:
                      $ref: "#/components/schemas/UserModel"

    SuggestUsersResponse:
      description: 一般ユーザーサジェスト
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: "#/components/schemas/UserSuggestModel"

    GetUserResponse:
      description: 一般ユーザー
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/UserModel"
              - $ref: "#/components/schemas/TimeStampModel"
              - properties:
                  createUserName:
                    readOnly: true
                    writeOnly: true
                  updateUserName:
                    readOnly: true
                    writeOnly: true

    GetUserByMineResponse:
      description: ログイン中一般ユーザー
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/UserModel"
              - required:
                  - totalNotifications
              - properties:
                  totalNotifications:
                    title: 通知数
                    type: integer
                    example: 10

    CreateUserResponse:
      description: 一般ユーザー
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/UserModel"
              - $ref: "#/components/schemas/TimeStampModel"
              - properties:
                  company:
                    readOnly: true
                    writeOnly: true
                  supporterOrganizations:
                    readOnly: true
                    writeOnly: true
                  isInputManHour:
                    readOnly: true
                    writeOnly: true
                  agreed:
                    readOnly: true
                    writeOnly: true
                  lastLoginAt:
                    readOnly: true
                    writeOnly: true
                  createAt:
                    readOnly: true
                    writeOnly: true
                  createUserName:
                    readOnly: true
                    writeOnly: true
                  createId:
                    readOnly: true
                    writeOnly: true
                  updateId:
                    readOnly: true
                    writeOnly: true
                  updateUserName:
                    readOnly: true
                    writeOnly: true
                  updateAt:
                    readOnly: true
                    writeOnly: true

    UpdateUserResponse:
      description: 一般ユーザー
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/UserModel"
              - $ref: "#/components/schemas/TimeStampModel"
              - properties:
                  disabled:
                    readOnly: true
                    writeOnly: true
                  company:
                    readOnly: true
                    writeOnly: true
                  supporterOrganizations:
                    readOnly: true
                    writeOnly: true
                  isInputManHour:
                    readOnly: true
                    writeOnly: true
                  agreed:
                    readOnly: true
                    writeOnly: true
                  lastLoginAt:
                    readOnly: true
                    writeOnly: true
                  createAt:
                    readOnly: true
                    writeOnly: true
                  createUserName:
                    readOnly: true
                    writeOnly: true
                  createId:
                    readOnly: true
                    writeOnly: true
                  updateId:
                    readOnly: true
                    writeOnly: true
                  updateUserName:
                    readOnly: true
                    writeOnly: true
                  updateAt:
                    readOnly: true
                    writeOnly: true
                  projectIds:
                    readOnly: true
                    writeOnly: true

    GetCustomersResponse:
      description: 取引先一覧
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/PagingModel"
              - properties:
                  offsetKey:
                    writeOnly: true
              - required:
                  - customers
              - type: object
              - properties:
                  customers:
                    type: array
                    items:
                      allOf:
                        - $ref: "#/components/schemas/CustomerModel"
                        - $ref: "#/components/schemas/TimeStampModel"
                        - properties:
                            salesforceCustomerId:
                              writeOnly: true
                            createId:
                              writeOnly: true
                            createUserName:
                              writeOnly: true
                            createAt:
                              writeOnly: true
                            updateId:
                              writeOnly: true
                            updateUserName:
                              writeOnly: true
                            version:
                              writeOnly: true

    SuggestCustomersResponse:
      description: 取引先サジェスト
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: "#/components/schemas/CustomerSuggestModel"

    GetCustomerResponse:
      description: 取引先
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/CustomerModel"
              - $ref: "#/components/schemas/TimeStampModel"

    CreateCustomerResponse:
      description: 取引先
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/CustomerModel"
              - $ref: "#/components/schemas/TimeStampModel"

    GetNotificationsResponse:
      description: 一般ユーザー別お知らせ一覧
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: "#/components/schemas/NotificationModel"

    GetSurveyMastersResponse:
      description: アンケートマスタ一覧
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/PagingModel"
              - properties:
                  offsetKey:
                    writeOnly: true
                  offsetPage:
                    writeOnly: true
              - required:
                  - masters
              - type: object
              - properties:
                  masters:
                    type: array
                    items:
                      allOf:
                        - $ref: "#/components/schemas/SurveyMasterModel"
                        - properties:
                            questions:
                              writeOnly: true
                            questionFlow:
                              writeOnly: true

    GetSurveyMasterResponse:
      description: アンケートマスタ
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/SurveyMasterModel"
              - $ref: "#/components/schemas/TimeStampModel"

    GetSurveyMasterOnlyQuestionsResponse:
      description: アンケートマスタ
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/SurveyMasterOnlyQuestionsModel"

    GetSupporterOrganizationsResponse:
      description: 支援者組織一覧
      content:
        application/json:
          schema:
            allOf:
              - required:
                  - supporterOrganizations
              - type: object
              - properties:
                  supporterOrganizations:
                    type: array
                    items:
                      $ref: "#/components/schemas/SupporterOrganizationMasterModel"

    GetServiceTypesResponse:
      description: サービス種別一覧
      content:
        application/json:
          schema:
            allOf:
              - required:
                  - serviceTypes
              - type: object
              - properties:
                  serviceTypes:
                    type: array
                    items:
                      $ref: "#/components/schemas/ServiceTypeMasterModel"

    GetBatchControlByIdResponse:
      description: バッチ制御情報
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/BatchControlMasterModel"

    GetProjectRoleManHourResponse:
      description: 月次案件別役割別工数一覧
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/PagingModel"
              - required:
                  - projects
              - type: object
              - properties:
                  projects:
                    type: array
                    items:
                      $ref: "#/components/schemas/ProjectRoleManHourModel"

    GetSummaryProjectSupporterManHourStatusResponse:
      description: 案件別支援工数状況レスポンス
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/SummaryProjectSupporterManHourStatusModel"

    GetManHourResponse:
      description: 支援工数
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ManHourModel"
              - type: object
              - properties:
                  createId:
                    title: 作成ID
                    type: string
                    example: fa5c9f96-af22-bbc6-ac4e-cbcb25ad18e7
                  createUserName:
                    title: 作成ユーザー名（UI側で必要な場合オプションで付与される）
                    type: string
                    example: ソニー太郎
                  createAt:
                    title: 作成日時（JST）
                    type: string
                    example: "2020-10-23T03:21:39.356872Z"
                  updateId:
                    title: 更新ID
                    type: string
                    example: fa5c9f96-af22-bbc6-ac4e-cbcb25ad18e7
                  updateUserName:
                    title: 更新ユーザー名（UI側で必要な場合オプションで付与される）
                    type: string
                    example: ソニー太郎
                  updateAt:
                    title: 更新日時（JST）
                    type: string
                    example: "2020-10-23T03:21:39.356872Z"
                  version:
                    title: ロックキー（楽観ロック制御）
                    type: integer
                    minimum: 1
                    default: 1

    UpdateManHourResponse:
      description: 支援工数
      content:
        application/json:
          schema:
            type: object
            required:
              - message
            properties:
              message:
                title: 実行結果
                type: string
                example: OK

    GetProjectsResponse:
      description: 案件一覧
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/PagingModel"
              - properties:
                  offsetKey:
                    writeOnly: true
              - required:
                  - projects
              - type: object
              - properties:
                  projects:
                    type: array
                    items:
                      allOf:
                        - $ref: "#/components/schemas/ProjectModel"
                        - properties:
                            profit:
                              writeOnly: true
                            salesforceCustomerId:
                              writeOnly: true
                            salesforceOpportunityId:
                              writeOnly: true

    GetProjectResponse:
      description: 案件
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ProjectModel"
              - $ref: "#/components/schemas/TimeStampModel"

    UpdateProjectResponse:
      description: 案件
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ProjectModel"
              - $ref: "#/components/schemas/TimeStampModel"
              - required:
                  - mainCustomerUserId
                  - customerUsers
                  - mainSupporterUserId
                  - supporterUsers

    SuggestProjectsResponse:
      description: 案件サジェスト
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: "#/components/schemas/ProjectSuggestModel"

    GetProjectKartenResponse:
      description: 案件カルテ一覧
      content:
        application/json:
          schema:
            allOf:
              - type: array
                items:
                  allOf:
                    - $ref: "#/components/schemas/ProjectGetKartenModel"
                    - properties:
                        projectId:
                          writeOnly: true
                        startDatetime:
                          writeOnly: true
                        supporterIds:
                          writeOnly: true
                        draftSupporterId:
                          writeOnly: true
                        draftDatetime:
                          writeOnly: true
                        customerUserIds:
                          writeOnly: true
                        manHours:
                          writeOnly: true
                        detail:
                          writeOnly: true
                        feedback:
                          writeOnly: true
                        homework:
                          writeOnly: true
                        memo:
                          writeOnly: true
                        task:
                          writeOnly: true
                        documents:
                          writeOnly: true
                        deliverables:
                          writeOnly: true

    GetkartenLatestResponse:
      description: 最新更新案件カルテ
      content:
        application/json:
          schema:
            allOf:
              - type: array
                items:
                  allOf:
                    - $ref: "#/components/schemas/ProjectGetKartenLatestModel"

    GetProjectKarteResponse:
      description: 案件カルテ
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ProjectGetKarteByIdModel"
              - $ref: "#/components/schemas/ProjectKarteByIdTimeStampModel"
              - properties:
                  createId:
                    writeOnly: true
                  createUserName:
                    writeOnly: true
                  createAt:
                    writeOnly: true

    CreateProjectKarteResponse:
      description: 案件カルテ
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ProjectKarteModel"
              - $ref: "#/components/schemas/TimeStampModel"

    GetSupportProjectSchedulesResponse:
      description: 案件支援スケジュール一覧
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ProjectSupportSchedulesResponseModel"

    GetProjectSurveySchedulesResponse:
      description: 案件アンケートスケジュール一覧
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ProjectSurveySchedulesResponseModel"

    GetProjectSurveysResponse:
      description: 案件アンケート一覧
      content:
        application/json:
          schema:
            allOf:
              - required:
                  - surveys
              - type: object
              - properties:
                  summary:
                    title: サマリ
                    type: object
                    properties:
                      monthly:
                        title: 単月
                        type: array
                        items:
                          type: object
                          properties:
                            month:
                              title: 年月
                              type: string
                              example: 2021年4月
                            satisfactionAverage:
                              title: 満足度平均
                              type: number
                            receive:
                              title: N数
                              type: number
                      accumulation:
                        title: 累積
                        type: array
                        items:
                          type: object
                          properties:
                            month:
                              title: 年月
                              type: string
                              example: 2021年4月
                            satisfactionAverage:
                              title: 満足度平均
                              type: number
                            receive:
                              title: N数
                              type: number
                      total:
                        title: 期間合計
                        type: object
                        properties:
                          quota:
                            title: 四半期
                            type: object
                            properties:
                              quota1:
                                title: 第１クォーター
                                type: object
                                properties:
                                  satisfactionAverage:
                                    title: 満足度平均
                                    type: number
                                  receive:
                                    title: N数
                                    type: number
                              quota2:
                                title: 第２クォーター
                                type: object
                                properties:
                                  satisfactionAverage:
                                    title: 満足度平均
                                    type: number
                                  receive:
                                    title: N数
                                    type: number
                              quota3:
                                title: 第３クォーター
                                type: object
                                properties:
                                  satisfactionAverage:
                                    title: 満足度平均
                                    type: number
                                  receive:
                                    title: N数
                                    type: number
                              quota4:
                                title: 第４クォーター
                                type: object
                                properties:
                                  satisfactionAverage:
                                    title: 満足度平均
                                    type: number
                                  receive:
                                    title: N数
                                    type: number
                          half:
                            title: 半期
                            type: object
                            properties:
                              half1:
                                title: 上期
                                type: object
                                properties:
                                  satisfactionAverage:
                                    title: 満足度平均
                                    type: number
                                  receive:
                                    title: N数
                                    type: number
                              half2:
                                title: 下期
                                type: object
                                properties:
                                  satisfactionAverage:
                                    title: 満足度平均
                                    type: number
                                  receive:
                                    title: N数
                                    type: number
                          year:
                            title: 期
                            type: object
                            properties:
                              satisfactionAverage:
                                title: 満足度平均
                                type: number
                              receive:
                                title: N数
                                type: number
                  surveys:
                    type: array
                    items:
                      allOf:
                        - $ref: "#/components/schemas/ProjectSurveyModel"
                        - properties:
                            answers:
                              writeOnly: true

    GetProjectSurveysByMineResponse:
      description: 自身の案件アンケート一覧
      content:
        application/json:
          schema:
            allOf:
              - required:
                  - total
                  - surveys
              - type: object
              - properties:
                  total:
                    title: 件数
                    type: integer
                    minimum: 0
                    example: 10
                  surveys:
                    type: array
                    items:
                      allOf:
                        - $ref: "#/components/schemas/ProjectSurveyModel"
                        - properties:
                            answers:
                              writeOnly: true

    CheckSurveyByIdPasswordResponse:
      description: 認証済案件アンケートID
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/CheckSurveyByIdPasswordResponseModel"

    GetProjectSurveyResponse:
      description: 案件アンケートID
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ProjectSurveyModel"
              - $ref: "#/components/schemas/TimeStampModel"

    UpdateProjectSurveyResponse:
      description: 案件アンケート
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ProjectSurveyModel"
              - $ref: "#/components/schemas/TimeStampModel"

    CheckAndGetSurveyAnonymousByIdResponse:
      description: 匿名アンケート用
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ProjectSurveyModel"
              - $ref: "#/components/schemas/TimeStampModel"
              - properties:
                  answerUserId:
                    writeOnly: true

    GetSurveyOfSatisfactionByIdResponse:
      description: 満足度評価のみ回答アンケート用
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/GetSurveyOfSatisfactionByIdResponseModel"

    GetSurveySummaryByMineResponse:
      description: アンケートユーザー別集計
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/SurveySummaryUsersModel"

    GetSurveySummarySupporterOrganizationsByMineResponse:
      description: アンケート課別集計
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/SurveySummarySupporterOrganizationsModel"

    GetMasterKarteByIdResponse:
      description: マスターカルテ取得レスポンス
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/MasterKarteByIdModel"

    GetMasterKartenResponse:
      description: マスターカルテ一覧取得レスポンス
      content:
        application/json:
          schema:
            type: object
            required:
              - offsetPage
              - total
              - karte
            properties:
              offsetPage:
                title: リストの総数内で何ページ目か
                type: integer
                example: 1
              total:
                title: マスターカルテ総件数
                type: integer
                example: 20
              karten:
                title: マスターカルテ一覧
                type: array
                items:
                  $ref: "#/components/schemas/MasterKarteAllModel"

    GetMasterKarteSelectBox:
      description: マスターカルテ一覧セレクトボックス候補用レスポンス
      content:
        application/json:
          schema:
            type: array
            items:
              type: object
              properties:
                name:
                  title: 種別名
                  type: string
                  example: industrySegment
                  readOnly: true
                items:
                  type: array
                  items:
                    type: object
                    properties:
                      value:
                        title: 値
                        type: string
                        example: idea
                        readOnly: true
                      label:
                        title: 表示名
                        type: string
                        example: アイデア可視化

    HealthCheckResponse:
      description: 稼働中
      content:
        application/json:
          schema:
            required:
              - results
            type: object
            properties:
              results:
                title: 結果
                type: array
                items:
                  type: string
                  enum:
                    - Status OK
                    - S3 NG
                    - DynamoDB NG

    BadRequestResponse:
      description: |
        400 Bad Request</br>
        リクエストがビジネスロジック面で不正な時に返却
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ErrorModel"
            properties:
              detail:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    title: エラーコード
                    type: string
                    example: 400
                  message:
                    title: エラーメッセージ
                    type: string
                    example: Bad Request

    UnauthorizedResponse:
      description: |
        401 Unauthorized</br>
        認証されていない時に返却
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ErrorModel"
            properties:
              detail:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    title: エラーコード
                    type: string
                    example: 401
                  message:
                    title: エラーメッセージ
                    type: string
                    example: Unauthorized

    ForbiddenResponse:
      description: |
        403 Forbidden</br>
        対象リソースへの権限がない時に返却
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ErrorModel"
            properties:
              detail:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    title: エラーコード
                    type: string
                    example: 403
                  message:
                    title: エラーメッセージ
                    type: string
                    example: Forbidden

    NotFoundResponse:
      description: |
        404 Not Found</br>
        対象リソースが見つからない時に返却
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ErrorModel"
            properties:
              detail:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    title: エラーコード
                    type: string
                    example: 404
                  message:
                    title: エラーメッセージ
                    type: string
                    example: Not Found.

    ConflictErrorResponse:
      description: |
        409 Conflict</br>
        リソース競合エラー時に返却</br>
        楽観ロックエラー時など
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/ErrorModel"
            properties:
              detail:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    title: エラーコード
                    type: string
                    example: 409
                  message:
                    title: エラーメッセージ
                    type: string
                    example: Conflict

    UnprocessableEntityResponse:
      description: |
        422 Unprocessable Entity</br>
        リクエストがAPIで定義されたリクエストスキーマに一致しない時に返却<br>
        Pydanticで自動的に生成される
      content:
        application/json:
          schema:
            required:
              - detail
            properties:
              detail:
                type: array
                items:
                  type: object
                  properties:
                    loc:
                      type: array
                      items:
                        type: string
                      example:
                        - body
                        - email
                    msg:
                      type: string
                      example: field required
                    type:
                      type: string
                      example: value_error.missing

    TooManyRequestsResponse:
      description: |
        429 Too Many Requests</br>
        API Gatewayがスロットリング発生時に返却
      content:
        application/json:
          schema:
            type: object
            required:
              - message
            properties:
              message:
                title: エラーメッセージ
                type: string
                example: Too Many Requests

    InternalServerErrorResponse:
      description: |-
        500 Internal Server Error</br>
        想定外のエラー時に返却
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorModel"

  #-------------------------------
  # Reusable security
  #-------------------------------
  securitySchemes:
    JWTBearer:
      type: http
      scheme: bearer
      description: Cognitoから発行されるJWTアクセストークンを利用してAPIを認証します。
