# CLAUDE.md - AI開発支援ガイドライン

## プロジェクト概要

**SSAP Partner Portal Front Office System**の開発・テスト支援ドキュメント

### システム構成
- **フロントエンド**: Nuxt.js 3
- **バックエンド**: [TBD]
- **データベース**: [TBD]
- **外部連携**: Salesforce

## Excelテストケース作成ルール

### 1. 基本構造

#### 1.1 ファイル命名規則
```
[機能名]_テストケース_[YYYYMMDD].xlsx
例: 個人ソルバー不明データ対応_テストケース_20250625.xlsx
```

#### 1.2 シート構成
1. **サマリーシート**: 全体概要とシート一覧
2. **テスト観点シート**: チェック観点、データ観点、画面観点
3. **機能別テストケースシート**: 各機能の詳細テストケース

### 2. テストケース項目定義

#### 2.1 必須項目（全16列）
| 列番号 | 項目名 | 説明 | 例 |
|--------|--------|------|-----|
| A | テストケース番号 | TC-[分類]-[連番] | TC-A1-001 |
| B | 大項目 | 機能の大分類 | 個人ソルバー管理 |
| C | 中項目 | 機能の中分類 | 生年月日不明設定 |
| D | 小項目 | 具体的な機能 | チェックボックス表示 |
| E | パターン | 正常系/異常系/境界値 | 正常系 |
| F | ユーザーロール | 実行ユーザー種別 | 管理者 |
| G | 前提条件 | テスト実行前の状態 | 個人ソルバー詳細画面を表示 |
| H | 実行手順 | 具体的な操作手順 | 1. 画面にアクセス<br>2. ボタンをクリック |
| I | 期待値 | 期待される結果 | エラーメッセージが表示される |
| J | 実施結果 | OK/NG/保留/未実施 | OK |
| K | 実施日 | テスト実行日 | 2025-06-25 |
| L | 実施者 | テスト実行者名 | 山田太郎 |
| M | 設計備考 | 設計時の補足情報 | UIデザイン確認要 |
| N | 不具合No | 不具合管理番号 | BUG-001 |
| O | ステータス | 完了/進行中/保留 | 完了 |
| P | バックログNO | 要件トレーサビリティ | REQ-123 |

#### 2.2 データ型・制約
- **テストケース番号**: 重複不可、必須
- **実施結果**: 選択式（OK/NG/保留/未実施）
- **実施日**: 日付形式（YYYY-MM-DD）
- **ステータス**: 選択式（完了/進行中/保留）

### 3. 機能別テストケース作成手順

#### 3.1 要件分析
1. **機能要件の整理**
   - 主要機能の特定
   - ユーザーロールの確認
   - 業務フローの理解

2. **非機能要件の確認**
   - パフォーマンス要求
   - セキュリティ要求
   - ユーザビリティ要求

#### 3.2 テスト観点の決定

##### チェック観点
- 入力チェック（必須項目、形式、長さ）
- ファイル形式チェック
- 権限チェック

##### データ観点
- データ取得の正確性
- データ更新の整合性
- データ削除の安全性

##### 画面観点
- 表示内容の正確性
- ソート順の確認
- レスポンシブ対応

#### 3.3 テストケース設計原則

##### 正常系テスト
- 基本的な操作パターン
- 一般的な入力値での動作
- 標準的な業務フロー

##### 異常系テスト
- 不正な入力値
- 権限外の操作
- システムエラー状況

##### 境界値テスト
- 最小値・最大値
- 文字数制限の境界
- 日付の境界値

### 4. 具体的な作成例

#### 4.1 個人ソルバー不明データ対応機能の場合

```csv
テストケース番号,大項目,中項目,小項目,パターン,ユーザーロール,前提条件,実行手順,期待値
TC-A1-001,個人ソルバー管理,生年月日不明設定,チェックボックス表示,正常系,管理者,個人ソルバー詳細画面を表示,"1. 個人ソルバー詳細画面にアクセス
2. 生年月日項目を確認",生年月日入力欄の近くに「不明」チェックボックスが表示される
TC-A1-002,個人ソルバー管理,生年月日不明設定,チェックボックス操作,正常系,管理者,個人ソルバー詳細画面を表示、生年月日に値が入力済み,"1. 「不明」チェックボックスをチェック
2. 生年月日入力欄の状態を確認",生年月日入力欄がグレーアウトされ、編集不可になる
```

#### 4.2 Salesforce連携テストの場合

```csv
テストケース番号,大項目,中項目,小項目,パターン,ユーザーロール,前提条件,実行手順,期待値
TC-C1-001,外部システム連携,Salesforce連携,生年月日不明フラグ送信,正常系,管理者,「不明」チェックボックスをチェック済み,"1. 保存ボタンをクリック
2. Salesforce側のデータを確認",Salesforceに生年月日不明フラグが正しく連携される
```

### 5. 品質保証ルール

#### 5.1 レビュー観点
- [ ] テストケース網羅性の確認
- [ ] 実行手順の明確さ
- [ ] 期待値の具体性
- [ ] トレーサビリティの確保

#### 5.2 更新管理
- バージョン管理の徹底
- 変更履歴の記録
- 関係者への通知

#### 5.3 実行管理
- 実行スケジュールの策定
- 進捗状況の可視化
- 不具合管理との連携

### 6. ツール・テンプレート

#### 6.1 Excel作成支援Python スクリプト
- `read_excel.py`: Excelファイル解析
- `analyze_excel_simple.py`: 簡易分析
- `analyze_excel_detailed.py`: 詳細分析
- `create_excel_format.py`: テンプレート作成

#### 6.2 使用コマンド例
```bash
# Excel解析
python read_excel.py sample.xlsx

# テンプレート作成
python create_excel_format.py 個人ソルバー不明データ対応

# CSV出力
python analyze_excel_detailed.py sample.xlsx --output csv
```

### 7. 開発・テスト支援コマンド

#### 7.1 よく使用するコマンド
```bash
# Nuxt開発サーバー起動（想定）
npm run dev

# テスト実行（想定）
npm run test

# ビルド（想定）
npm run build

# リンター実行（想定）
npm run lint
```

#### 7.2 Git操作
```bash
# 機能ブランチ作成
git checkout -b feature/solver-unknown-data

# コミット
git add .
git commit -m "個人ソルバー不明データ対応機能を追加"

# プッシュ
git push origin feature/solver-unknown-data
```

### 8. トラブルシューティング

#### 8.1 よくある問題
- **Excel読み込みエラー**: ファイル形式の確認
- **データベース接続エラー**: 接続設定の確認
- **Salesforce連携エラー**: API認証の確認

#### 8.2 ログ確認方法
```bash
# アプリケーションログ
tail -f logs/application.log

# エラーログ
tail -f logs/error.log

# Salesforce連携ログ
tail -f logs/salesforce.log
```

### 9. 連絡先・参考資料

#### 9.1 プロジェクト関係者
- **プロダクトオーナー**: [TBD]
- **開発リーダー**: [TBD]
- **QA担当**: [TBD]

#### 9.2 関連ドキュメント
- システム設計書
- API仕様書
- データベース設計書
- セキュリティガイドライン

---

**最終更新**: 2025-06-25  
**バージョン**: 1.0  
**作成者**: Claude Code