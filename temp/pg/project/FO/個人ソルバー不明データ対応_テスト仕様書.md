# 個人ソルバー不明データ対応機能　テスト仕様書

## 要件概要

**登録日**: 2025/03/11 14:58:03  
**登録者**: Naoto Nagai  

### 背景・目的
生年月日、単価（人月単価、時間単価）が不明な個人ソルバーが存在するため、それらのデータが不明であることを確認・設定できるようにする。

### 要件詳細
1. **生年月日不明対応**
   - 不明のチェックボックスを設ける
   - チェック時は生年月日項目をグレーアウト（編集不可）
   - 生年月日不明チェックボックスをSalesforceに連携

2. **単価不明対応**
   - 0（ゼロ）の場合は表示画面上に「不明」と表示
   - 稼働率・単価一括更新画面では「不明」表示なし

## テスト観点

### 1. 機能テスト観点

#### A. 生年月日不明機能
- **A-1**: チェックボックス表示・操作
- **A-2**: 生年月日項目のグレーアウト制御
- **A-3**: Salesforce連携データ
- **A-4**: 画面表示・非表示制御

#### B. 単価不明機能
- **B-1**: 単価0の場合の「不明」表示
- **B-2**: 稼働率・単価一括更新画面での表示制御
- **B-3**: 人月単価・時間単価の区別

#### C. データ整合性
- **C-1**: 既存データとの整合性
- **C-2**: 新規データの整合性
- **C-3**: 更新データの整合性

### 2. 非機能テスト観点

#### D. ユーザビリティ
- **D-1**: 操作の直感性
- **D-2**: エラーメッセージの適切性
- **D-3**: 画面レスポンス

#### E. セキュリティ・権限
- **E-1**: 編集権限の制御
- **E-2**: データアクセス権限
- **E-3**: 不正操作の防止

## 詳細テストケース

### テストケース: A-1 生年月日不明チェックボックス

| 項目 | 内容 |
|------|------|
| テストケース番号 | TC-A1-001 |
| 大項目 | 個人ソルバー管理 |
| 中項目 | 生年月日不明設定 |
| 小項目 | チェックボックス表示 |
| 前提条件 | 個人ソルバー詳細画面を表示 |
| 実行手順 | 1. 個人ソルバー詳細画面にアクセス<br>2. 生年月日項目を確認 |
| 期待値 | 生年月日入力欄の近くに「不明」チェックボックスが表示される |
| パターン | 正常系 |
| ユーザーロール | 管理者 |

| 項目 | 内容 |
|------|------|
| テストケース番号 | TC-A1-002 |
| 大項目 | 個人ソルバー管理 |
| 中項目 | 生年月日不明設定 |
| 小項目 | チェックボックス操作 |
| 前提条件 | 個人ソルバー詳細画面を表示、生年月日に値が入力済み |
| 実行手順 | 1. 「不明」チェックボックスをチェック<br>2. 生年月日入力欄の状態を確認 |
| 期待値 | 生年月日入力欄がグレーアウトされ、編集不可になる |
| パターン | 正常系 |
| ユーザーロール | 管理者 |

| 項目 | 内容 |
|------|------|
| テストケース番号 | TC-A1-003 |
| 大項目 | 個人ソルバー管理 |
| 中項目 | 生年月日不明設定 |
| 小項目 | チェック解除 |
| 前提条件 | 「不明」チェックボックスがチェック済み |
| 実行手順 | 1. 「不明」チェックボックスのチェックを外す<br>2. 生年月日入力欄の状態を確認 |
| 期待値 | 生年月日入力欄が編集可能になる |
| パターン | 正常系 |
| ユーザーロール | 管理者 |

### テストケース: B-1 単価不明表示

| 項目 | 内容 |
|------|------|
| テストケース番号 | TC-B1-001 |
| 大項目 | 個人ソルバー管理 |
| 中項目 | 単価表示 |
| 小項目 | 人月単価0の場合 |
| 前提条件 | 個人ソルバーの人月単価が0に設定済み |
| 実行手順 | 1. 個人ソルバー詳細画面にアクセス<br>2. 人月単価表示を確認 |
| 期待値 | 人月単価欄に「不明」と表示される |
| パターン | 正常系 |
| ユーザーロール | 管理者 |

| 項目 | 内容 |
|------|------|
| テストケース番号 | TC-B1-002 |
| 大項目 | 個人ソルバー管理 |
| 中項目 | 単価表示 |
| 小項目 | 時間単価0の場合 |
| 前提条件 | 個人ソルバーの時間単価が0に設定済み |
| 実行手順 | 1. 個人ソルバー詳細画面にアクセス<br>2. 時間単価表示を確認 |
| 期待値 | 時間単価欄に「不明」と表示される |
| パターン | 正常系 |
| ユーザーロール | 管理者 |

| 項目 | 内容 |
|------|------|
| テストケース番号 | TC-B1-003 |
| 大項目 | 個人ソルバー管理 |
| 中項目 | 単価表示 |
| 小項目 | 稼働率・単価一括更新画面 |
| 前提条件 | 個人ソルバーの単価が0に設定済み |
| 実行手順 | 1. 稼働率・単価一括更新画面にアクセス<br>2. 単価表示を確認 |
| 期待値 | 単価欄に0が表示される（「不明」は表示されない） |
| パターン | 正常系 |
| ユーザーロール | 管理者 |

### テストケース: C-1 Salesforce連携

| 項目 | 内容 |
|------|------|
| テストケース番号 | TC-C1-001 |
| 大項目 | 外部システム連携 |
| 中項目 | Salesforce連携 |
| 小項目 | 生年月日不明フラグ送信 |
| 前提条件 | 「不明」チェックボックスをチェック済み |
| 実行手順 | 1. 保存ボタンをクリック<br>2. Salesforce側のデータを確認 |
| 期待値 | Salesforceに生年月日不明フラグが正しく連携される |
| パターン | 正常系 |
| ユーザーロール | 管理者 |

## 境界値・異常系テスト

### 境界値テスト
- 生年月日の最小値・最大値での動作確認
- 単価の最小値（0）・最大値での動作確認
- 文字数制限の境界値での動作確認

### 異常系テスト
- 不正な日付形式入力時の動作
- 単価に負の値入力時の動作
- Salesforce連携エラー時の動作
- 権限のないユーザーでのアクセス

## 回帰テスト観点

### 既存機能への影響確認
1. 個人ソルバー検索機能
2. 個人ソルバー一覧表示機能
3. レポート出力機能
4. データインポート・エクスポート機能

## パフォーマンステスト

### 負荷テスト観点
- 大量データでの画面表示速度
- Salesforce連携のレスポンス時間
- 一括更新処理の処理時間

## セキュリティテスト

### 権限制御テスト
- 編集権限のないユーザーでのアクセス制御
- データ参照権限の制御
- 不正なパラメータでのアクセス防止

## 受け入れ基準

### 必須要件
1. ✅ 生年月日不明チェックボックスが正常に動作する
2. ✅ チェック時に生年月日入力欄がグレーアウトする
3. ✅ 単価0の場合に「不明」が表示される
4. ✅ Salesforce連携が正常に動作する
5. ✅ 既存機能に影響しない

### 推奨要件
1. ✅ ユーザビリティが適切
2. ✅ パフォーマンスが許容範囲内
3. ✅ セキュリティが確保されている

## テスト環境・データ

### テスト環境
- 開発環境（Development）
- テスト環境（Testing）
- ステージング環境（Staging）

### テストデータ
- 生年月日あり個人ソルバー
- 生年月日なし個人ソルバー
- 単価0の個人ソルバー
- 単価設定済み個人ソルバー

---

**作成日**: 2025-06-25  
**バージョン**: 1.0  
**作成者**: Claude Code  
**レビュー**: [TBD]